"use strict";var yM=Object.create;var ji=Object.defineProperty;var _M=Object.getOwnPropertyDescriptor;var SM=Object.getOwnPropertyNames;var EM=Object.getPrototypeOf,vM=Object.prototype.hasOwnProperty;var bM=(e,t,r)=>t in e?ji(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var y=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pt=(e,t)=>{for(var r in t)ji(e,r,{get:t[r],enumerable:!0})},Ry=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of SM(t))!vM.call(e,o)&&o!==r&&ji(e,o,{get:()=>t[o],enumerable:!(n=_M(t,o))||n.enumerable});return e};var b=(e,t,r)=>(r=e!=null?yM(EM(e)):{},Ry(t||!e||!e.__esModule?ji(r,"default",{value:e,enumerable:!0}):r,e)),q=e=>Ry(ji({},"__esModule",{value:!0}),e);var _=(e,t,r)=>bM(e,typeof t!="symbol"?t+"":t,r);var Zr=E(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.TextApiResponse=W.BlobApiResponse=W.VoidApiResponse=W.JSONApiResponse=W.COLLECTION_FORMATS=W.RequiredError=W.FetchError=W.ResponseError=W.BaseAPI=W.DefaultConfig=W.Configuration=W.BASE_PATH=void 0;W.querystring=Tp;W.exists=OM;W.mapValues=PM;W.canConsumeForm=RM;W.BASE_PATH="http://localhost:3000".replace(/\/+$/,"");var Rc=class{constructor(t={}){this.configuration=t}set config(t){this.configuration=t}get basePath(){return this.configuration.basePath!=null?this.configuration.basePath:W.BASE_PATH}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||Tp}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let t=this.configuration.apiKey;if(t)return typeof t=="function"?t:()=>t}get accessToken(){let t=this.configuration.accessToken;if(t)return typeof t=="function"?t:async()=>t}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}};W.Configuration=Rc;W.DefaultConfig=new Rc;var Tc=class e{constructor(t=W.DefaultConfig){this.configuration=t,this.fetchApi=async(r,n)=>{let o={url:r,init:n};for(let i of this.middleware)i.pre&&(o=await i.pre({fetch:this.fetchApi,...o})||o);let s;try{s=await(this.configuration.fetchApi||fetch)(o.url,o.init)}catch(i){for(let a of this.middleware)a.onError&&(s=await a.onError({fetch:this.fetchApi,url:o.url,init:o.init,error:i,response:s?s.clone():void 0})||s);if(s===void 0)throw i instanceof Error?new Ac(i,"The request failed and the interceptors did not return an alternative response"):i}for(let i of this.middleware)i.post&&(s=await i.post({fetch:this.fetchApi,url:o.url,init:o.init,response:s.clone()})||s);return s},this.middleware=t.middleware}withMiddleware(...t){let r=this.clone();return r.middleware=r.middleware.concat(...t),r}withPreMiddleware(...t){let r=t.map(n=>({pre:n}));return this.withMiddleware(...r)}withPostMiddleware(...t){let r=t.map(n=>({post:n}));return this.withMiddleware(...r)}isJsonMime(t){return t?e.jsonRegex.test(t):!1}async request(t,r){let{url:n,init:o}=await this.createFetchParams(t,r),s=await this.fetchApi(n,o);if(s&&s.status>=200&&s.status<300)return s;throw new xc(s,"Response returned an error code")}async createFetchParams(t,r){let n=this.configuration.basePath+t.path;t.query!==void 0&&Object.keys(t.query).length!==0&&(n+="?"+this.configuration.queryParamsStringify(t.query));let o=Object.assign({},this.configuration.headers,t.headers);Object.keys(o).forEach(l=>o[l]===void 0?delete o[l]:{});let s=typeof r=="function"?r:async()=>r,i={method:t.method,headers:o,body:t.body,credentials:this.configuration.credentials},a={...i,...await s({init:i,context:t})},c;CM(a.body)||a.body instanceof URLSearchParams||wM(a.body)?c=a.body:this.isJsonMime(o["Content-Type"])?c=JSON.stringify(a.body):c=a.body;let d={...a,body:c};return{url:n,init:d}}clone(){let t=this.constructor,r=new t(this.configuration);return r.middleware=this.middleware.slice(),r}};W.BaseAPI=Tc;Tc.jsonRegex=new RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");function wM(e){return typeof Blob<"u"&&e instanceof Blob}function CM(e){return typeof FormData<"u"&&e instanceof FormData}var xc=class extends Error{constructor(t,r){super(r),this.response=t,this.name="ResponseError"}};W.ResponseError=xc;var Ac=class extends Error{constructor(t,r){super(r),this.cause=t,this.name="FetchError"}};W.FetchError=Ac;var wp=class extends Error{constructor(t,r){super(r),this.field=t,this.name="RequiredError"}};W.RequiredError=wp;W.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};function Tp(e,t=""){return Object.keys(e).map(r=>Ty(r,e[r],t)).filter(r=>r.length>0).join("&")}function Ty(e,t,r=""){let n=r+(r.length?`[${e}]`:e);if(t instanceof Array){let o=t.map(s=>encodeURIComponent(String(s))).join(`&${encodeURIComponent(n)}=`);return`${encodeURIComponent(n)}=${o}`}if(t instanceof Set){let o=Array.from(t);return Ty(e,o,r)}return t instanceof Date?`${encodeURIComponent(n)}=${encodeURIComponent(t.toISOString())}`:t instanceof Object?Tp(t,n):`${encodeURIComponent(n)}=${encodeURIComponent(String(t))}`}function OM(e,t){let r=e[t];return r!=null}function PM(e,t){return Object.keys(e).reduce((r,n)=>({...r,[n]:t(e[n])}),{})}function RM(e){for(let t of e)if(t.contentType==="multipart/form-data")return!0;return!1}var Cp=class{constructor(t,r=n=>n){this.raw=t,this.transformer=r}async value(){return this.transformer(await this.raw.json())}};W.JSONApiResponse=Cp;var Op=class{constructor(t){this.raw=t}async value(){}};W.VoidApiResponse=Op;var Pp=class{constructor(t){this.raw=t}async value(){return await this.raw.blob()}};W.BlobApiResponse=Pp;var Rp=class{constructor(t){this.raw=t}async value(){return await this.raw.text()}};W.TextApiResponse=Rp});var Iy=E(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.instanceOfCapabilitiesProviderIdCapabilityIdGet404Response=TM;en.CapabilitiesProviderIdCapabilityIdGet404ResponseFromJSON=xM;en.CapabilitiesProviderIdCapabilityIdGet404ResponseFromJSONTyped=xy;en.CapabilitiesProviderIdCapabilityIdGet404ResponseToJSON=AM;en.CapabilitiesProviderIdCapabilityIdGet404ResponseToJSONTyped=Ay;function TM(e){return!(!("error"in e)||e.error===void 0)}function xM(e){return xy(e,!1)}function xy(e,t){return e==null?e:{error:e.error}}function AM(e){return Ay(e,!1)}function Ay(e,t=!1){return e==null?e:{error:e.error}}});var xp=E(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.CapabilityRisk=void 0;Je.instanceOfCapabilityRisk=IM;Je.CapabilityRiskFromJSON=NM;Je.CapabilityRiskFromJSONTyped=Ny;Je.CapabilityRiskToJSON=DM;Je.CapabilityRiskToJSONTyped=MM;Je.CapabilityRisk={Low:"LOW",Medium:"MEDIUM",High:"HIGH"};function IM(e){for(let t in Je.CapabilityRisk)if(Object.prototype.hasOwnProperty.call(Je.CapabilityRisk,t)&&Je.CapabilityRisk[t]===e)return!0;return!1}function NM(e){return Ny(e,!1)}function Ny(e,t){return e}function DM(e){return e}function MM(e,t){return e}});var Ic=E(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.instanceOfCapability=kM;tn.CapabilityFromJSON=FM;tn.CapabilityFromJSONTyped=My;tn.CapabilityToJSON=UM;tn.CapabilityToJSONTyped=ky;var Dy=xp();function kM(e){return!(!("id"in e)||e.id===void 0||!("displayName"in e)||e.displayName===void 0||!("description"in e)||e.description===void 0||!("paramsSchema"in e)||e.paramsSchema===void 0||!("resultSchema"in e)||e.resultSchema===void 0||!("requiredScopes"in e)||e.requiredScopes===void 0||!("risk"in e)||e.risk===void 0||!("available"in e)||e.available===void 0)}function FM(e){return My(e,!1)}function My(e,t){return e==null?e:{id:e.id,displayName:e.displayName,description:e.description,paramsSchema:e.paramsSchema,resultSchema:e.resultSchema,requiredScopes:e.requiredScopes,risk:(0,Dy.CapabilityRiskFromJSON)(e.risk),available:e.available}}function UM(e){return ky(e,!1)}function ky(e,t=!1){return e==null?e:{id:e.id,displayName:e.displayName,description:e.description,paramsSchema:e.paramsSchema,resultSchema:e.resultSchema,requiredScopes:e.requiredScopes,risk:(0,Dy.CapabilityRiskToJSON)(e.risk),available:e.available}}});var Ap=E(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.instanceOfHealthGet200ResponseDependenciesDatabase=LM;rn.HealthGet200ResponseDependenciesDatabaseFromJSON=BM;rn.HealthGet200ResponseDependenciesDatabaseFromJSONTyped=Fy;rn.HealthGet200ResponseDependenciesDatabaseToJSON=jM;rn.HealthGet200ResponseDependenciesDatabaseToJSONTyped=Uy;function LM(e){return!0}function BM(e){return Fy(e,!1)}function Fy(e,t){return e}function jM(e){return Uy(e,!1)}function Uy(e,t=!1){return e}});var Ip=E(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.instanceOfHealthGet200ResponseDependencies=HM;nn.HealthGet200ResponseDependenciesFromJSON=qM;nn.HealthGet200ResponseDependenciesFromJSONTyped=Ly;nn.HealthGet200ResponseDependenciesToJSON=$M;nn.HealthGet200ResponseDependenciesToJSONTyped=By;var Nc=Ap();function HM(e){return!(!("database"in e)||e.database===void 0||!("auth0"in e)||e.auth0===void 0)}function qM(e){return Ly(e,!1)}function Ly(e,t){return e==null?e:{database:(0,Nc.HealthGet200ResponseDependenciesDatabaseFromJSON)(e.database),auth0:(0,Nc.HealthGet200ResponseDependenciesDatabaseFromJSON)(e.auth0)}}function $M(e){return By(e,!1)}function By(e,t=!1){return e==null?e:{database:(0,Nc.HealthGet200ResponseDependenciesDatabaseToJSON)(e.database),auth0:(0,Nc.HealthGet200ResponseDependenciesDatabaseToJSON)(e.auth0)}}});var Np=E(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.instanceOfHealthGet200ResponseStatus=zM;on.HealthGet200ResponseStatusFromJSON=GM;on.HealthGet200ResponseStatusFromJSONTyped=jy;on.HealthGet200ResponseStatusToJSON=KM;on.HealthGet200ResponseStatusToJSONTyped=Hy;function zM(e){return!0}function GM(e){return jy(e,!1)}function jy(e,t){return e}function KM(e){return Hy(e,!1)}function Hy(e,t=!1){return e}});var Ky=E(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.instanceOfHealthGet200Response=VM;sn.HealthGet200ResponseFromJSON=JM;sn.HealthGet200ResponseFromJSONTyped=zy;sn.HealthGet200ResponseToJSON=WM;sn.HealthGet200ResponseToJSONTyped=Gy;var qy=Ip(),$y=Np();function VM(e){return!(!("status"in e)||e.status===void 0||!("timestamp"in e)||e.timestamp===void 0||!("version"in e)||e.version===void 0||!("uptime"in e)||e.uptime===void 0||!("dependencies"in e)||e.dependencies===void 0)}function JM(e){return zy(e,!1)}function zy(e,t){return e==null?e:{status:(0,$y.HealthGet200ResponseStatusFromJSON)(e.status),timestamp:new Date(e.timestamp),version:e.version,uptime:e.uptime,dependencies:(0,qy.HealthGet200ResponseDependenciesFromJSON)(e.dependencies)}}function WM(e){return Gy(e,!1)}function Gy(e,t=!1){return e==null?e:{status:(0,$y.HealthGet200ResponseStatusToJSON)(e.status),timestamp:e.timestamp.toISOString(),version:e.version,uptime:e.uptime,dependencies:(0,qy.HealthGet200ResponseDependenciesToJSON)(e.dependencies)}}});var Wy=E(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.OAuthErrorResponseStatusEnum=void 0;Gt.instanceOfOAuthErrorResponse=YM;Gt.OAuthErrorResponseFromJSON=XM;Gt.OAuthErrorResponseFromJSONTyped=Vy;Gt.OAuthErrorResponseToJSON=QM;Gt.OAuthErrorResponseToJSONTyped=Jy;Gt.OAuthErrorResponseStatusEnum={Failed:"failed"};function YM(e){return!(!("status"in e)||e.status===void 0||!("error"in e)||e.error===void 0||!("provider"in e)||e.provider===void 0)}function XM(e){return Vy(e,!1)}function Vy(e,t){return e==null?e:{status:e.status,error:e.error,errorDescription:e.errorDescription==null?void 0:e.errorDescription,provider:e.provider,redirectUrl:e.redirectUrl==null?void 0:e.redirectUrl}}function QM(e){return Jy(e,!1)}function Jy(e,t=!1){return e==null?e:{status:e.status,error:e.error,errorDescription:e.errorDescription,provider:e.provider,redirectUrl:e.redirectUrl}}});var Qy=E(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.OAuthSuccessResponseStatusEnum=void 0;Kt.instanceOfOAuthSuccessResponse=ZM;Kt.OAuthSuccessResponseFromJSON=ek;Kt.OAuthSuccessResponseFromJSONTyped=Yy;Kt.OAuthSuccessResponseToJSON=tk;Kt.OAuthSuccessResponseToJSONTyped=Xy;Kt.OAuthSuccessResponseStatusEnum={Completed:"completed"};function ZM(e){return!(!("status"in e)||e.status===void 0||!("message"in e)||e.message===void 0||!("connectionId"in e)||e.connectionId===void 0||!("provider"in e)||e.provider===void 0||!("grantedScopes"in e)||e.grantedScopes===void 0)}function ek(e){return Yy(e,!1)}function Yy(e,t){return e==null?e:{status:e.status,message:e.message,connectionId:e.connectionId,provider:e.provider,grantedScopes:e.grantedScopes,redirectUrl:e.redirectUrl==null?void 0:e.redirectUrl}}function tk(e){return Xy(e,!1)}function Xy(e,t=!1){return e==null?e:{status:e.status,message:e.message,connectionId:e.connectionId,provider:e.provider,grantedScopes:e.grantedScopes,redirectUrl:e.redirectUrl}}});var t_=E(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.OauthCallbackProviderGet200ResponseStatusEnum=void 0;Vt.instanceOfOauthCallbackProviderGet200Response=rk;Vt.OauthCallbackProviderGet200ResponseFromJSON=nk;Vt.OauthCallbackProviderGet200ResponseFromJSONTyped=Zy;Vt.OauthCallbackProviderGet200ResponseToJSON=ok;Vt.OauthCallbackProviderGet200ResponseToJSONTyped=e_;Vt.OauthCallbackProviderGet200ResponseStatusEnum={Completed:"completed"};function rk(e){return!(!("status"in e)||e.status===void 0||!("message"in e)||e.message===void 0||!("connectionId"in e)||e.connectionId===void 0||!("provider"in e)||e.provider===void 0||!("grantedScopes"in e)||e.grantedScopes===void 0)}function nk(e){return Zy(e,!1)}function Zy(e,t){return e==null?e:{status:e.status,message:e.message,connectionId:e.connectionId,provider:e.provider,grantedScopes:e.grantedScopes,redirectUrl:e.redirectUrl==null?void 0:e.redirectUrl}}function ok(e){return e_(e,!1)}function e_(e,t=!1){return e==null?e:{status:e.status,message:e.message,connectionId:e.connectionId,provider:e.provider,grantedScopes:e.grantedScopes,redirectUrl:e.redirectUrl}}});var o_=E(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.OauthCallbackProviderGet400ResponseStatusEnum=void 0;Jt.instanceOfOauthCallbackProviderGet400Response=sk;Jt.OauthCallbackProviderGet400ResponseFromJSON=ik;Jt.OauthCallbackProviderGet400ResponseFromJSONTyped=r_;Jt.OauthCallbackProviderGet400ResponseToJSON=ak;Jt.OauthCallbackProviderGet400ResponseToJSONTyped=n_;Jt.OauthCallbackProviderGet400ResponseStatusEnum={Failed:"failed"};function sk(e){return!(!("status"in e)||e.status===void 0||!("error"in e)||e.error===void 0||!("provider"in e)||e.provider===void 0)}function ik(e){return r_(e,!1)}function r_(e,t){return e==null?e:{status:e.status,error:e.error,errorDescription:e.errorDescription==null?void 0:e.errorDescription,provider:e.provider,redirectUrl:e.redirectUrl==null?void 0:e.redirectUrl}}function ak(e){return n_(e,!1)}function n_(e,t=!1){return e==null?e:{status:e.status,error:e.error,errorDescription:e.errorDescription,provider:e.provider,redirectUrl:e.redirectUrl}}});var a_=E(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.instanceOfOauthLaunchProviderGet302Response=ck;an.OauthLaunchProviderGet302ResponseFromJSON=dk;an.OauthLaunchProviderGet302ResponseFromJSONTyped=s_;an.OauthLaunchProviderGet302ResponseToJSON=uk;an.OauthLaunchProviderGet302ResponseToJSONTyped=i_;function ck(e){return!(!("location"in e)||e.location===void 0)}function dk(e){return s_(e,!1)}function s_(e,t){return e==null?e:{location:e.location}}function uk(e){return i_(e,!1)}function i_(e,t=!1){return e==null?e:{location:e.location}}});var u_=E(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.instanceOfOauthLaunchProviderGet400Response=lk;cn.OauthLaunchProviderGet400ResponseFromJSON=pk;cn.OauthLaunchProviderGet400ResponseFromJSONTyped=c_;cn.OauthLaunchProviderGet400ResponseToJSON=fk;cn.OauthLaunchProviderGet400ResponseToJSONTyped=d_;function lk(e){return!(!("error"in e)||e.error===void 0||!("message"in e)||e.message===void 0)}function pk(e){return c_(e,!1)}function c_(e,t){return e==null?e:{error:e.error,message:e.message}}function fk(e){return d_(e,!1)}function d_(e,t=!1){return e==null?e:{error:e.error,message:e.message}}});var f_=E(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.instanceOfPromptSpec=mk;dn.PromptSpecFromJSON=hk;dn.PromptSpecFromJSONTyped=l_;dn.PromptSpecToJSON=gk;dn.PromptSpecToJSONTyped=p_;function mk(e){return!(!("version"in e)||e.version===void 0||!("system"in e)||e.system===void 0)}function hk(e){return l_(e,!1)}function l_(e,t){return e==null?e:{version:e.version,system:e.system,user:e.user==null?void 0:e.user,schema:e.schema==null?void 0:e.schema}}function gk(e){return p_(e,!1)}function p_(e,t=!1){return e==null?e:{version:e.version,system:e.system,user:e.user,schema:e.schema}}});var Dc=E(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.ProviderAuth=void 0;We.instanceOfProviderAuth=yk;We.ProviderAuthFromJSON=_k;We.ProviderAuthFromJSONTyped=m_;We.ProviderAuthToJSON=Sk;We.ProviderAuthToJSONTyped=Ek;We.ProviderAuth={None:"none",Oauth2:"oauth2",ApiKey:"api_key",Basic:"basic"};function yk(e){for(let t in We.ProviderAuth)if(Object.prototype.hasOwnProperty.call(We.ProviderAuth,t)&&We.ProviderAuth[t]===e)return!0;return!1}function _k(e){return m_(e,!1)}function m_(e,t){return e}function Sk(e){return e}function Ek(e,t){return e}});var Mc=E(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.ProviderKind=void 0;Ye.instanceOfProviderKind=vk;Ye.ProviderKindFromJSON=bk;Ye.ProviderKindFromJSONTyped=h_;Ye.ProviderKindToJSON=wk;Ye.ProviderKindToJSONTyped=Ck;Ye.ProviderKind={Internal:"internal",External:"external"};function vk(e){for(let t in Ye.ProviderKind)if(Object.prototype.hasOwnProperty.call(Ye.ProviderKind,t)&&Ye.ProviderKind[t]===e)return!0;return!1}function bk(e){return h_(e,!1)}function h_(e,t){return e}function wk(e){return e}function Ck(e,t){return e}});var v_=E(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.instanceOfProviderCapabilities=Ok;un.ProviderCapabilitiesFromJSON=Pk;un.ProviderCapabilitiesFromJSONTyped=S_;un.ProviderCapabilitiesToJSON=Rk;un.ProviderCapabilitiesToJSONTyped=E_;var g_=Dc(),y_=Ic(),__=Mc();function Ok(e){return!(!("capabilities"in e)||e.capabilities===void 0||!("id"in e)||e.id===void 0||!("displayName"in e)||e.displayName===void 0||!("description"in e)||e.description===void 0||!("icon"in e)||e.icon===void 0||!("kind"in e)||e.kind===void 0||!("auth"in e)||e.auth===void 0)}function Pk(e){return S_(e,!1)}function S_(e,t){return e==null?e:{capabilities:e.capabilities.map(y_.CapabilityFromJSON),id:e.id,displayName:e.displayName,description:e.description,icon:e.icon,docsUrl:e.docsUrl==null?void 0:e.docsUrl,kind:(0,__.ProviderKindFromJSON)(e.kind),auth:(0,g_.ProviderAuthFromJSON)(e.auth)}}function Rk(e){return E_(e,!1)}function E_(e,t=!1){return e==null?e:{capabilities:e.capabilities.map(y_.CapabilityToJSON),id:e.id,displayName:e.displayName,description:e.description,icon:e.icon,docsUrl:e.docsUrl,kind:(0,__.ProviderKindToJSON)(e.kind),auth:(0,g_.ProviderAuthToJSON)(e.auth)}}});var R_=E(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.instanceOfProviderCapability=Tk;ln.ProviderCapabilityFromJSON=xk;ln.ProviderCapabilityFromJSONTyped=O_;ln.ProviderCapabilityToJSON=Ak;ln.ProviderCapabilityToJSONTyped=P_;var b_=Dc(),w_=Ic(),C_=Mc();function Tk(e){return!(!("capability"in e)||e.capability===void 0||!("id"in e)||e.id===void 0||!("displayName"in e)||e.displayName===void 0||!("description"in e)||e.description===void 0||!("icon"in e)||e.icon===void 0||!("kind"in e)||e.kind===void 0||!("auth"in e)||e.auth===void 0)}function xk(e){return O_(e,!1)}function O_(e,t){return e==null?e:{capability:(0,w_.CapabilityFromJSON)(e.capability),id:e.id,displayName:e.displayName,description:e.description,icon:e.icon,docsUrl:e.docsUrl==null?void 0:e.docsUrl,kind:(0,C_.ProviderKindFromJSON)(e.kind),auth:(0,b_.ProviderAuthFromJSON)(e.auth)}}function Ak(e){return P_(e,!1)}function P_(e,t=!1){return e==null?e:{capability:(0,w_.CapabilityToJSON)(e.capability),id:e.id,displayName:e.displayName,description:e.description,icon:e.icon,docsUrl:e.docsUrl,kind:(0,C_.ProviderKindToJSON)(e.kind),auth:(0,b_.ProviderAuthToJSON)(e.auth)}}});var Dp=E(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.instanceOfWebhooksSlackPostRequestOneOfAuthorizationsInner=Ik;pn.WebhooksSlackPostRequestOneOfAuthorizationsInnerFromJSON=Nk;pn.WebhooksSlackPostRequestOneOfAuthorizationsInnerFromJSONTyped=T_;pn.WebhooksSlackPostRequestOneOfAuthorizationsInnerToJSON=Dk;pn.WebhooksSlackPostRequestOneOfAuthorizationsInnerToJSONTyped=x_;function Ik(e){return!0}function Nk(e){return T_(e,!1)}function T_(e,t){return e==null?e:{enterpriseId:e.enterprise_id==null?void 0:e.enterprise_id,teamId:e.team_id==null?void 0:e.team_id,userId:e.user_id==null?void 0:e.user_id}}function Dk(e){return x_(e,!1)}function x_(e,t=!1){return e==null?e:{enterprise_id:e.enterpriseId,team_id:e.teamId,user_id:e.userId}}});var Mp=E(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.WebhooksSlackPostRequestOneOfTypeEnum=void 0;Wt.instanceOfWebhooksSlackPostRequestOneOf=Mk;Wt.WebhooksSlackPostRequestOneOfFromJSON=kk;Wt.WebhooksSlackPostRequestOneOfFromJSONTyped=I_;Wt.WebhooksSlackPostRequestOneOfToJSON=Fk;Wt.WebhooksSlackPostRequestOneOfToJSONTyped=N_;var A_=Dp();Wt.WebhooksSlackPostRequestOneOfTypeEnum={EventCallback:"event_callback"};function Mk(e){return!(!("token"in e)||e.token===void 0||!("teamId"in e)||e.teamId===void 0||!("apiAppId"in e)||e.apiAppId===void 0||!("event"in e)||e.event===void 0||!("type"in e)||e.type===void 0||!("authorizations"in e)||e.authorizations===void 0||!("eventContext"in e)||e.eventContext===void 0||!("eventId"in e)||e.eventId===void 0||!("eventTime"in e)||e.eventTime===void 0)}function kk(e){return I_(e,!1)}function I_(e,t){return e==null?e:{token:e.token,teamId:e.team_id,apiAppId:e.api_app_id,event:e.event,type:e.type,authorizations:e.authorizations.map(A_.WebhooksSlackPostRequestOneOfAuthorizationsInnerFromJSON),eventContext:e.event_context,eventId:e.event_id,eventTime:e.event_time}}function Fk(e){return N_(e,!1)}function N_(e,t=!1){return e==null?e:{token:e.token,team_id:e.teamId,api_app_id:e.apiAppId,event:e.event,type:e.type,authorizations:e.authorizations.map(A_.WebhooksSlackPostRequestOneOfAuthorizationsInnerToJSON),event_context:e.eventContext,event_id:e.eventId,event_time:e.eventTime}}});var kp=E(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.WebhooksSlackPostRequestOneOf1TypeEnum=void 0;Yt.instanceOfWebhooksSlackPostRequestOneOf1=Uk;Yt.WebhooksSlackPostRequestOneOf1FromJSON=Lk;Yt.WebhooksSlackPostRequestOneOf1FromJSONTyped=D_;Yt.WebhooksSlackPostRequestOneOf1ToJSON=Bk;Yt.WebhooksSlackPostRequestOneOf1ToJSONTyped=M_;Yt.WebhooksSlackPostRequestOneOf1TypeEnum={UrlVerification:"url_verification"};function Uk(e){return!(!("token"in e)||e.token===void 0||!("type"in e)||e.type===void 0||!("challenge"in e)||e.challenge===void 0)}function Lk(e){return D_(e,!1)}function D_(e,t){return e==null?e:{token:e.token,type:e.type,challenge:e.challenge}}function Bk(e){return M_(e,!1)}function M_(e,t=!1){return e==null?e:{token:e.token,type:e.type,challenge:e.challenge}}});var U_=E(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.WebhooksSlackPostRequestFromJSON=jk;Ro.WebhooksSlackPostRequestFromJSONTyped=k_;Ro.WebhooksSlackPostRequestToJSON=Hk;Ro.WebhooksSlackPostRequestToJSONTyped=F_;var kc=Mp(),Fc=kp();function jk(e){return k_(e,!1)}function k_(e,t){return e==null?e:(0,kc.instanceOfWebhooksSlackPostRequestOneOf)(e)?(0,kc.WebhooksSlackPostRequestOneOfFromJSONTyped)(e,!0):(0,Fc.instanceOfWebhooksSlackPostRequestOneOf1)(e)?(0,Fc.WebhooksSlackPostRequestOneOf1FromJSONTyped)(e,!0):{}}function Hk(e){return F_(e,!1)}function F_(e,t=!1){return e==null?e:(0,kc.instanceOfWebhooksSlackPostRequestOneOf)(e)?(0,kc.WebhooksSlackPostRequestOneOfToJSON)(e):(0,Fc.instanceOfWebhooksSlackPostRequestOneOf1)(e)?(0,Fc.WebhooksSlackPostRequestOneOf1ToJSON)(e):{}}});var To=E(ne=>{"use strict";var qk=ne&&ne.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pe=ne&&ne.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qk(t,e,r)};Object.defineProperty(ne,"__esModule",{value:!0});pe(Iy(),ne);pe(Ic(),ne);pe(xp(),ne);pe(Ky(),ne);pe(Ip(),ne);pe(Ap(),ne);pe(Np(),ne);pe(Wy(),ne);pe(Qy(),ne);pe(t_(),ne);pe(o_(),ne);pe(a_(),ne);pe(u_(),ne);pe(f_(),ne);pe(Dc(),ne);pe(v_(),ne);pe(R_(),ne);pe(Mc(),ne);pe(U_(),ne);pe(Mp(),ne);pe(kp(),ne);pe(Dp(),ne)});var B_=E(St=>{"use strict";var $k=St&&St.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zk=St&&St.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Gk=St&&St.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&$k(r,t,n[o]);return zk(r,t),r}}();Object.defineProperty(St,"__esModule",{value:!0});St.CapabilitiesApi=void 0;var fn=Gk(Zr()),L_=To(),Fp=class extends fn.BaseAPI{async capabilitiesGetRaw(t,r){if(t.orgId==null)throw new fn.RequiredError("orgId",'Required parameter "orgId" was null or undefined when calling capabilitiesGet().');let n={};t.orgId!=null&&(n.orgId=t.orgId);let o={},s=await this.request({path:"/capabilities",method:"GET",headers:o,query:n},r);return new fn.JSONApiResponse(s,i=>i.map(L_.ProviderCapabilitiesFromJSON))}async capabilitiesGet(t,r){return await(await this.capabilitiesGetRaw(t,r)).value()}async capabilitiesProviderIdCapabilityIdGetRaw(t,r){if(t.orgId==null)throw new fn.RequiredError("orgId",'Required parameter "orgId" was null or undefined when calling capabilitiesProviderIdCapabilityIdGet().');if(t.providerId==null)throw new fn.RequiredError("providerId",'Required parameter "providerId" was null or undefined when calling capabilitiesProviderIdCapabilityIdGet().');if(t.capabilityId==null)throw new fn.RequiredError("capabilityId",'Required parameter "capabilityId" was null or undefined when calling capabilitiesProviderIdCapabilityIdGet().');let n={};t.orgId!=null&&(n.orgId=t.orgId);let o={},s=await this.request({path:"/capabilities/{providerId}/{capabilityId}".replace("{providerId}",encodeURIComponent(String(t.providerId))).replace("{capabilityId}",encodeURIComponent(String(t.capabilityId))),method:"GET",headers:o,query:n},r);return new fn.JSONApiResponse(s,i=>(0,L_.ProviderCapabilityFromJSON)(i))}async capabilitiesProviderIdCapabilityIdGet(t,r){return await(await this.capabilitiesProviderIdCapabilityIdGetRaw(t,r)).value()}};St.CapabilitiesApi=Fp});var j_=E(Et=>{"use strict";var Kk=Et&&Et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Vk=Et&&Et.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jk=Et&&Et.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&Kk(r,t,n[o]);return Vk(r,t),r}}();Object.defineProperty(Et,"__esModule",{value:!0});Et.HealthApi=void 0;var Hi=Jk(Zr()),Uc=To(),Up=class extends Hi.BaseAPI{async healthGetRaw(t){let r={},n={},o=await this.request({path:"/health",method:"GET",headers:n,query:r},t);return new Hi.JSONApiResponse(o,s=>(0,Uc.HealthGet200ResponseFromJSON)(s))}async healthGet(t){return await(await this.healthGetRaw(t)).value()}async infoGetRaw(t){let r={},n={},o=await this.request({path:"/info",method:"GET",headers:n,query:r},t);return new Hi.JSONApiResponse(o,s=>(0,Uc.HealthGet200ResponseFromJSON)(s))}async infoGet(t){return await(await this.infoGetRaw(t)).value()}async liveGetRaw(t){let r={},n={},o=await this.request({path:"/live",method:"GET",headers:n,query:r},t);return new Hi.JSONApiResponse(o,s=>(0,Uc.HealthGet200ResponseFromJSON)(s))}async liveGet(t){return await(await this.liveGetRaw(t)).value()}async readyGetRaw(t){let r={},n={},o=await this.request({path:"/ready",method:"GET",headers:n,query:r},t);return new Hi.JSONApiResponse(o,s=>(0,Uc.HealthGet200ResponseFromJSON)(s))}async readyGet(t){return await(await this.readyGetRaw(t)).value()}};Et.HealthApi=Up});var H_=E(vt=>{"use strict";var Wk=vt&&vt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Yk=vt&&vt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Xk=vt&&vt.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&Wk(r,t,n[o]);return Yk(r,t),r}}();Object.defineProperty(vt,"__esModule",{value:!0});vt.OAuthApi=void 0;var Xt=Xk(Zr()),Qk=To(),Lp=class extends Xt.BaseAPI{async oauthCallbackProviderGetRaw(t,r){if(t.code==null)throw new Xt.RequiredError("code",'Required parameter "code" was null or undefined when calling oauthCallbackProviderGet().');if(t.state==null)throw new Xt.RequiredError("state",'Required parameter "state" was null or undefined when calling oauthCallbackProviderGet().');if(t.provider==null)throw new Xt.RequiredError("provider",'Required parameter "provider" was null or undefined when calling oauthCallbackProviderGet().');let n={};t.code!=null&&(n.code=t.code),t.state!=null&&(n.state=t.state),t.error!=null&&(n.error=t.error),t.errorDescription!=null&&(n.errorDescription=t.errorDescription),t.errorUri!=null&&(n.errorUri=t.errorUri);let o={},s=await this.request({path:"/oauth/callback/{provider}".replace("{provider}",encodeURIComponent(String(t.provider))),method:"GET",headers:o,query:n},r);return new Xt.JSONApiResponse(s,i=>(0,Qk.OauthCallbackProviderGet200ResponseFromJSON)(i))}async oauthCallbackProviderGet(t,r){return await(await this.oauthCallbackProviderGetRaw(t,r)).value()}async oauthLaunchProviderGetRaw(t,r){if(t.orgId==null)throw new Xt.RequiredError("orgId",'Required parameter "orgId" was null or undefined when calling oauthLaunchProviderGet().');if(t.scopes==null)throw new Xt.RequiredError("scopes",'Required parameter "scopes" was null or undefined when calling oauthLaunchProviderGet().');if(t.provider==null)throw new Xt.RequiredError("provider",'Required parameter "provider" was null or undefined when calling oauthLaunchProviderGet().');let n={};t.orgId!=null&&(n.orgId=t.orgId),t.scopes!=null&&(n.scopes=t.scopes);let o={},s=await this.request({path:"/oauth/launch/{provider}".replace("{provider}",encodeURIComponent(String(t.provider))),method:"GET",headers:o,query:n},r);return new Xt.VoidApiResponse(s)}async oauthLaunchProviderGet(t,r){await this.oauthLaunchProviderGetRaw(t,r)}};vt.OAuthApi=Lp});var q_=E(bt=>{"use strict";var Zk=bt&&bt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eF=bt&&bt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tF=bt&&bt.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&Zk(r,t,n[o]);return eF(r,t),r}}();Object.defineProperty(bt,"__esModule",{value:!0});bt.ProxyApi=void 0;var xo=tF(Zr()),Bp=class extends xo.BaseAPI{async proxyProviderIdCapabilityIdPostRaw(t,r){if(t.orgId==null)throw new xo.RequiredError("orgId",'Required parameter "orgId" was null or undefined when calling proxyProviderIdCapabilityIdPost().');if(t.providerId==null)throw new xo.RequiredError("providerId",'Required parameter "providerId" was null or undefined when calling proxyProviderIdCapabilityIdPost().');if(t.capabilityId==null)throw new xo.RequiredError("capabilityId",'Required parameter "capabilityId" was null or undefined when calling proxyProviderIdCapabilityIdPost().');let n={};t.orgId!=null&&(n.orgId=t.orgId);let o={};o["Content-Type"]="application/json";let s=await this.request({path:"/proxy/{providerId}/{capabilityId}".replace("{providerId}",encodeURIComponent(String(t.providerId))).replace("{capabilityId}",encodeURIComponent(String(t.capabilityId))),method:"POST",headers:o,query:n,body:t.body},r);return this.isJsonMime(s.headers.get("content-type"))?new xo.JSONApiResponse(s):new xo.TextApiResponse(s)}async proxyProviderIdCapabilityIdPost(t,r){return await(await this.proxyProviderIdCapabilityIdPostRaw(t,r)).value()}};bt.ProxyApi=Bp});var z_=E(wt=>{"use strict";var rF=wt&&wt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nF=wt&&wt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oF=wt&&wt.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&rF(r,t,n[o]);return nF(r,t),r}}();Object.defineProperty(wt,"__esModule",{value:!0});wt.WebhooksApi=void 0;var $_=oF(Zr()),sF=To(),jp=class extends $_.BaseAPI{async webhooksSlackPostRaw(t,r){let n={},o={};o["Content-Type"]="application/json";let s=await this.request({path:"/webhooks/slack",method:"POST",headers:o,query:n,body:(0,sF.WebhooksSlackPostRequestToJSON)(t.webhooksSlackPostRequest)},r);return new $_.VoidApiResponse(s)}async webhooksSlackPost(t={},r){await this.webhooksSlackPostRaw(t,r)}};wt.WebhooksApi=jp});var G_=E(ft=>{"use strict";var iF=ft&&ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qi=ft&&ft.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&iF(t,e,r)};Object.defineProperty(ft,"__esModule",{value:!0});qi(B_(),ft);qi(j_(),ft);qi(H_(),ft);qi(q_(),ft);qi(z_(),ft)});var K_=E(Qt=>{"use strict";var aF=Qt&&Qt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hp=Qt&&Qt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&aF(t,e,r)};Object.defineProperty(Qt,"__esModule",{value:!0});Hp(Zr(),Qt);Hp(G_(),Qt);Hp(To(),Qt)});var Ct=E((SY,tS)=>{var Lc=Object.defineProperty,cF=Object.getOwnPropertyDescriptor,dF=Object.getOwnPropertyNames,uF=Object.prototype.hasOwnProperty,Bc=(e,t)=>Lc(e,"name",{value:t,configurable:!0}),lF=(e,t)=>{for(var r in t)Lc(e,r,{get:t[r],enumerable:!0})},pF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dF(t))!uF.call(e,o)&&o!==r&&Lc(e,o,{get:()=>t[o],enumerable:!(n=cF(t,o))||n.enumerable});return e},fF=e=>pF(Lc({},"__esModule",{value:!0}),e),V_={};lF(V_,{AlgorithmId:()=>X_,EndpointURLScheme:()=>Y_,FieldPosition:()=>Q_,HttpApiKeyAuthLocation:()=>W_,HttpAuthLocation:()=>J_,IniSectionType:()=>Z_,RequestHandlerProtocol:()=>eS,SMITHY_CONTEXT_KEY:()=>_F,getDefaultClientConfiguration:()=>gF,resolveDefaultRuntimeConfig:()=>yF});tS.exports=fF(V_);var J_=(e=>(e.HEADER="header",e.QUERY="query",e))(J_||{}),W_=(e=>(e.HEADER="header",e.QUERY="query",e))(W_||{}),Y_=(e=>(e.HTTP="http",e.HTTPS="https",e))(Y_||{}),X_=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(X_||{}),mF=Bc(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),hF=Bc(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),gF=Bc(e=>mF(e),"getDefaultClientConfiguration"),yF=Bc(e=>hF(e),"resolveDefaultRuntimeConfig"),Q_=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Q_||{}),_F="__smithy_context",Z_=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Z_||{}),eS=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(eS||{})});var ie=E((EY,iS)=>{var jc=Object.defineProperty,SF=Object.getOwnPropertyDescriptor,EF=Object.getOwnPropertyNames,vF=Object.prototype.hasOwnProperty,yr=(e,t)=>jc(e,"name",{value:t,configurable:!0}),bF=(e,t)=>{for(var r in t)jc(e,r,{get:t[r],enumerable:!0})},wF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of EF(t))!vF.call(e,o)&&o!==r&&jc(e,o,{get:()=>t[o],enumerable:!(n=SF(t,o))||n.enumerable});return e},CF=e=>wF(jc({},"__esModule",{value:!0}),e),rS={};bF(rS,{Field:()=>RF,Fields:()=>TF,HttpRequest:()=>xF,HttpResponse:()=>AF,IHttpRequest:()=>nS.HttpRequest,getHttpHandlerExtensionConfiguration:()=>OF,isValidHostname:()=>sS,resolveHttpHandlerRuntimeConfig:()=>PF});iS.exports=CF(rS);var OF=yr(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),PF=yr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),nS=Ct(),Ao,RF=(Ao=class{constructor({name:t,kind:r=nS.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},yr(Ao,"Field"),Ao),Io,TF=(Io=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},yr(Io,"Fields"),Io),gr,xF=(gr=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new gr({...t,headers:{...t.headers}});return r.query&&(r.query=oS(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return gr.clone(this)}},yr(gr,"HttpRequest"),gr);function oS(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}yr(oS,"cloneQuery");var No,AF=(No=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}},yr(No,"HttpResponse"),No);function sS(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}yr(sS,"isValidHostname")});var $i=E((vY,lS)=>{"use strict";var qc=Object.defineProperty,IF=Object.getOwnPropertyDescriptor,NF=Object.getOwnPropertyNames,DF=Object.prototype.hasOwnProperty,Hc=(e,t)=>qc(e,"name",{value:t,configurable:!0}),MF=(e,t)=>{for(var r in t)qc(e,r,{get:t[r],enumerable:!0})},kF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of NF(t))!DF.call(e,o)&&o!==r&&qc(e,o,{get:()=>t[o],enumerable:!(n=IF(t,o))||n.enumerable});return e},FF=e=>kF(qc({},"__esModule",{value:!0}),e),aS={};MF(aS,{getHostHeaderPlugin:()=>LF,hostHeaderMiddleware:()=>dS,hostHeaderMiddlewareOptions:()=>uS,resolveHostHeaderConfig:()=>cS});lS.exports=FF(aS);var UF=ie();function cS(e){return e}Hc(cS,"resolveHostHeaderConfig");var dS=Hc(e=>t=>async r=>{if(!UF.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),uS={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},LF=Hc(e=>({applyToStack:Hc(t=>{t.add(dS(e),uS)},"applyToStack")}),"getHostHeaderPlugin")});var zi=E((bY,hS)=>{"use strict";var $c=Object.defineProperty,BF=Object.getOwnPropertyDescriptor,jF=Object.getOwnPropertyNames,HF=Object.prototype.hasOwnProperty,qp=(e,t)=>$c(e,"name",{value:t,configurable:!0}),qF=(e,t)=>{for(var r in t)$c(e,r,{get:t[r],enumerable:!0})},$F=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jF(t))!HF.call(e,o)&&o!==r&&$c(e,o,{get:()=>t[o],enumerable:!(n=BF(t,o))||n.enumerable});return e},zF=e=>$F($c({},"__esModule",{value:!0}),e),pS={};qF(pS,{getLoggerPlugin:()=>GF,loggerMiddleware:()=>fS,loggerMiddlewareOptions:()=>mS});hS.exports=zF(pS);var fS=qp(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:d}=a,l=c??t.inputFilterSensitiveLog,u=d??t.outputFilterSensitiveLog,{$metadata:p,...h}=n.output;return i?.info?.({clientName:o,commandName:s,input:l(r.input),output:u(h),metadata:p}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,d=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:d(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),mS={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},GF=qp(e=>({applyToStack:qp(t=>{t.add(fS(),mS)},"applyToStack")}),"getLoggerPlugin")});var Gi=E((wY,SS)=>{"use strict";var Gc=Object.defineProperty,KF=Object.getOwnPropertyDescriptor,VF=Object.getOwnPropertyNames,JF=Object.prototype.hasOwnProperty,zc=(e,t)=>Gc(e,"name",{value:t,configurable:!0}),WF=(e,t)=>{for(var r in t)Gc(e,r,{get:t[r],enumerable:!0})},YF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VF(t))!JF.call(e,o)&&o!==r&&Gc(e,o,{get:()=>t[o],enumerable:!(n=KF(t,o))||n.enumerable});return e},XF=e=>YF(Gc({},"__esModule",{value:!0}),e),gS={};WF(gS,{addRecursionDetectionMiddlewareOptions:()=>_S,getRecursionDetectionPlugin:()=>t1,recursionDetectionMiddleware:()=>yS});SS.exports=XF(gS);var QF=ie(),$p="X-Amzn-Trace-Id",ZF="AWS_LAMBDA_FUNCTION_NAME",e1="_X_AMZN_TRACE_ID",yS=zc(e=>t=>async r=>{let{request:n}=r;if(!QF.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===$p.toLowerCase())??$p;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[ZF],i=process.env[e1],a=zc(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(s)&&a(i)&&(n.headers[$p]=i),t({...r,request:n})},"recursionDetectionMiddleware"),_S={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},t1=zc(e=>({applyToStack:zc(t=>{t.add(yS(e),_S)},"applyToStack")}),"getRecursionDetectionPlugin")});var zp,r1,ES=y(()=>{zp=b(Ct()),r1=e=>e[zp.SMITHY_CONTEXT_KEY]||(e[zp.SMITHY_CONTEXT_KEY]={})});var ze=E((OY,CS)=>{var Kc=Object.defineProperty,n1=Object.getOwnPropertyDescriptor,o1=Object.getOwnPropertyNames,s1=Object.prototype.hasOwnProperty,bS=(e,t)=>Kc(e,"name",{value:t,configurable:!0}),i1=(e,t)=>{for(var r in t)Kc(e,r,{get:t[r],enumerable:!0})},a1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of o1(t))!s1.call(e,o)&&o!==r&&Kc(e,o,{get:()=>t[o],enumerable:!(n=n1(t,o))||n.enumerable});return e},c1=e=>a1(Kc({},"__esModule",{value:!0}),e),wS={};i1(wS,{getSmithyContext:()=>d1,normalizeProvider:()=>u1});CS.exports=c1(wS);var vS=Ct(),d1=bS(e=>e[vS.SMITHY_CONTEXT_KEY]||(e[vS.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),u1=bS(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var OS,PS=y(()=>{OS=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function l1(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var RY,RS,Ki,Vc=y(()=>{RY=b(Ct()),RS=b(ze());PS();Ki=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=OS(s,i),c=l1(e.httpAuthSchemes),d=(0,RS.getSmithyContext)(n),l=[];for(let u of a){let p=c.get(u.schemeId);if(!p){l.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}let h=p.identityProvider(await t.identityProviderConfigProvider(e));if(!h){l.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:S={}}=u.propertiesExtractor?.(e,n)||{};u.identityProperties=Object.assign(u.identityProperties||{},g),u.signingProperties=Object.assign(u.signingProperties||{},S),d.selectedHttpAuthScheme={httpAuthOption:u,identity:await h(u.identityProperties),signer:p.signer};break}if(!d.selectedHttpAuthScheme)throw new Error(l.join(`
`));return r(o)}});var TS,Vi,xS=y(()=>{Vc();TS={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Vi=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Ki(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),TS)}})});var _r=E((DY,FS)=>{var Jc=Object.defineProperty,p1=Object.getOwnPropertyDescriptor,f1=Object.getOwnPropertyNames,m1=Object.prototype.hasOwnProperty,Wc=(e,t)=>Jc(e,"name",{value:t,configurable:!0}),h1=(e,t)=>{for(var r in t)Jc(e,r,{get:t[r],enumerable:!0})},g1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of f1(t))!m1.call(e,o)&&o!==r&&Jc(e,o,{get:()=>t[o],enumerable:!(n=p1(t,o))||n.enumerable});return e},y1=e=>g1(Jc({},"__esModule",{value:!0}),e),AS={};h1(AS,{deserializerMiddleware:()=>IS,deserializerMiddlewareOption:()=>DS,getSerdePlugin:()=>kS,serializerMiddleware:()=>NS,serializerMiddlewareOption:()=>MS});FS.exports=y1(AS);var _1=ie(),IS=Wc((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(_1.HttpResponse.isInstance(s)){let{headers:c={}}=s,d=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:Gp(/^x-[\w-]+-request-?id$/,d),extendedRequestId:Gp(/^x-[\w-]+-id-2$/,d),cfId:Gp(/^x-[\w-]+-cf-id$/,d)}}}catch{}}throw i}},"deserializerMiddleware"),Gp=Wc((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),NS=Wc((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),DS={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},MS={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function kS(e,t,r){return{applyToStack:n=>{n.add(IS(e,r),DS),n.add(NS(e,t),MS)}}}Wc(kS,"getSerdePlugin")});var US,LS,S1,BS=y(()=>{US=b(_r());Vc();LS={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:US.serializerMiddlewareOption.name},S1=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Ki(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),LS)}})});var jS=y(()=>{Vc();xS();BS()});var HS,jY,qS,E1,v1,Kp,Vp=y(()=>{HS=b(ie()),jY=b(Ct()),qS=b(ze()),E1=e=>t=>{throw t},v1=(e,t)=>{},Kp=e=>(t,r)=>async n=>{if(!HS.HttpRequest.isInstance(n.request))return t(n);let s=(0,qS.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,d=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||E1)(i));return(c.successHandler||v1)(d.response,i),d}});var $S,Ji,zS=y(()=>{Vp();$S={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Ji=e=>({applyToStack:t=>{t.addRelativeTo(Kp(e),$S)}})});var GS=y(()=>{Vp();zS()});var Sr,KS=y(()=>{Sr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function VS(e,t,r,n,o){return async function*(i,a,...c){let d=a,l=i.startingToken??d[r],u=!0,p;for(;u;){if(d[r]=l,o&&(d[o]=d[o]??i.pageSize),i.client instanceof e)p=await b1(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield p;let h=l;l=w1(p,n),u=!!(l&&(!i.stopOnSameToken||l!==h))}return void 0}}var b1,w1,JS=y(()=>{b1=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};w1=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var Jp=E((YY,YS)=>{var Yc=Object.defineProperty,C1=Object.getOwnPropertyDescriptor,O1=Object.getOwnPropertyNames,P1=Object.prototype.hasOwnProperty,R1=(e,t)=>Yc(e,"name",{value:t,configurable:!0}),T1=(e,t)=>{for(var r in t)Yc(e,r,{get:t[r],enumerable:!0})},x1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of O1(t))!P1.call(e,o)&&o!==r&&Yc(e,o,{get:()=>t[o],enumerable:!(n=C1(t,o))||n.enumerable});return e},A1=e=>x1(Yc({},"__esModule",{value:!0}),e),WS={};T1(WS,{isArrayBuffer:()=>I1});YS.exports=A1(WS);var I1=R1(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Do=E((XY,ZS)=>{var Xc=Object.defineProperty,N1=Object.getOwnPropertyDescriptor,D1=Object.getOwnPropertyNames,M1=Object.prototype.hasOwnProperty,XS=(e,t)=>Xc(e,"name",{value:t,configurable:!0}),k1=(e,t)=>{for(var r in t)Xc(e,r,{get:t[r],enumerable:!0})},F1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D1(t))!M1.call(e,o)&&o!==r&&Xc(e,o,{get:()=>t[o],enumerable:!(n=N1(t,o))||n.enumerable});return e},U1=e=>F1(Xc({},"__esModule",{value:!0}),e),QS={};k1(QS,{fromArrayBuffer:()=>B1,fromString:()=>j1});ZS.exports=U1(QS);var L1=Jp(),Wp=require("buffer"),B1=XS((e,t=0,r=e.byteLength-t)=>{if(!(0,L1.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Wp.Buffer.from(e,t,r)},"fromArrayBuffer"),j1=XS((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Wp.Buffer.from(e,t):Wp.Buffer.from(e)},"fromString")});var eE=E(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.fromBase64=void 0;var H1=Do(),q1=/^[A-Za-z0-9+/]*={0,2}$/,$1=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!q1.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,H1.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Qc.fromBase64=$1});var Ce=E((ZY,oE)=>{var Zc=Object.defineProperty,z1=Object.getOwnPropertyDescriptor,G1=Object.getOwnPropertyNames,K1=Object.prototype.hasOwnProperty,Yp=(e,t)=>Zc(e,"name",{value:t,configurable:!0}),V1=(e,t)=>{for(var r in t)Zc(e,r,{get:t[r],enumerable:!0})},J1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G1(t))!K1.call(e,o)&&o!==r&&Zc(e,o,{get:()=>t[o],enumerable:!(n=z1(t,o))||n.enumerable});return e},W1=e=>J1(Zc({},"__esModule",{value:!0}),e),tE={};V1(tE,{fromUtf8:()=>nE,toUint8Array:()=>Y1,toUtf8:()=>X1});oE.exports=W1(tE);var rE=Do(),nE=Yp(e=>{let t=(0,rE.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),Y1=Yp(e=>typeof e=="string"?nE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),X1=Yp(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,rE.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var sE=E(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.toBase64=void 0;var Q1=Do(),Z1=Ce(),eU=e=>{let t;if(typeof e=="string"?t=(0,Z1.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Q1.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ed.toBase64=eU});var Ne=E((tX,td)=>{var iE=Object.defineProperty,tU=Object.getOwnPropertyDescriptor,rU=Object.getOwnPropertyNames,nU=Object.prototype.hasOwnProperty,Xp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rU(t))!nU.call(e,o)&&o!==r&&iE(e,o,{get:()=>t[o],enumerable:!(n=tU(t,o))||n.enumerable});return e},aE=(e,t,r)=>(Xp(e,t,"default"),r&&Xp(r,t,"default")),oU=e=>Xp(iE({},"__esModule",{value:!0}),e),Qp={};td.exports=oU(Qp);aE(Qp,eE(),td.exports);aE(Qp,sE(),td.exports)});var ef=E(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.ChecksumStream=void 0;var sU=Ne(),iU=require("stream"),Zp=class extends iU.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??sU.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};rd.ChecksumStream=Zp});var Er=E(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.isBlob=Mo.isReadableStream=void 0;var aU=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Mo.isReadableStream=aU;var cU=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};Mo.isBlob=cU});var cE=E(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.ChecksumStream=void 0;var dU=typeof ReadableStream=="function"?ReadableStream:function(){},tf=class extends dU{};nd.ChecksumStream=tf});var dE=E(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.createChecksumStream=void 0;var uU=Ne(),lU=Er(),pU=cE(),fU=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,lU.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=o??uU.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(l,u){t.update(l),u.enqueue(l)},async flush(l){let u=await t.digest(),p=a(u);if(e!==p){let h=new Error(`Checksum mismatch: expected "${e}" but received "${p}" in response header "${n}".`);l.error(h)}else l.terminate()}});r.pipeThrough(c);let d=c.readable;return Object.setPrototypeOf(d,pU.ChecksumStream.prototype),d};od.createChecksumStream=fU});var uE=E(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.createChecksumStream=yU;var mU=Er(),hU=ef(),gU=dE();function yU(e){return typeof ReadableStream=="function"&&(0,mU.isReadableStream)(e.source)?(0,gU.createChecksumStream)(e):new hU.ChecksumStream(e)}});var of=E(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.ByteArrayCollector=void 0;var nf=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};sd.ByteArrayCollector=nf});var mE=E(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.createBufferedReadable=void 0;Zt.createBufferedReadableStream=lE;Zt.merge=pE;Zt.flush=id;Zt.sizeOf=ko;Zt.modeOf=fE;var _U=of();function lE(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new _U.ByteArrayCollector(d=>new Uint8Array(d))],a=-1,c=async d=>{let{value:l,done:u}=await n.read(),p=l;if(u){if(a!==-1){let h=id(i,a);ko(h)>0&&d.enqueue(h)}d.close()}else{let h=fE(p,!1);if(a!==h&&(a>=0&&d.enqueue(id(i,a)),a=h),a===-1){d.enqueue(p);return}let g=ko(p);s+=g;let S=ko(i[a]);if(g>=t&&S===0)d.enqueue(p);else{let v=pE(i,a,p);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${t}, automatically buffering.`)),v>=t?d.enqueue(id(i,a)):await c(d)}}};return new ReadableStream({pull:c})}Zt.createBufferedReadable=lE;function pE(e,t,r){switch(t){case 0:return e[0]+=r,ko(e[0]);case 1:case 2:return e[t].push(r),ko(e[t])}}function id(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function ko(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function fE(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var gE=E(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.createBufferedReadable=vU;var SU=require("node:stream"),hE=of(),er=mE(),EU=Er();function vU(e,t,r){if((0,EU.isReadableStream)(e))return(0,er.createBufferedReadableStream)(e,t,r);let n=new SU.Readable({read(){}}),o=!1,s=0,i=["",new hE.ByteArrayCollector(c=>new Uint8Array(c)),new hE.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let d=(0,er.modeOf)(c,!0);if(a!==d&&(a>=0&&n.push((0,er.flush)(i,a)),a=d),a===-1){n.push(c);return}let l=(0,er.sizeOf)(c);s+=l;let u=(0,er.sizeOf)(i[a]);if(l>=t&&u===0)n.push(c);else{let p=(0,er.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${l} is below threshold of ${t}, automatically buffering.`)),p>=t&&n.push((0,er.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,er.flush)(i,a);(0,er.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var yE=E(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.getAwsChunkedEncodingStream=void 0;var bU=require("stream"),wU=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,d=new bU.Readable({read:()=>{}});return e.on("data",l=>{let u=n(l)||0;d.push(`${u.toString(16)}\r
`),d.push(l),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let l=r(await c);d.push(`${s}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};ad.getAwsChunkedEncodingStream=wU});var _E=E(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.headStream=CU;async function CU(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:d,value:l}=await s.read();if(l&&(o.push(l),n+=(r=l?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=d}s.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let d of o){if(d.byteLength>a.byteLength-c){a.set(d.subarray(0,a.byteLength-c),c);break}else a.set(d,c);c+=d.length}return a}});var SE=E(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.headStream=void 0;var OU=require("stream"),PU=_E(),RU=Er(),TU=(e,t)=>(0,RU.isReadableStream)(e)?(0,PU.headStream)(e,t):new Promise((r,n)=>{let o=new cf;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});cd.headStream=TU;var cf=class extends OU.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var uf=E((fX,bE)=>{var dd=Object.defineProperty,xU=Object.getOwnPropertyDescriptor,AU=Object.getOwnPropertyNames,IU=Object.prototype.hasOwnProperty,df=(e,t)=>dd(e,"name",{value:t,configurable:!0}),NU=(e,t)=>{for(var r in t)dd(e,r,{get:t[r],enumerable:!0})},DU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AU(t))!IU.call(e,o)&&o!==r&&dd(e,o,{get:()=>t[o],enumerable:!(n=xU(t,o))||n.enumerable});return e},MU=e=>DU(dd({},"__esModule",{value:!0}),e),EE={};NU(EE,{escapeUri:()=>vE,escapeUriPath:()=>FU});bE.exports=MU(EE);var vE=df(e=>encodeURIComponent(e).replace(/[!'()*]/g,kU),"escapeUri"),kU=df(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),FU=df(e=>e.split("/").map(vE).join("/"),"escapeUriPath")});var pf=E((mX,OE)=>{var ud=Object.defineProperty,UU=Object.getOwnPropertyDescriptor,LU=Object.getOwnPropertyNames,BU=Object.prototype.hasOwnProperty,jU=(e,t)=>ud(e,"name",{value:t,configurable:!0}),HU=(e,t)=>{for(var r in t)ud(e,r,{get:t[r],enumerable:!0})},qU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LU(t))!BU.call(e,o)&&o!==r&&ud(e,o,{get:()=>t[o],enumerable:!(n=UU(t,o))||n.enumerable});return e},$U=e=>qU(ud({},"__esModule",{value:!0}),e),wE={};HU(wE,{buildQueryString:()=>CE});OE.exports=$U(wE);var lf=uf();function CE(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,lf.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,lf.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,lf.escapeUri)(n)}`),t.push(o)}}return t.join("&")}jU(CE,"buildQueryString")});var hn=E((hX,BE)=>{var zU=Object.create,Wi=Object.defineProperty,GU=Object.getOwnPropertyDescriptor,KU=Object.getOwnPropertyNames,VU=Object.getPrototypeOf,JU=Object.prototype.hasOwnProperty,ae=(e,t)=>Wi(e,"name",{value:t,configurable:!0}),WU=(e,t)=>{for(var r in t)Wi(e,r,{get:t[r],enumerable:!0})},AE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KU(t))!JU.call(e,o)&&o!==r&&Wi(e,o,{get:()=>t[o],enumerable:!(n=GU(t,o))||n.enumerable});return e},YU=(e,t,r)=>(r=e!=null?zU(VU(e)):{},AE(t||!e||!e.__esModule?Wi(r,"default",{value:e,enumerable:!0}):r,e)),XU=e=>AE(Wi({},"__esModule",{value:!0}),e),IE={};WU(IE,{DEFAULT_REQUEST_TIMEOUT:()=>UE,NodeHttp2Handler:()=>aL,NodeHttpHandler:()=>nL,streamCollector:()=>dL});BE.exports=XU(IE);var NE=ie(),DE=pf(),ff=require("http"),mf=require("https"),QU=["ECONNRESET","EPIPE","ETIMEDOUT"],ME=ae(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),Le={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},PE=1e3,ZU=ae((e,t,r=0)=>{if(!r)return-1;let n=ae(o=>{let s=Le.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=ae(a=>{a?.connecting?a.on("connect",()=>{Le.clearTimeout(s)}):Le.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):Le.setTimeout(n.bind(null,PE),PE)},"setConnectionTimeout"),eL=3e3,tL=ae((e,{keepAlive:t,keepAliveMsecs:r},n=eL)=>{if(t!==!0)return-1;let o=ae(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):Le.setTimeout(o,n)},"setSocketKeepAlive"),RE=3e3,rL=ae((e,t,r=UE)=>{let n=ae(o=>{let s=r-o,i=ae(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):Le.setTimeout(n.bind(null,r===0?0:RE),RE)},"setSocketTimeout"),kE=require("stream"),TE=6e3;async function hf(e,t,r=TE){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(a=>{s=Number(Le.setTimeout(()=>a(!0),Math.max(TE,r)))}),new Promise(a=>{e.on("continue",()=>{Le.clearTimeout(s),a(!0)}),e.on("response",()=>{Le.clearTimeout(s),a(!1)}),e.on("error",()=>{Le.clearTimeout(s),a(!1)})})])),i&&FE(e,t.body)}ae(hf,"writeRequestBody");function FE(e,t){if(t instanceof kE.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ae(FE,"writeBody");var UE=0,vr,nL=(vr=class{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new vr(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let d=o[c]?.length??0,l=s[c]?.length??0;if(d>=i&&l>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${l} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a}=t||{},c=!0,d=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof ff.Agent||typeof i?.destroy=="function"?i:new ff.Agent({keepAlive:c,maxSockets:d,...i}),httpsAgent:a instanceof mf.Agent||typeof a?.destroy=="function"?a:new mf.Agent({keepAlive:c,maxSockets:d,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,a=[],c=ae(async T=>{await i,a.forEach(Le.clearTimeout),o(T)},"resolve"),d=ae(async T=>{await i,a.forEach(Le.clearTimeout),s(T)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let T=new Error("Request aborted");T.name="AbortError",d(T);return}let l=t.protocol==="https:",u=l?this.config.httpsAgent:this.config.httpAgent;a.push(Le.setTimeout(()=>{this.socketWarningTimestamp=vr.checkSocketUsage(u,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let p=(0,DE.buildQueryString)(t.query||{}),h;if(t.username!=null||t.password!=null){let T=t.username??"",V=t.password??"";h=`${T}:${V}`}let g=t.path;p&&(g+=`?${p}`),t.fragment&&(g+=`#${t.fragment}`);let S=t.hostname??"";S[0]==="["&&S.endsWith("]")?S=t.hostname.slice(1,-1):S=t.hostname;let v={headers:t.headers,host:S,method:t.method,path:g,port:t.port,agent:u,auth:h},C=(l?mf.request:ff.request)(v,T=>{let V=new NE.HttpResponse({statusCode:T.statusCode||-1,reason:T.statusMessage,headers:ME(T.headers),body:T});c({response:V})});if(C.on("error",T=>{QU.includes(T.code)?d(Object.assign(T,{name:"TimeoutError"})):d(T)}),r){let T=ae(()=>{C.destroy();let V=new Error("Request aborted");V.name="AbortError",d(V)},"onAbort");if(typeof r.addEventListener=="function"){let V=r;V.addEventListener("abort",T,{once:!0}),C.once("close",()=>V.removeEventListener("abort",T))}else r.onabort=T}let N=n??this.config.requestTimeout;a.push(ZU(C,d,this.config.connectionTimeout)),a.push(rL(C,d,N));let k=v.agent;typeof k=="object"&&"keepAlive"in k&&a.push(tL(C,{keepAlive:k.keepAlive,keepAliveMsecs:k.keepAliveMsecs})),i=hf(C,t,N).catch(T=>(a.forEach(Le.clearTimeout),s(T)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},ae(vr,"NodeHttpHandler"),vr),xE=require("http2"),oL=YU(require("http2")),Fo,sL=(Fo=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},ae(Fo,"NodeHttp2ConnectionPool"),Fo),Uo,iL=(Uo=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let s=oL.default.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=ae(()=>{s.destroy(),this.deleteSession(n,s)},"destroySessionCb");s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new sL;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},ae(Uo,"NodeHttp2ConnectionManager"),Uo),mn,aL=(mn=class{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new iL({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new mn(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let d=!1,l,u=ae(async le=>{await l,a(le)},"resolve"),p=ae(async le=>{await l,c(le)},"reject");if(r?.aborted){d=!0;let le=new Error("Request aborted");le.name="AbortError",p(le);return}let{hostname:h,method:g,port:S,protocol:v,query:w}=t,C="";if(t.username!=null||t.password!=null){let le=t.username??"",lt=t.password??"";C=`${le}:${lt}@`}let N=`${v}//${C}${h}${S?`:${S}`:""}`,k={destination:new URL(N)},T=this.connectionManager.lease(k,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),V=ae(le=>{s&&this.destroySession(T),d=!0,p(le)},"rejectWithDestroy"),hr=(0,DE.buildQueryString)(w||{}),Ue=t.path;hr&&(Ue+=`?${hr}`),t.fragment&&(Ue+=`#${t.fragment}`);let Ee=T.request({...t.headers,[xE.constants.HTTP2_HEADER_PATH]:Ue,[xE.constants.HTTP2_HEADER_METHOD]:g});if(T.ref(),Ee.on("response",le=>{let lt=new NE.HttpResponse({statusCode:le[":status"]||-1,headers:ME(le),body:Ee});d=!0,u({response:lt}),s&&(T.close(),this.connectionManager.deleteSession(N,T))}),i&&Ee.setTimeout(i,()=>{Ee.close();let le=new Error(`Stream timed out because of no activity for ${i} ms`);le.name="TimeoutError",V(le)}),r){let le=ae(()=>{Ee.close();let lt=new Error("Request aborted");lt.name="AbortError",V(lt)},"onAbort");if(typeof r.addEventListener=="function"){let lt=r;lt.addEventListener("abort",le,{once:!0}),Ee.once("close",()=>lt.removeEventListener("abort",le))}else r.onabort=le}Ee.on("frameError",(le,lt,gM)=>{V(new Error(`Frame type id ${le} in stream id ${gM} has failed with code ${lt}.`))}),Ee.on("error",V),Ee.on("aborted",()=>{V(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Ee.rstCode}.`))}),Ee.on("close",()=>{T.unref(),s&&T.destroy(),d||V(new Error("Unexpected error: http2 request did not get a response"))}),l=hf(Ee,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},ae(mn,"NodeHttp2Handler"),mn),Lo,cL=(Lo=class extends kE.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}},ae(Lo,"Collector"),Lo),dL=ae(e=>uL(e)?LE(e):new Promise((t,r)=>{let n=new cL;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),uL=ae(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function LE(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ae(LE,"collectReadableStream")});var VE=E((gX,KE)=>{var pd=Object.defineProperty,lL=Object.getOwnPropertyDescriptor,pL=Object.getOwnPropertyNames,fL=Object.prototype.hasOwnProperty,Ot=(e,t)=>pd(e,"name",{value:t,configurable:!0}),mL=(e,t)=>{for(var r in t)pd(e,r,{get:t[r],enumerable:!0})},hL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pL(t))!fL.call(e,o)&&o!==r&&pd(e,o,{get:()=>t[o],enumerable:!(n=lL(t,o))||n.enumerable});return e},gL=e=>hL(pd({},"__esModule",{value:!0}),e),HE={};mL(HE,{FetchHttpHandler:()=>_L,keepAliveSupport:()=>ld,streamCollector:()=>EL});KE.exports=gL(HE);var jE=ie(),yL=pf();function gf(e,t){return new Request(e,t)}Ot(gf,"createRequest");function qE(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}Ot(qE,"requestTimeout");var ld={supported:void 0},gn,_L=(gn=class{static create(t){return typeof t?.handle=="function"?t:new gn(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),ld.supported===void 0&&(ld.supported=typeof Request<"u"&&"keepalive"in gf("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let C=new Error("Request aborted");return C.name="AbortError",Promise.reject(C)}let a=t.path,c=(0,yL.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let d="";if(t.username!=null||t.password!=null){let C=t.username??"",N=t.password??"";d=`${C}:${N}@`}let{port:l,method:u}=t,p=`${t.protocol}//${d}${t.hostname}${l?`:${l}`:""}${a}`,h=u==="GET"||u==="HEAD"?void 0:t.body,g={body:h,headers:new Headers(t.headers),method:u,credentials:i};this.config?.cache&&(g.cache=this.config.cache),h&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),ld.supported&&(g.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(t));let S=Ot(()=>{},"removeSignalEventListener"),v=gf(p,g),w=[fetch(v).then(C=>{let N=C.headers,k={};for(let V of N.entries())k[V[0]]=V[1];return C.body!=null?{response:new jE.HttpResponse({headers:k,reason:C.statusText,statusCode:C.status,body:C.body})}:C.blob().then(V=>({response:new jE.HttpResponse({headers:k,reason:C.statusText,statusCode:C.status,body:V})}))}),qE(o)];return r&&w.push(new Promise((C,N)=>{let k=Ot(()=>{let T=new Error("Request aborted");T.name="AbortError",N(T)},"onAbort");if(typeof r.addEventListener=="function"){let T=r;T.addEventListener("abort",k,{once:!0}),S=Ot(()=>T.removeEventListener("abort",k),"removeSignalEventListener")}else r.onabort=k})),Promise.race(w).finally(S)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},Ot(gn,"FetchHttpHandler"),gn),SL=Ne(),EL=Ot(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):$E(e):zE(e),"streamCollector");async function $E(e){let t=await GE(e),r=(0,SL.fromBase64)(t);return new Uint8Array(r)}Ot($E,"collectBlob");async function zE(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}Ot(zE,"collectStream");function GE(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Ot(GE,"readToBase64")});var md=E((yX,ZE)=>{var fd=Object.defineProperty,vL=Object.getOwnPropertyDescriptor,bL=Object.getOwnPropertyNames,wL=Object.prototype.hasOwnProperty,JE=(e,t)=>fd(e,"name",{value:t,configurable:!0}),CL=(e,t)=>{for(var r in t)fd(e,r,{get:t[r],enumerable:!0})},OL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bL(t))!wL.call(e,o)&&o!==r&&fd(e,o,{get:()=>t[o],enumerable:!(n=vL(t,o))||n.enumerable});return e},PL=e=>OL(fd({},"__esModule",{value:!0}),e),WE={};CL(WE,{fromHex:()=>XE,toHex:()=>QE});ZE.exports=PL(WE);var YE={},yf={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),YE[e]=t,yf[t]=e}function XE(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in yf)t[r/2]=yf[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}JE(XE,"fromHex");function QE(e){let t="";for(let r=0;r<e.byteLength;r++)t+=YE[e[r]];return t}JE(QE,"toHex")});var ov=E(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.sdkStreamMixin=void 0;var RL=VE(),TL=Ne(),xL=md(),AL=Ce(),ev=Er(),tv="The stream has already been transformed.",IL=e=>{var t,r;if(!rv(e)&&!(0,ev.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(tv);return n=!0,await(0,RL.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,TL.toBase64)(a);if(i==="hex")return(0,xL.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,AL.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(tv);if(n=!0,rv(e))return s(e);if((0,ev.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};hd.sdkStreamMixin=IL;var rv=e=>typeof Blob=="function"&&e instanceof Blob});var iv=E(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.sdkStreamMixin=void 0;var NL=hn(),DL=Do(),_f=require("stream"),ML=ov(),sv="The stream has already been transformed.",kL=e=>{var t,r;if(!(e instanceof _f.Readable))try{return(0,ML.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(sv);return n=!0,await(0,NL.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,DL.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(sv);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof _f.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,_f.Readable.toWeb(e)}})};gd.sdkStreamMixin=kL});var av=E(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.splitStream=FL;async function FL(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var uv=E(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.splitStream=LL;var cv=require("stream"),UL=av(),dv=Er();async function LL(e){if((0,dv.isReadableStream)(e)||(0,dv.isBlob)(e))return(0,UL.splitStream)(e);let t=new cv.PassThrough,r=new cv.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var _d=E((bX,Rt)=>{var yd=Object.defineProperty,BL=Object.getOwnPropertyDescriptor,jL=Object.getOwnPropertyNames,HL=Object.prototype.hasOwnProperty,wf=(e,t)=>yd(e,"name",{value:t,configurable:!0}),qL=(e,t)=>{for(var r in t)yd(e,r,{get:t[r],enumerable:!0})},vf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jL(t))!HL.call(e,o)&&o!==r&&yd(e,o,{get:()=>t[o],enumerable:!(n=BL(t,o))||n.enumerable});return e},br=(e,t,r)=>(vf(e,t,"default"),r&&vf(r,t,"default")),$L=e=>vf(yd({},"__esModule",{value:!0}),e),Pt={};qL(Pt,{Uint8ArrayBlobAdapter:()=>bf});Rt.exports=$L(Pt);var lv=Ne(),pv=Ce();function fv(e,t="utf-8"){return t==="base64"?(0,lv.toBase64)(e):(0,pv.toUtf8)(e)}wf(fv,"transformToString");function mv(e,t){return t==="base64"?bf.mutate((0,lv.fromBase64)(e)):bf.mutate((0,pv.fromUtf8)(e))}wf(mv,"transformFromString");var yn,bf=(yn=class extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return mv(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,yn.prototype),t}transformToString(t="utf-8"){return fv(this,t)}},wf(yn,"Uint8ArrayBlobAdapter"),yn);br(Pt,ef(),Rt.exports);br(Pt,uE(),Rt.exports);br(Pt,gE(),Rt.exports);br(Pt,yE(),Rt.exports);br(Pt,SE(),Rt.exports);br(Pt,iv(),Rt.exports);br(Pt,uv(),Rt.exports);br(Pt,Er(),Rt.exports)});var Sd,Xe,Yi=y(()=>{Sd=b(_d()),Xe=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Sd.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Sd.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Sd.Uint8ArrayBlobAdapter.mutate(await r)}});function Tt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Ed=y(()=>{});var tr,Cf=y(()=>{tr=e=>typeof e=="function"?e():e});var zL,GL,hv=y(()=>{zL=b(ie()),GL=b(ze())});var KL,gv=y(()=>{KL=b(ze())});var yv=y(()=>{hv();gv()});var fe,wr=y(()=>{fe=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};fe.registries=new Map});var mt,_n=y(()=>{mt=class{constructor(t,r){this.name=t,this.traits=r}}});var Xi,Of=y(()=>{wr();_n();Xi=class e extends mt{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Xi.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var Qi,Pf=y(()=>{wr();_n();Qi=class e extends mt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Qi.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var _v=y(()=>{wr();_n()});var Sn,vd=y(()=>{wr();_n();Sn=class e extends mt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Sn.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var Rf,Sv=y(()=>{wr();vd();Rf=class e extends Sn{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Rf.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var P,Tf=y(()=>{P={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Zi,xf=y(()=>{wr();_n();Zi=class e extends mt{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Zi.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var A,Ev=y(()=>{Cf();Of();Pf();Tf();xf();vd();A=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=tr(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=tr(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Zi?tr(this.schema.schemaRef):tr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=P.LIST_MODIFIER&&t<P.MAP_MODIFIER:t instanceof Xi}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=P.MAP_MODIFIER&&t<=255:t instanceof Qi}isDocumentSchema(){return this.getSchema()===P.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof Sn}isBlobSchema(){return this.getSchema()===P.BLOB||this.getSchema()===P.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=P.TIMESTAMP_DEFAULT&&t<=P.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===P.STRING}isBooleanSchema(){return this.getSchema()===P.BOOLEAN}isNumericSchema(){return this.getSchema()===P.NUMERIC}isBigIntegerSchema(){return this.getSchema()===P.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===P.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===P.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([P.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([P.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([P.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(P).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case P.MAP_MODIFIER:return`${o}Map`;case P.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};A.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var Se=y(()=>{Cf();yv();Of();Pf();_v();Sv();Ev();_n();xf();vd();Tf();wr()});var ea,vv=y(()=>{Se();ea=(e,t,r=n=>n)=>{let n=A.of(t);switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":return r(e,n);case"function":case"object":if(e===null)return r(null,n);if(Array.isArray(e)){let s=new Array(e.length),i=0;for(let a of e)s[i++]=ea(a,n.getValueSchema(),r);return r(s,n)}if("byteLength"in e){let s=new Uint8Array(e.byteLength);return s.set(e,0),r(s,n)}if(e instanceof Date)return r(e,n);let o={};if(n.isMapSchema())for(let s of Object.keys(e))o[s]=ea(e[s],n.getValueSchema(),r);else if(n.isStructSchema())for(let[s,i]of n.structIterator())o[s]=ea(e[s],i,r);else if(n.isDocumentSchema())for(let s of Object.keys(e))o[s]=ea(e[s],n.getValueSchema(),r);return r(o,n);default:return r(e,n)}}});var VL,JL,ta,WL,bd,ra,YL,Af,If,Nf,Df,XL,QL,bv,ZL,eB,Cd,tB,Mf,rB,Bo,kf,nB,oB,sB,wv,Cv,iB,aB,En,Ff,wd,na,Uf=y(()=>{VL=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},JL=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&na.warn(wd(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&na.warn(wd(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},ta=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&na.warn(wd(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},WL=Math.ceil(34028234663852886e22),bd=e=>{let t=ta(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>WL)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},ra=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},YL=ra,Af=e=>Df(e,32),If=e=>Df(e,16),Nf=e=>Df(e,8),Df=(e,t)=>{let r=ra(e);if(r!==void 0&&XL(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},XL=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},QL=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},bv=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},ZL=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return na.warn(wd(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},eB=e=>{if(e==null)return;let t=bv(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Cd=e=>ta(typeof e=="string"?Bo(e):e),tB=Cd,Mf=e=>bd(typeof e=="string"?Bo(e):e),rB=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Bo=e=>{let t=e.match(rB);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},kf=e=>typeof e=="string"?wv(e):ta(e),nB=kf,oB=kf,sB=e=>typeof e=="string"?wv(e):bd(e),wv=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Cv=e=>ra(typeof e=="string"?Bo(e):e),iB=Cv,aB=e=>Af(typeof e=="string"?Bo(e):e),En=e=>If(typeof e=="string"?Bo(e):e),Ff=e=>Nf(typeof e=="string"?Bo(e):e),wd=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),na={warn:console.warn}});function sa(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,u=a<10?`0${a}`:`${a}`;return`${cB[n]}, ${c} ${Bf[r]} ${t} ${d}:${l}:${u} GMT`}var cB,Bf,dB,uB,lB,ia,pB,fB,mB,aa,ca,oa,hB,gB,yB,Lf,_B,SB,EB,xt,vB,bB,jo,Ov=y(()=>{Uf();cB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Bf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];dB=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),uB=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=dB.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d]=t,l=En(jo(n)),u=xt(o,"month",1,12),p=xt(s,"day",1,31);return oa(l,u,p,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})},lB=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ia=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=lB.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,l]=t,u=En(jo(n)),p=xt(o,"month",1,12),h=xt(s,"day",1,31),g=oa(u,p,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&g.setTime(g.getTime()-bB(l)),g},pB=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),fB=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),mB=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),aa=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=pB.exec(e);if(t){let[r,n,o,s,i,a,c,d]=t;return oa(En(jo(s)),Lf(o),xt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=fB.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return yB(oa(hB(s),Lf(o),xt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=mB.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return oa(En(jo(d)),Lf(n),xt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},ca=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Cd(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},oa=(e,t,r,n)=>{let o=t-1;return SB(e,o,r),new Date(Date.UTC(e,o,r,xt(n.hours,"hour",0,23),xt(n.minutes,"minute",0,59),xt(n.seconds,"seconds",0,60),vB(n.fractionalMilliseconds)))},hB=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+En(jo(e));return r<t?r+100:r},gB=50*365*24*60*60*1e3,yB=e=>e.getTime()-new Date().getTime()>gB?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Lf=e=>{let t=Bf.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},_B=[31,28,31,30,31,30,31,31,30,31,30,31],SB=(e,t,r)=>{let n=_B[t];if(t===1&&EB(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Bf[t]} in ${e}: ${r}`)},EB=e=>e%4===0&&(e%100!==0||e%400===0),xt=(e,t,r,n)=>{let o=Ff(jo(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},vB=e=>e==null?0:Mf("0."+e)*1e3,bB=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},jo=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var De,Pv=y(()=>{De=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};De.from=e=>e&&typeof e=="object"&&(e instanceof De||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?De(String(e)):De(JSON.stringify(e));De.fromObject=De.from});function jf(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var Rv=y(()=>{});function Hf(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var Tv=y(()=>{});var da,xv=y(()=>{da=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function wB(e){return new Oe(String(e),"bigDecimal")}var Oe,Av=y(()=>{Oe=class{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"}}});var Iv={};pt(Iv,{LazyJsonString:()=>De,NumericValue:()=>Oe,copyDocumentWithTransform:()=>ea,dateToUtcString:()=>sa,expectBoolean:()=>JL,expectByte:()=>Nf,expectFloat32:()=>bd,expectInt:()=>YL,expectInt32:()=>Af,expectLong:()=>ra,expectNonNull:()=>QL,expectNumber:()=>ta,expectObject:()=>bv,expectShort:()=>If,expectString:()=>ZL,expectUnion:()=>eB,handleFloat:()=>nB,limitedParseDouble:()=>kf,limitedParseFloat:()=>oB,limitedParseFloat32:()=>sB,logger:()=>na,nv:()=>wB,parseBoolean:()=>VL,parseEpochTimestamp:()=>ca,parseRfc3339DateTime:()=>uB,parseRfc3339DateTimeWithOffset:()=>ia,parseRfc7231DateTime:()=>aa,quoteHeader:()=>jf,splitEvery:()=>Hf,splitHeader:()=>da,strictParseByte:()=>Ff,strictParseDouble:()=>Cd,strictParseFloat:()=>tB,strictParseFloat32:()=>Mf,strictParseInt:()=>iB,strictParseInt32:()=>aB,strictParseLong:()=>Cv,strictParseShort:()=>En});var Qe=y(()=>{vv();Ov();Pv();Uf();Rv();Tv();xv();Av()});var Od,Nv,Ho,qf=y(()=>{Se();Qe();Od=b(ie()),Nv=b(_d());Yi();Ho=class{constructor(t){this.options=t}getRequestType(){return Od.HttpRequest}getResponseType(){return Od.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=A.of(r),s=A.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let d=n[c];if(typeof d!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,d)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,c=A.of(t),d=[];for(let[l,u]of c.structIterator()){let p=u.getMemberTraits();if(p.httpPayload){if(u.isStreaming())if(u.isStructSchema()){let S=this.serdeContext;if(!S.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let v=u.getMemberSchemas();i[l]=S.eventStreamMarshaller.deserialize(n.body,async w=>{let C=Object.keys(w).find(N=>N!=="__type")??"";if(C in v){let N=v[C];return{[C]:await a.read(N,w[C].body)}}else return{$unknown:w}})}else i[l]=(0,Nv.sdkStreamMixin)(n.body);else if(n.body){let g=await Xe(n.body,r);g.byteLength>0&&(i[l]=await a.read(u,g))}}else if(p.httpHeader){let h=String(p.httpHeader).toLowerCase(),g=n.headers[h];if(g!=null)if(u.isListSchema()){let S=u.getValueSchema(),v;S.isTimestampSchema()&&S.getSchema()===P.TIMESTAMP_DEFAULT?v=Hf(g,",",2):v=da(g);let w=[];for(let C of v)w.push(await a.read([S,{httpHeader:h}],C.trim()));i[l]=w}else i[l]=await a.read(u,g)}else if(p.httpPrefixHeaders!==void 0){i[l]={};for(let[h,g]of Object.entries(n.headers))h.startsWith(p.httpPrefixHeaders)&&(i[l][h.slice(p.httpPrefixHeaders.length)]=await a.read([u.getValueSchema(),{httpHeader:h}],g))}else p.httpResponseCode?i[l]=n.statusCode:d.push(l)}return d}}});var Dv,vn,Mv=y(()=>{Se();Dv=b(ie());Yi();Ed();qf();vn=class extends Ho{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),d=A.of(t?.input),l=d.getSchema(),u=!1,p,h=new Dv.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(h,c),this.setHostPrefix(h,t,o);let g=A.translateTraits(t.traits);if(g.http){h.method=g.http[0];let[S,v]=g.http[1].split("?");h.path=="/"?h.path=S:h.path+=S;let w=new URLSearchParams(v??"");Object.assign(i,Object.fromEntries(w))}}for(let[g,S]of d.structIterator()){let v=S.getMergedTraits()??{},w=o[g];if(w!=null)if(v.httpPayload){if(S.isStreaming()){if(S.isStructSchema())throw new Error("serialization of event streams is not yet implemented");p=w}else s.write(S,w),p=s.flush();delete o[g]}else if(v.httpLabel){s.write(S,w);let C=s.flush();h.path.includes(`{${g}+}`)?h.path=h.path.replace(`{${g}+}`,C.split("/").map(Tt).join("/")):h.path.includes(`{${g}}`)&&(h.path=h.path.replace(`{${g}}`,Tt(C))),delete o[g]}else if(v.httpHeader)s.write(S,w),a[v.httpHeader.toLowerCase()]=String(s.flush()),delete o[g];else if(typeof v.httpPrefixHeaders=="string"){for(let[C,N]of Object.entries(w)){let k=v.httpPrefixHeaders+C;s.write([S.getValueSchema(),{httpHeader:k}],N),a[k.toLowerCase()]=s.flush()}delete o[g]}else v.httpQuery||v.httpQueryParams?(this.serializeQuery(S,w,i),delete o[g]):u=!0}return u&&o&&(s.write(l,o),p=s.flush()),h.headers=a,h.query=i,h.body=p,h}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery(A.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let d=o.flush();(i||d!==void 0)&&a.push(d)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=A.of(t.output),i={};if(n.statusCode>=300){let d=await Xe(n.body,r);throw d.byteLength>0&&Object.assign(i,await o.read(P.DOCUMENT,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let d in n.headers){let l=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=l}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let d=await Xe(n.body,r);if(d.byteLength>0){let l=await o.read(s,d);for(let u of a)i[u]=l[u]}}return{$metadata:this.deserializeMetadata(n),...i}}}});var kv,bn,Fv=y(()=>{Se();kv=b(ie());Yi();qf();bn=class extends Ho{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),d=A.of(t?.input).getSchema(),l,u=new kv.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(u,a),this.setHostPrefix(u,t,r));let p={...r};return r&&(o.write(d,p),l=o.flush()),u.headers=i,u.query=s,u.body=l,u.method="POST",u}async deserializeResponse(t,r,n){let o=this.deserializer,s=A.of(t.output),i={};if(n.statusCode>=300){let d=await Xe(n.body,r);throw d.byteLength>0&&Object.assign(i,await o.read(P.DOCUMENT,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let d in n.headers){let l=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=l}let a=await Xe(n.body,r);return a.byteLength>0&&Object.assign(i,await o.read(s,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var $f,zf=y(()=>{Ed();$f=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Tt(a)).join("/"):Tt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function ua(e,t){return new Pd(e,t)}var Uv,Pd,Lv=y(()=>{Uv=b(ie());zf();Pd=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new Uv.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=$f(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function wn(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===P.TIMESTAMP_DATE_TIME||e.getSchema()===P.TIMESTAMP_HTTP_DATE||e.getSchema()===P.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?P.TIMESTAMP_HTTP_DATE:s||r?P.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var Rd=y(()=>{Se()});var Gf,Bv,Cn,Kf=y(()=>{Se();Qe();Gf=b(Ne()),Bv=b(Ce());Rd();Cn=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=A.of(t);if(n.isListSchema())return da(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Gf.fromBase64)(r);if(n.isTimestampSchema())switch(wn(n,this.settings)){case P.TIMESTAMP_DATE_TIME:return ia(r);case P.TIMESTAMP_HTTP_DATE:return aa(r);case P.TIMESTAMP_EPOCH_SECONDS:return ca(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=De.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new Oe(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??Bv.toUtf8)((this.serdeContext?.base64Decoder??Gf.fromBase64)(t))}}});var Td,On,jv=y(()=>{Se();Td=b(Ce());Kf();On=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new Cn(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=A.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??Td.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Td.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var Vf,la,Jf=y(()=>{Se();Qe();Vf=b(Ne());Rd();la=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=A.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(wn(n,this.settings)){case P.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case P.TIMESTAMP_HTTP_DATE:this.stringBuffer=sa(r);break;case P.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Vf.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),d=n.getValueSchema().isTimestampSchema()?c:jf(c);i!==""&&(i+=", "),i+=d}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=De.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Vf.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Pn,Hv=y(()=>{Se();Jf();Pn=class{constructor(t,r,n=new la(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=A.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var qv={};pt(qv,{FromStringShapeDeserializer:()=>Cn,HttpBindingProtocol:()=>vn,HttpInterceptingShapeDeserializer:()=>On,HttpInterceptingShapeSerializer:()=>Pn,RequestBuilder:()=>Pd,RpcProtocol:()=>bn,ToStringShapeSerializer:()=>la,collectBody:()=>Xe,determineTimestampFormat:()=>wn,extendedEncodeURIComponent:()=>Tt,requestBuilder:()=>ua,resolvedPath:()=>$f});var rr=y(()=>{Yi();Ed();Mv();Fv();Lv();zf();Kf();jv();Hv();Jf();Rd()});var $v=y(()=>{rr()});function CB(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var zv=y(()=>{});var Rn,Gv=y(()=>{Rn=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var Kv,Wf,Yf,Vv=y(()=>{Kv=b(ie()),Wf=b(Ct()),Yf=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=Kv.HttpRequest.clone(t);if(n.in===Wf.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Wf.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var Jv,Xf,Wv=y(()=>{Jv=b(ie()),Xf=class{async sign(t,r,n){let o=Jv.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var nr,Yv=y(()=>{nr=class{async sign(t,r,n){return t}}});var Xv=y(()=>{Vv();Wv();Yv()});var Qv,OB,Qf,xd,Zf,Zv=y(()=>{Qv=e=>t=>xd(t)&&t.expiration.getTime()-Date.now()<e,OB=3e5,Qf=Qv(3e5),xd=e=>e.expiration!==void 0,Zf=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async d=>{s||(s=n(d));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async d=>((!i||d?.forceRefresh)&&(o=await c(d)),o):async d=>((!i||d?.forceRefresh)&&(o=await c(d)),a?o:r(o)?(t(o)&&await c(d),o):(a=!0,o))}});var eb=y(()=>{Gv();Xv();Zv()});var qo={};pt(qo,{DefaultIdentityProviderConfig:()=>Rn,EXPIRATION_MS:()=>OB,HttpApiKeyAuthSigner:()=>Yf,HttpBearerAuthSigner:()=>Xf,NoAuthSigner:()=>nr,createIsIdentityExpiredFunction:()=>Qv,createPaginator:()=>VS,doesIdentityRequireRefresh:()=>xd,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Vi,getHttpAuthSchemePlugin:()=>S1,getHttpSigningPlugin:()=>Ji,getSmithyContext:()=>r1,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>TS,httpAuthSchemeMiddleware:()=>Ki,httpAuthSchemeMiddlewareOptions:()=>LS,httpSigningMiddleware:()=>Kp,httpSigningMiddlewareOptions:()=>$S,isIdentityExpired:()=>Qf,memoizeIdentityProvider:()=>Zf,normalizeProvider:()=>Sr,requestBuilder:()=>ua,setFeature:()=>CB});var Be=y(()=>{ES();jS();GS();KS();JS();$v();zv();eb()});var Go=E((QZ,db)=>{var Ad=Object.defineProperty,PB=Object.getOwnPropertyDescriptor,RB=Object.getOwnPropertyNames,TB=Object.prototype.hasOwnProperty,te=(e,t)=>Ad(e,"name",{value:t,configurable:!0}),xB=(e,t)=>{for(var r in t)Ad(e,r,{get:t[r],enumerable:!0})},AB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RB(t))!TB.call(e,o)&&o!==r&&Ad(e,o,{get:()=>t[o],enumerable:!(n=PB(t,o))||n.enumerable});return e},IB=e=>AB(Ad({},"__esModule",{value:!0}),e),tb={};xB(tb,{EndpointCache:()=>NB,EndpointError:()=>je,customEndpointFunctions:()=>tm,isIpAddress:()=>rb,isValidHostLabel:()=>nm,resolveEndpoint:()=>XB});db.exports=IB(tb);var $o,NB=($o=class{constructor({size:t,params:r}){this.data=new Map,this.parameters=[],this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),s=0;for(;;){let{value:i,done:a}=o.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let s=String(t[o]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}},te($o,"EndpointCache"),$o),DB=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),rb=te(e=>DB.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),MB=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),nm=te((e,t=!1)=>{if(!t)return MB.test(e);let r=e.split(".");for(let n of r)if(!nm(n))return!1;return!0},"isValidHostLabel"),tm={},pa="endpoints";function or(e){return typeof e!="object"||e==null?e:"ref"in e?`$${or(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(or).join(", ")})`:JSON.stringify(e,null,2)}te(or,"toDebugString");var zo,je=(zo=class extends Error{constructor(t){super(t),this.name="EndpointError"}},te(zo,"EndpointError"),zo),kB=te((e,t)=>e===t,"booleanEquals"),FB=te(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new je(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new je(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),nb=te((e,t)=>FB(t).reduce((r,n)=>{if(typeof r!="object")throw new je(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),UB=te(e=>e!=null,"isSet"),LB=te(e=>!e,"not"),rm=Ct(),em={[rm.EndpointURLScheme.HTTP]:80,[rm.EndpointURLScheme.HTTPS]:443},BB=te(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:p,port:h,protocol:g="",path:S="",query:v={}}=e,w=new URL(`${g}//${p}${h?`:${h}`:""}${S}`);return w.search=Object.entries(v).map(([C,N])=>`${C}=${N}`).join("&"),w}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(rm.EndpointURLScheme).includes(c))return null;let d=rb(o),l=r.includes(`${n}:${em[c]}`)||typeof e=="string"&&e.includes(`${n}:${em[c]}`),u=`${n}${l?`:${em[c]}`:""}`;return{scheme:c,authority:u,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:d}},"parseURL"),jB=te((e,t)=>e===t,"stringEquals"),HB=te((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),qB=te(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),$B={booleanEquals:kB,getAttr:nb,isSet:UB,isValidHostLabel:nm,not:LB,parseURL:BB,stringEquals:jB,substring:HB,uriEncode:qB},ob=te((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(nb(n[c],d))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),zB=te(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Id=te((e,t,r)=>{if(typeof e=="string")return ob(e,r);if(e.fn)return sb(e,r);if(e.ref)return zB(e,r);throw new je(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),sb=te(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:Id(s,"arg",r)),o=e.split(".");return o[0]in tm&&o[1]!=null?tm[o[0]][o[1]](...n):$B[e](...n)},"callFunction"),GB=te(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new je(`'${e}' is already defined in Reference Record.`);let n=sb(t,r);return r.logger?.debug?.(`${pa} evaluateCondition: ${or(t)} = ${or(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),om=te((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=GB(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${pa} assign: ${s.name} := ${or(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),KB=te((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Id(s,"Header value entry",t);if(typeof i!="string")throw new je(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),ib=te((e,t)=>{if(Array.isArray(e))return e.map(r=>ib(r,t));switch(typeof e){case"string":return ob(e,t);case"object":if(e===null)throw new je(`Unexpected endpoint property: ${e}`);return ab(e,t);case"boolean":return e;default:throw new je(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),ab=te((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:ib(o,t)}),{}),"getEndpointProperties"),VB=te((e,t)=>{let r=Id(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new je(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),JB=te((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=om(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:d}=n;return t.logger?.debug?.(`${pa} Resolving endpoint from template: ${or(n)}`),{...d!=null&&{headers:KB(d,i)},...c!=null&&{properties:ab(c,i)},url:VB(a,i)}},"evaluateEndpointRule"),WB=te((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=om(r,t);if(o)throw new je(Id(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),YB=te((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=om(r,t);if(o)return cb(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),cb=te((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=JB(r,t);if(n)return n}else if(r.type==="error")WB(r,t);else if(r.type==="tree"){let n=YB(r,t);if(n)return n}else throw new je(`Unknown endpoint rule: ${r}`);throw new je("Rules evaluation failed")},"evaluateRules"),XB=te((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${pa} Initial EndpointParams: ${or(r)}`);let i=Object.entries(o).filter(([,d])=>d.default!=null).map(([d,l])=>[d,l.default]);if(i.length>0)for(let[d,l]of i)r[d]=r[d]??l;let a=Object.entries(o).filter(([,d])=>d.required).map(([d])=>d);for(let d of a)if(r[d]==null)throw new je(`Missing required parameter: '${d}'`);let c=cb(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${pa} Resolved endpoint: ${or(c)}`),c},"resolveEndpoint")});var fb=E((ZZ,pb)=>{var Nd=Object.defineProperty,QB=Object.getOwnPropertyDescriptor,ZB=Object.getOwnPropertyNames,ej=Object.prototype.hasOwnProperty,tj=(e,t)=>Nd(e,"name",{value:t,configurable:!0}),rj=(e,t)=>{for(var r in t)Nd(e,r,{get:t[r],enumerable:!0})},nj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ZB(t))!ej.call(e,o)&&o!==r&&Nd(e,o,{get:()=>t[o],enumerable:!(n=QB(t,o))||n.enumerable});return e},oj=e=>nj(Nd({},"__esModule",{value:!0}),e),ub={};rj(ub,{parseQueryString:()=>lb});pb.exports=oj(ub);function lb(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}tj(lb,"parseQueryString")});var Cr=E((eee,gb)=>{var Dd=Object.defineProperty,sj=Object.getOwnPropertyDescriptor,ij=Object.getOwnPropertyNames,aj=Object.prototype.hasOwnProperty,cj=(e,t)=>Dd(e,"name",{value:t,configurable:!0}),dj=(e,t)=>{for(var r in t)Dd(e,r,{get:t[r],enumerable:!0})},uj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ij(t))!aj.call(e,o)&&o!==r&&Dd(e,o,{get:()=>t[o],enumerable:!(n=sj(t,o))||n.enumerable});return e},lj=e=>uj(Dd({},"__esModule",{value:!0}),e),mb={};dj(mb,{parseUrl:()=>hb});gb.exports=lj(mb);var pj=fb(),hb=cj(e=>{if(typeof e=="string")return hb(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,pj.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var Ko=E((tee,Rb)=>{"use strict";var Md=Object.defineProperty,fj=Object.getOwnPropertyDescriptor,mj=Object.getOwnPropertyNames,hj=Object.prototype.hasOwnProperty,Or=(e,t)=>Md(e,"name",{value:t,configurable:!0}),gj=(e,t)=>{for(var r in t)Md(e,r,{get:t[r],enumerable:!0})},yj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mj(t))!hj.call(e,o)&&o!==r&&Md(e,o,{get:()=>t[o],enumerable:!(n=fj(t,o))||n.enumerable});return e},_j=e=>yj(Md({},"__esModule",{value:!0}),e),_b={};gj(_b,{ConditionObject:()=>ce.ConditionObject,DeprecatedObject:()=>ce.DeprecatedObject,EndpointError:()=>ce.EndpointError,EndpointObject:()=>ce.EndpointObject,EndpointObjectHeaders:()=>ce.EndpointObjectHeaders,EndpointObjectProperties:()=>ce.EndpointObjectProperties,EndpointParams:()=>ce.EndpointParams,EndpointResolverOptions:()=>ce.EndpointResolverOptions,EndpointRuleObject:()=>ce.EndpointRuleObject,ErrorRuleObject:()=>ce.ErrorRuleObject,EvaluateOptions:()=>ce.EvaluateOptions,Expression:()=>ce.Expression,FunctionArgv:()=>ce.FunctionArgv,FunctionObject:()=>ce.FunctionObject,FunctionReturn:()=>ce.FunctionReturn,ParameterObject:()=>ce.ParameterObject,ReferenceObject:()=>ce.ReferenceObject,ReferenceRecord:()=>ce.ReferenceRecord,RuleSetObject:()=>ce.RuleSetObject,RuleSetRules:()=>ce.RuleSetRules,TreeRuleObject:()=>ce.TreeRuleObject,awsEndpointFunctions:()=>Ob,getUserAgentPrefix:()=>bj,isIpAddress:()=>ce.isIpAddress,partition:()=>wb,resolveDefaultAwsRegionalEndpointsConfig:()=>Cj,resolveEndpoint:()=>ce.resolveEndpoint,setPartitionInfo:()=>Cb,toEndpointV1:()=>Pb,useDefaultPartitionInfo:()=>vj});Rb.exports=_j(_b);var ce=Go(),Sb=Or((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Sb(r))return!1;return!0}return!(!(0,ce.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,ce.isIpAddress)(e))},"isVirtualHostableS3Bucket"),yb=":",Sj="/",Ej=Or(e=>{let t=e.split(yb);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(yb)==="")return null;let c=a.map(d=>d.split(Sj)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},"parseArn"),Eb={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},vb=Eb,bb="",wb=Or(e=>{let{partitions:t}=vb;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),Cb=Or((e,t="")=>{vb=e,bb=t},"setPartitionInfo"),vj=Or(()=>{Cb(Eb,"")},"useDefaultPartitionInfo"),bj=Or(()=>bb,"getUserAgentPrefix"),Ob={isVirtualHostableS3Bucket:Sb,parseArn:Ej,partition:wb};ce.customEndpointFunctions.aws=Ob;var wj=Cr(),Cj=Or(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>Pb(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),Pb=Or(e=>(0,wj.parseUrl)(e.url),"toEndpointV1")});var kd,Vo,Tb=y(()=>{kd={warningEmitted:!1},Vo=e=>{e&&!kd.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(kd.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Pr(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var xb=y(()=>{});function Ab(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var Ib=y(()=>{});function Nb(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Db=y(()=>{});var Rr={};pt(Rr,{emitWarningIfUnsupportedVersion:()=>Vo,setCredentialFeature:()=>Pr,setFeature:()=>Ab,setTokenFeature:()=>Nb,state:()=>kd});var ht=y(()=>{Tb();xb();Ib();Db()});var Mb,sm,kb=y(()=>{Mb=b(ie()),sm=e=>Mb.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Jo,im=y(()=>{Jo=e=>new Date(Date.now()+e)});var Fb,Ub=y(()=>{im();Fb=(e,t)=>Math.abs(Jo(t).getTime()-e)>=3e5});var am,Lb=y(()=>{Ub();am=(e,t)=>{let r=Date.parse(e);return Fb(r,t)?r-Date.now():t}});var cm=y(()=>{kb();im();Lb()});var Bb,fa,Wo,He,dm,um=y(()=>{Bb=b(ie());cm();fa=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Wo=async e=>{let t=fa("context",e.context),r=fa("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await fa("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},He=class{async sign(t,r,n){if(!Bb.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Wo(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,d=n.context;if(d?.authSchemes?.length??!1){let[u,p]=d.authSchemes;u?.name==="sigv4a"&&p?.name==="sigv4"&&(a=p?.signingRegion??a,c=p?.signingName??c)}return await i.sign(t,{signingDate:Jo(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??sm(r.$response);if(n){let o=fa("config",t.config),s=o.systemClockOffset;o.systemClockOffset=am(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=sm(t);if(n){let o=fa("config",r.config);o.systemClockOffset=am(n,o.systemClockOffset)}}},dm=He});var jb,ma,Hb=y(()=>{jb=b(ie());cm();um();ma=class extends He{async sign(t,r,n){if(!jb.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await Wo(n),l=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:Jo(o.systemClockOffset),signingRegion:l,signingService:c})}}});var lm,qb=y(()=>{lm=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Fd,pm=y(()=>{Fd=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var $b,zb,Yo,Gb=y(()=>{qb();pm();$b="AWS_AUTH_SCHEME_PREFERENCE",zb="auth_scheme_preference",Yo={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Fd(t.signingName)in e)return["httpBearerAuth"];if($b in e)return lm(e[$b])},configFileSelector:e=>{if(zb in e)return lm(e[zb])},default:[]}});var Me=E((Aee,Vb)=>{var Ud=Object.defineProperty,Oj=Object.getOwnPropertyDescriptor,Pj=Object.getOwnPropertyNames,Rj=Object.prototype.hasOwnProperty,In=(e,t)=>Ud(e,"name",{value:t,configurable:!0}),Tj=(e,t)=>{for(var r in t)Ud(e,r,{get:t[r],enumerable:!0})},xj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Pj(t))!Rj.call(e,o)&&o!==r&&Ud(e,o,{get:()=>t[o],enumerable:!(n=Oj(t,o))||n.enumerable});return e},Aj=e=>xj(Ud({},"__esModule",{value:!0}),e),Kb={};Tj(Kb,{CredentialsProviderError:()=>Ij,ProviderError:()=>Ld,TokenProviderError:()=>Nj,chain:()=>Dj,fromStatic:()=>Mj,memoize:()=>kj});Vb.exports=Aj(Kb);var Tn,Ld=(Tn=class extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,Tn.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},In(Tn,"ProviderError"),Tn),xn,Ij=(xn=class extends Ld{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,xn.prototype)}},In(xn,"CredentialsProviderError"),xn),An,Nj=(An=class extends Ld{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,An.prototype)}},In(An,"TokenProviderError"),An),Dj=In((...e)=>async()=>{if(e.length===0)throw new Ld("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),Mj=In(e=>()=>Promise.resolve(e),"fromStatic"),kj=In((e,t,r)=>{let n,o,s,i=!1,a=In(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var fm,Jb,Wb,Yb=y(()=>{Be();fm=b(Me()),Jb=e=>(e.sigv4aSigningRegionSet=Sr(e.sigv4aSigningRegionSet),e),Wb={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new fm.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new fm.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Cw=E((Dee,ww)=>{var Gd=Object.defineProperty,Fj=Object.getOwnPropertyDescriptor,Uj=Object.getOwnPropertyNames,Lj=Object.prototype.hasOwnProperty,Pe=(e,t)=>Gd(e,"name",{value:t,configurable:!0}),Bj=(e,t)=>{for(var r in t)Gd(e,r,{get:t[r],enumerable:!0})},jj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uj(t))!Lj.call(e,o)&&o!==r&&Gd(e,o,{get:()=>t[o],enumerable:!(n=Fj(t,o))||n.enumerable});return e},Hj=e=>jj(Gd({},"__esModule",{value:!0}),e),tw={};Bj(tw,{ALGORITHM_IDENTIFIER:()=>Bd,ALGORITHM_IDENTIFIER_V4A:()=>Gj,ALGORITHM_QUERY_PARAM:()=>rw,ALWAYS_UNSIGNABLE_HEADERS:()=>uw,AMZ_DATE_HEADER:()=>vm,AMZ_DATE_QUERY_PARAM:()=>ym,AUTH_HEADER:()=>Em,CREDENTIAL_QUERY_PARAM:()=>nw,DATE_HEADER:()=>iw,EVENT_ALGORITHM_IDENTIFIER:()=>fw,EXPIRES_QUERY_PARAM:()=>sw,GENERATED_HEADERS:()=>aw,HOST_HEADER:()=>$j,KEY_TYPE_IDENTIFIER:()=>bm,MAX_CACHE_SIZE:()=>hw,MAX_PRESIGNED_TTL:()=>gw,PROXY_HEADER_PATTERN:()=>lw,REGION_SET_PARAM:()=>qj,SEC_HEADER_PATTERN:()=>pw,SHA256_HEADER:()=>zd,SIGNATURE_HEADER:()=>cw,SIGNATURE_QUERY_PARAM:()=>_m,SIGNED_HEADERS_QUERY_PARAM:()=>ow,SignatureV4:()=>rH,SignatureV4Base:()=>bw,TOKEN_HEADER:()=>dw,TOKEN_QUERY_PARAM:()=>Sm,UNSIGNABLE_PATTERNS:()=>zj,UNSIGNED_PAYLOAD:()=>mw,clearCredentialCache:()=>Vj,createScope:()=>Hd,getCanonicalHeaders:()=>mm,getCanonicalQuery:()=>vw,getPayloadHash:()=>qd,getSigningKey:()=>yw,hasHeader:()=>_w,moveHeadersToQuery:()=>Ew,prepareRequest:()=>gm,signatureV4aContainer:()=>nH});ww.exports=Hj(tw);var Xb=Ce(),rw="X-Amz-Algorithm",nw="X-Amz-Credential",ym="X-Amz-Date",ow="X-Amz-SignedHeaders",sw="X-Amz-Expires",_m="X-Amz-Signature",Sm="X-Amz-Security-Token",qj="X-Amz-Region-Set",Em="authorization",vm=ym.toLowerCase(),iw="date",aw=[Em,vm,iw],cw=_m.toLowerCase(),zd="x-amz-content-sha256",dw=Sm.toLowerCase(),$j="host",uw={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},lw=/^proxy-/,pw=/^sec-/,zj=[/^proxy-/i,/^sec-/i],Bd="AWS4-HMAC-SHA256",Gj="AWS4-ECDSA-P256-SHA256",fw="AWS4-HMAC-SHA256-PAYLOAD",mw="UNSIGNED-PAYLOAD",hw=50,bm="aws4_request",gw=60*60*24*7,Tr=md(),Kj=Ce(),Xo={},jd=[],Hd=Pe((e,t,r)=>`${e}/${t}/${r}/${bm}`,"createScope"),yw=Pe(async(e,t,r,n,o)=>{let s=await Qb(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,Tr.toHex)(s)}:${t.sessionToken}`;if(i in Xo)return Xo[i];for(jd.push(i);jd.length>hw;)delete Xo[jd.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,bm])a=await Qb(e,a,c);return Xo[i]=a},"getSigningKey"),Vj=Pe(()=>{jd.length=0,Object.keys(Xo).forEach(e=>{delete Xo[e]})},"clearCredentialCache"),Qb=Pe((e,t,r)=>{let n=new e(t);return n.update((0,Kj.toUint8Array)(r)),n.digest()},"hmac"),mm=Pe(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in uw||t?.has(s)||lw.test(s)||pw.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),Jj=Jp(),Wj=Ce(),qd=Pe(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===zd)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,Jj.isArrayBuffer)(t)){let n=new r;return n.update((0,Wj.toUint8Array)(t)),(0,Tr.toHex)(await n.digest())}return mw},"getPayloadHash"),Zb=Ce(),Qo,Yj=(Qo=class{format(t){let r=[];for(let s of Object.keys(t)){let i=(0,Zb.fromUtf8)(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=(0,Zb.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(Qj.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!Xj.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let u=new Uint8Array(17);return u[0]=9,u.set((0,Tr.fromHex)(t.value.replace(/\-/g,"")),1),u}}},Pe(Qo,"HeaderFormatter"),Qo),Xj=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Nn,Qj=(Nn=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&hm(r),new Nn(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&hm(t),parseInt((0,Tr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}},Pe(Nn,"Int64"),Nn);function hm(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Pe(hm,"negate");var _w=Pe((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),Sw=ie(),Ew=Pe((e,t={})=>{let{headers:r,query:n={}}=Sw.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),gm=Pe(e=>{e=Sw.HttpRequest.clone(e);for(let t of Object.keys(e.headers))aw.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),ew=ze(),Zj=Ce(),$d=uf(),vw=Pe(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===cw)continue;let o=(0,$d.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,$d.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${(0,$d.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),eH=Pe(e=>tH(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),tH=Pe(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),Zo,bw=(Zo=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,ew.normalizeProvider)(n),this.credentialProvider=(0,ew.normalizeProvider)(r)}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${vw(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n,o){let s=new this.sha256;s.update((0,Zj.toUint8Array)(n));let i=await s.digest();return`${o}
${t}
${r}
${(0,Tr.toHex)(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,$d.escapeUri)(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=eH(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},Pe(Zo,"SignatureV4Base"),Zo),es,rH=(es=class extends bw{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i}),this.headerFormatter=new Yj}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:d,signingService:l}=r,u=await this.credentialProvider();this.validateResolvedCredentials(u);let p=d??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(n);if(o>gw)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let S=Hd(g,p,l??this.service),v=Ew(gm(t),{unhoistableHeaders:i,hoistableHeaders:c});u.sessionToken&&(v.query[Sm]=u.sessionToken),v.query[rw]=Bd,v.query[nw]=`${u.accessKeyId}/${S}`,v.query[ym]=h,v.query[sw]=o.toString(10);let w=mm(v,s,a);return v.query[ow]=this.getCanonicalHeaderList(w),v.query[_m]=await this.getSignature(h,S,this.getSigningKey(u,p,g,l),this.createCanonicalRequest(v,w,await qd(t,this.sha256))),v}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:d}=this.formatDate(n),l=Hd(c,a,i??this.service),u=await qd({headers:{},body:r},this.sha256),p=new this.sha256;p.update(t);let h=(0,Tr.toHex)(await p.digest()),g=[fw,d,l,o,h,u].join(`
`);return this.signString(g,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update((0,Xb.toUint8Array)(t)),(0,Tr.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),d=gm(t),{longDate:l,shortDate:u}=this.formatDate(r),p=Hd(u,c,i??this.service);d.headers[vm]=l,a.sessionToken&&(d.headers[dw]=a.sessionToken);let h=await qd(d,this.sha256);!_w(zd,d.headers)&&this.applyChecksum&&(d.headers[zd]=h);let g=mm(d,o,n),S=await this.getSignature(l,p,this.getSigningKey(a,c,u,i),this.createCanonicalRequest(d,g,h));return d.headers[Em]=`${Bd} Credential=${a.accessKeyId}/${p}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${S}`,d}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o,Bd),i=new this.sha256(await n);return i.update((0,Xb.toUint8Array)(s)),(0,Tr.toHex)(await i.digest())}getSigningKey(t,r,n,o){return yw(this.sha256,t,n,r,o||this.service)}},Pe(es,"SignatureV4"),es),nH={SignatureV4a:null}});function oH(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Zf(t,Qf,xd):r?n=Sr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function sH(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var wm,Dn,Ow,Pw=y(()=>{ht();Be();wm=b(Cw()),Dn=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(d){d&&d!==t&&d!==n&&(r=!0),t=d;let l=oH(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),u=sH(e,l);r&&!u.attributed?(n=async p=>u(p).then(h=>Pr(h,"CREDENTIALS_CODE","e")),n.memoized=u.memoized,n.configBound=u.configBound,n.attributed=!0):n=u},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=Sr(e.signer):e.regionInfoProvider?a=()=>Sr(e.region)().then(async d=>[await e.regionInfoProvider(d,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},d]).then(([d,l])=>{let{signingRegion:u,signingService:p}=d;e.signingRegion=e.signingRegion||u||l,e.signingName=e.signingName||p||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||wm.SignatureV4;return new g(h)}):a=async d=>{d=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Sr(e.region)(),properties:{}},d);let l=d.signingRegion,u=d.signingName;e.signingRegion=e.signingRegion||l,e.signingName=e.signingName||u||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},h=e.signerConstructor||wm.SignatureV4;return new h(p)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},Ow=Dn});var Rw=y(()=>{um();Hb();Gb();Yb();Pw()});var Tw={};pt(Tw,{AWSSDKSigV4Signer:()=>dm,AwsSdkSigV4ASigner:()=>ma,AwsSdkSigV4Signer:()=>He,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Yo,NODE_SIGV4A_CONFIG_OPTIONS:()=>Wb,getBearerTokenEnvKey:()=>Fd,resolveAWSSDKSigV4Config:()=>Ow,resolveAwsSdkSigV4AConfig:()=>Jb,resolveAwsSdkSigV4Config:()=>Dn,validateSigningProperties:()=>Wo});var Cm=y(()=>{Rw();pm()});var iH,aH,cH,xw=y(()=>{iH=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},aH=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},cH=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var ha=E((Kee,Nw)=>{var Kd=Object.defineProperty,dH=Object.getOwnPropertyDescriptor,uH=Object.getOwnPropertyNames,lH=Object.prototype.hasOwnProperty,pH=(e,t)=>Kd(e,"name",{value:t,configurable:!0}),fH=(e,t)=>{for(var r in t)Kd(e,r,{get:t[r],enumerable:!0})},mH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of uH(t))!lH.call(e,o)&&o!==r&&Kd(e,o,{get:()=>t[o],enumerable:!(n=dH(t,o))||n.enumerable});return e},hH=e=>mH(Kd({},"__esModule",{value:!0}),e),Iw={};fH(Iw,{calculateBodyLength:()=>gH});Nw.exports=hH(Iw);var Aw=typeof TextEncoder=="function"?new TextEncoder:null,gH=pH(e=>{if(typeof e=="string"){if(Aw)return Aw.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Ae,xr=y(()=>{Ae=class{constructor(){_(this,"serdeContext")}setSerdeContext(t){this.serdeContext=t}}});function Dw(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Oe(n,"bigDecimal"):BigInt(n)}return t}var Mw=y(()=>{Qe()});var Bw=E((Xee,Lw)=>{var Vd=Object.defineProperty,yH=Object.getOwnPropertyDescriptor,_H=Object.getOwnPropertyNames,SH=Object.prototype.hasOwnProperty,Ze=(e,t)=>Vd(e,"name",{value:t,configurable:!0}),EH=(e,t)=>{for(var r in t)Vd(e,r,{get:t[r],enumerable:!0})},vH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _H(t))!SH.call(e,o)&&o!==r&&Vd(e,o,{get:()=>t[o],enumerable:!(n=yH(t,o))||n.enumerable});return e},bH=e=>vH(Vd({},"__esModule",{value:!0}),e),Uw={};EH(Uw,{constructStack:()=>Om});Lw.exports=bH(Uw);var Mn=Ze((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Ar=Ze((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Om=Ze(()=>{let e=[],t=[],r=!1,n=new Set,o=Ze(u=>u.sort((p,h)=>kw[h.step]-kw[p.step]||Fw[h.priority||"normal"]-Fw[p.priority||"normal"]),"sort"),s=Ze(u=>{let p=!1,h=Ze(g=>{let S=Mn(g.name,g.aliases);if(S.includes(u)){p=!0;for(let v of S)n.delete(v);return!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),p},"removeByName"),i=Ze(u=>{let p=!1,h=Ze(g=>{if(g.middleware===u){p=!0;for(let S of Mn(g.name,g.aliases))n.delete(S);return!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),p},"removeByReference"),a=Ze(u=>(e.forEach(p=>{u.add(p.middleware,{...p})}),t.forEach(p=>{u.addRelativeTo(p.middleware,{...p})}),u.identifyOnResolve?.(l.identifyOnResolve()),u),"cloneTo"),c=Ze(u=>{let p=[];return u.before.forEach(h=>{h.before.length===0&&h.after.length===0?p.push(h):p.push(...c(h))}),p.push(u),u.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?p.push(h):p.push(...c(h))}),p},"expandRelativeMiddlewareList"),d=Ze((u=!1)=>{let p=[],h=[],g={};return e.forEach(v=>{let w={...v,before:[],after:[]};for(let C of Mn(w.name,w.aliases))g[C]=w;p.push(w)}),t.forEach(v=>{let w={...v,before:[],after:[]};for(let C of Mn(w.name,w.aliases))g[C]=w;h.push(w)}),h.forEach(v=>{if(v.toMiddleware){let w=g[v.toMiddleware];if(w===void 0){if(u)return;throw new Error(`${v.toMiddleware} is not found when adding ${Ar(v.name,v.aliases)} middleware ${v.relation} ${v.toMiddleware}`)}v.relation==="after"&&w.after.push(v),v.relation==="before"&&w.before.push(v)}}),o(p).map(c).reduce((v,w)=>(v.push(...w),v),[])},"getMiddlewareList"),l={add:(u,p={})=>{let{name:h,override:g,aliases:S}=p,v={step:"initialize",priority:"normal",middleware:u,...p},w=Mn(h,S);if(w.length>0){if(w.some(C=>n.has(C))){if(!g)throw new Error(`Duplicate middleware name '${Ar(h,S)}'`);for(let C of w){let N=e.findIndex(T=>T.name===C||T.aliases?.some(V=>V===C));if(N===-1)continue;let k=e[N];if(k.step!==v.step||v.priority!==k.priority)throw new Error(`"${Ar(k.name,k.aliases)}" middleware with ${k.priority} priority in ${k.step} step cannot be overridden by "${Ar(h,S)}" middleware with ${v.priority} priority in ${v.step} step.`);e.splice(N,1)}}for(let C of w)n.add(C)}e.push(v)},addRelativeTo:(u,p)=>{let{name:h,override:g,aliases:S}=p,v={middleware:u,...p},w=Mn(h,S);if(w.length>0){if(w.some(C=>n.has(C))){if(!g)throw new Error(`Duplicate middleware name '${Ar(h,S)}'`);for(let C of w){let N=t.findIndex(T=>T.name===C||T.aliases?.some(V=>V===C));if(N===-1)continue;let k=t[N];if(k.toMiddleware!==v.toMiddleware||k.relation!==v.relation)throw new Error(`"${Ar(k.name,k.aliases)}" middleware ${k.relation} "${k.toMiddleware}" middleware cannot be overridden by "${Ar(h,S)}" middleware ${v.relation} "${v.toMiddleware}" middleware.`);t.splice(N,1)}}for(let C of w)n.add(C)}t.push(v)},clone:()=>a(Om()),use:u=>{u.applyToStack(l)},remove:u=>typeof u=="string"?s(u):i(u),removeByTag:u=>{let p=!1,h=Ze(g=>{let{tags:S,name:v,aliases:w}=g;if(S&&S.includes(u)){let C=Mn(v,w);for(let N of C)n.delete(N);return p=!0,!1}return!0},"filterCb");return e=e.filter(h),t=t.filter(h),p},concat:u=>{let p=a(Om());return p.use(u),p.identifyOnResolve(r||p.identifyOnResolve()||(u.identifyOnResolve?.()??!1)),p},applyToStack:a,identify:()=>d(!0).map(u=>{let p=u.step??u.relation+" "+u.toMiddleware;return Ar(u.name,u.aliases)+" - "+p}),identifyOnResolve(u){return typeof u=="boolean"&&(r=u),r},resolve:(u,p)=>{for(let h of d().map(g=>g.middleware).reverse())u=h(u,p);return r&&console.log(l.identify()),u}};return l},"constructStack"),kw={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Fw={high:3,normal:2,low:1}});var L=E((Qee,Nm)=>{var Jd=Object.defineProperty,wH=Object.getOwnPropertyDescriptor,CH=Object.getOwnPropertyNames,OH=Object.prototype.hasOwnProperty,J=(e,t)=>Jd(e,"name",{value:t,configurable:!0}),PH=(e,t)=>{for(var r in t)Jd(e,r,{get:t[r],enumerable:!0})},Rm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of CH(t))!OH.call(e,o)&&o!==r&&Jd(e,o,{get:()=>t[o],enumerable:!(n=wH(t,o))||n.enumerable});return e},RH=(e,t,r)=>(Rm(e,t,"default"),r&&Rm(r,t,"default")),TH=e=>Rm(Jd({},"__esModule",{value:!0}),e),Am={};PH(Am,{Client:()=>xH,Command:()=>qw,NoOpLogger:()=>KH,SENSITIVE_STRING:()=>IH,ServiceException:()=>DH,_json:()=>xm,collectBody:()=>Pm.collectBody,convertMap:()=>VH,createAggregatedClient:()=>NH,decorateServiceException:()=>$w,emitWarningIfUnsupportedVersion:()=>UH,extendedEncodeURIComponent:()=>Pm.extendedEncodeURIComponent,getArrayIfSingleItem:()=>zH,getDefaultClientConfiguration:()=>qH,getDefaultExtensionConfiguration:()=>Gw,getValueFromTextNode:()=>Kw,isSerializableHeaderValue:()=>GH,loadConfigsForDefaultMode:()=>FH,map:()=>Im,resolveDefaultRuntimeConfig:()=>$H,resolvedPath:()=>Pm.resolvedPath,serializeDateTime:()=>ZH,serializeFloat:()=>QH,take:()=>JH,throwDefaultError:()=>zw,withBaseException:()=>MH});Nm.exports=TH(Am);var Hw=Bw(),ts,xH=(ts=class{constructor(t){this.config=t,this.middlewareStack=(0,Hw.constructStack)()}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=o===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,o),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)a(t).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},J(ts,"Client"),ts),Pm=(rr(),q(qv)),Tm=Ct(),rs,qw=(rs=class{constructor(){this.middlewareStack=(0,Hw.constructStack)()}static classBuilder(){return new AH}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:l,CommandCtor:u}){for(let v of o.bind(this)(u,t,r,n))this.middlewareStack.use(v);let p=t.concat(this.middlewareStack),{logger:h}=r,g={logger:h,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Tm.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...l},{requestHandler:S}=r;return p.resolve(v=>S.handle(v.request,n||{}),g)}},J(rs,"Command"),rs),ns,AH=(ns=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){var n;let t=this,r;return r=(n=class extends qw{constructor(...[s]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=s??{},t._init(this),this.schema=t._operationSchema}static getEndpointParameterInstructions(){return t._ep}resolveMiddleware(s,i,a){return this.resolveMiddlewareWithContext(s,i,a,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}},J(n,"CommandRef"),n)}},J(ns,"ClassBuilder"),ns),IH="***SensitiveInformation***",NH=J((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=J(async function(i,a,c){let d=new n(i);if(typeof a=="function")this.send(d,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},c)}else return this.send(d,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),At,DH=(At=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return At.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===At?At.isInstance(t):At.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},J(At,"ServiceException"),At),$w=J((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),zw=J(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=kH(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw $w(i,t)},"throwDefaultError"),MH=J(e=>({output:t,parsedBody:r,errorCode:n})=>{zw({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),kH=J(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),FH=J(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),jw=!1,UH=J(e=>{e&&!jw&&parseInt(e.substring(1,e.indexOf(".")))<16&&(jw=!0)},"emitWarningIfUnsupportedVersion"),LH=J(e=>{let t=[];for(let r in Tm.AlgorithmId){let n=Tm.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),BH=J(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),jH=J(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),HH=J(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),Gw=J(e=>Object.assign(LH(e),jH(e)),"getDefaultExtensionConfiguration"),qH=Gw,$H=J(e=>Object.assign(BH(e),HH(e)),"resolveDefaultRuntimeConfig"),zH=J(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),Kw=J(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Kw(e[r]));return e},"getValueFromTextNode"),GH=J(e=>e!=null,"isSerializableHeaderValue"),os,KH=(os=class{trace(){}debug(){}info(){}warn(){}error(){}},J(os,"NoOpLogger"),os);function Im(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,WH(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}Vw(n,null,s,i)}return n}J(Im,"map");var VH=J(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),JH=J((e,t)=>{let r={};for(let n in t)Vw(r,e,t,n);return r},"take"),WH=J((e,t,r)=>Im(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),Vw=J((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=YH,c=XH,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),YH=J(e=>e!=null,"nonNullish"),XH=J(e=>e,"pass"),QH=J(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),ZH=J(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),xm=J(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(xm);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=xm(e[r]));return t}return e},"_json");RH(Am,(Qe(),q(Iv)),Nm.exports)});var Jw,Wd,Dm=y(()=>{Jw=b(L()),Wd=(e,t)=>(0,Jw.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var ss,Mm,kn,ga=y(()=>{Dm();ss=(e,t)=>Wd(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Mm=async(e,t)=>{let r=await ss(e,t);return r.message=r.message??r.Message,r},kn=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var Ww,ya,km=y(()=>{Se();Qe();Ww=b(Ne());xr();Mw();ga();ya=class extends Ae{constructor(r){super();_(this,"settings");this.settings=r}async read(r,n){return this._read(r,typeof n=="string"?JSON.parse(n,Dw):await ss(n,this.serdeContext))}readObject(r,n){return this._read(r,n)}_read(r,n){let o=n!==null&&typeof n=="object",s=A.of(r);if(s.isListSchema()&&Array.isArray(n)){let a=s.getValueSchema(),c=[],d=!!s.getMergedTraits().sparse;for(let l of n)(d||l!=null)&&c.push(this._read(a,l));return c}else if(s.isMapSchema()&&o){let a=s.getValueSchema(),c={},d=!!s.getMergedTraits().sparse;for(let[l,u]of Object.entries(n))(d||u!=null)&&(c[l]=this._read(a,u));return c}else if(s.isStructSchema()&&o){let a={};for(let[c,d]of s.structIterator()){let l=this.settings.jsonName?d.getMergedTraits().jsonName??c:c,u=this._read(d,n[l]);u!=null&&(a[c]=u)}return a}if(s.isBlobSchema()&&typeof n=="string")return(0,Ww.fromBase64)(n);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof n=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return De.from(n);if(s.isTimestampSchema()){let a=this.settings.timestampFormat;switch(a.useTrait?s.getSchema()===P.TIMESTAMP_DEFAULT?a.default:s.getSchema()??a.default:a.default){case P.TIMESTAMP_DATE_TIME:return ia(n);case P.TIMESTAMP_HTTP_DATE:return aa(n);case P.TIMESTAMP_EPOCH_SECONDS:return ca(n);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",n),new Date(n)}}if(s.isBigIntegerSchema()&&(typeof n=="number"||typeof n=="string"))return BigInt(n);if(s.isBigDecimalSchema()&&n!=null)return n instanceof Oe?n:new Oe(String(n),"bigDecimal");if(s.isNumericSchema()&&typeof n=="string")switch(n){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return n}}});var Yw,Yd,Xw=y(()=>{Qe();Yw="\u039D",Yd=class{constructor(){_(this,"values",new Map);_(this,"counter",0);_(this,"stage",0)}createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Oe){let n=`${Yw+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${Yw+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var _a,Fm=y(()=>{Se();Qe();Qe();xr();Xw();_a=class extends Ae{constructor(r){super();_(this,"settings");_(this,"buffer");_(this,"rootSchema");this.settings=r}write(r,n){this.rootSchema=A.of(r),this.buffer=this._write(this.rootSchema,n)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let r=new Yd;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(r,n,o){let s=n!==null&&typeof n=="object",i=A.of(r);if(i.isListSchema()&&Array.isArray(n)){let c=i.getValueSchema(),d=[],l=!!i.getMergedTraits().sparse;for(let u of n)(l||u!=null)&&d.push(this._write(c,u));return d}else if(i.isMapSchema()&&s){let c=i.getValueSchema(),d={},l=!!i.getMergedTraits().sparse;for(let[u,p]of Object.entries(n))(l||p!=null)&&(d[u]=this._write(c,p));return d}else if(i.isStructSchema()&&s){let c={};for(let[d,l]of i.structIterator()){let u=this.settings.jsonName?l.getMergedTraits().jsonName??d:d,p=this._write(l,n[d],i);p!==void 0&&(c[u]=p)}return c}if(n===null&&o?.isStructSchema())return;if(i.isBlobSchema()&&(n instanceof Uint8Array||typeof n=="string")){if(i===this.rootSchema)return n;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(n)}if(i.isTimestampSchema()&&n instanceof Date){let c=this.settings.timestampFormat;switch(c.useTrait?i.getSchema()===P.TIMESTAMP_DEFAULT?c.default:i.getSchema()??c.default:c.default){case P.TIMESTAMP_DATE_TIME:return n.toISOString().replace(".000Z","Z");case P.TIMESTAMP_HTTP_DATE:return sa(n);case P.TIMESTAMP_EPOCH_SECONDS:return n.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",n),n.getTime()/1e3}}if(i.isNumericSchema()&&typeof n=="number"&&(Math.abs(n)===1/0||isNaN(n)))return String(n);let a=i.getMergedTraits().mediaType;return i.isStringSchema()&&typeof n=="string"&&a&&(a==="application/json"||a.endsWith("+json"))?De.from(n):n}}});var Fn,Xd=y(()=>{xr();km();Fm();Fn=class extends Ae{constructor(r){super();_(this,"settings");this.settings=r}createSerializer(){let r=new _a(this.settings);return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new ya(this.settings);return r.setSerdeContext(this.serdeContext),r}}});var Qw,Un,Qd=y(()=>{rr();Se();Qw=b(ha());Xd();ga();Un=class extends bn{constructor({defaultNamespace:r}){super({defaultNamespace:r});_(this,"serializer");_(this,"deserializer");_(this,"codec");this.codec=new Fn({timestampFormat:{useTrait:!0,default:P.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(r,n,o){let s=await super.serializeRequest(r,n,o);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+A.of(r).getName()}),(tr(r.input)==="unit"||!s.body)&&(s.body="{}");try{s.headers["content-length"]=String((0,Qw.calculateBodyLength)(s.body))}catch{}return s}getPayloadCodec(){return this.codec}async handleError(r,n,o,s,i){let a=kn(o,s)??"Unknown",c=this.options.defaultNamespace,d=a;a.includes("#")&&([c,d]=a.split("#"));let l=fe.for(c),u;try{u=l.getSchema(a)}catch{let w=fe.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(w){let C=w.ctor;throw Object.assign(new C(d),s)}throw new Error(d)}let p=A.of(u),h=s.message??s.Message??"Unknown",g=new u.ctor(h);await this.deserializeHttpMessage(u,n,o,s);let S={};for(let[v,w]of p.structIterator()){let C=w.getMergedTraits().jsonName??v;S[v]=this.codec.createDeserializer().readObject(w,s[C])}throw Object.assign(g,{$metadata:i,$response:o,$fault:p.getMergedTraits().error,message:h,...S}),g}}});var Um,Zw=y(()=>{Qd();Um=class extends Un{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}}});var Lm,e0=y(()=>{Qd();Lm=class extends Un{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}}});var t0,Bm,r0=y(()=>{rr();Se();t0=b(ha());Xd();ga();Bm=class extends vn{constructor({defaultNamespace:r}){super({defaultNamespace:r});_(this,"serializer");_(this,"deserializer");_(this,"codec");let n={timestampFormat:{useTrait:!0,default:P.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Fn(n),this.serializer=new Pn(this.codec.createSerializer(),n),this.deserializer=new On(this.codec.createDeserializer(),n)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(r){this.codec.setSerdeContext(r),super.setSerdeContext(r)}async serializeRequest(r,n,o){let s=await super.serializeRequest(r,n,o),i=A.of(r.input),a=i.getMemberSchemas();if(!s.headers["content-type"]){let c=Object.values(a).find(d=>!!d.getMergedTraits().httpPayload);if(c){let d=c.getMergedTraits().mediaType;d?s.headers["content-type"]=d:c.isStringSchema()?s.headers["content-type"]="text/plain":c.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]="application/json"}else i.isUnitSchema()||Object.values(a).find(l=>{let{httpQuery:u,httpQueryParams:p,httpHeader:h,httpLabel:g,httpPrefixHeaders:S}=l.getMergedTraits();return!u&&!p&&!h&&!g&&S===void 0})&&(s.headers["content-type"]="application/json")}if(s.headers["content-type"]&&!s.body&&(s.body="{}"),s.body)try{s.headers["content-length"]=String((0,t0.calculateBodyLength)(s.body))}catch{}return s}async handleError(r,n,o,s,i){let a=kn(o,s)??"Unknown",c=this.options.defaultNamespace,d=a;a.includes("#")&&([c,d]=a.split("#"));let l=fe.for(c),u;try{u=l.getSchema(a)}catch{let w=fe.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(w){let C=w.ctor;throw Object.assign(new C(d),s)}throw new Error(d)}let p=A.of(u),h=s.message??s.Message??"Unknown",g=new u.ctor(h);await this.deserializeHttpMessage(u,n,o,s);let S={};for(let[v,w]of p.structIterator()){let C=w.getMergedTraits().jsonName??v;S[v]=this.codec.createDeserializer().readObject(w,s[C])}throw Object.assign(g,{$metadata:i,$response:o,$fault:p.getMergedTraits().error,message:h,...S}),g}}});var n0,eq,o0=y(()=>{n0=b(L()),eq=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,n0.expectUnion)(e)}});function Zd(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function i0(e){return typeof e<"u"}var s0,tq,rq,nq,Sa,eu=y(()=>{"use strict";s0=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",tq=s0+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",rq="["+s0+"]["+tq+"]*",nq=new RegExp("^"+rq+"$");Sa=function(e){let t=nq.exec(e);return!(t===null||typeof t>"u")}});function l0(e,t){t=Object.assign({},oq,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=c0(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=d0(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!pq(c)){let u;return c.trim().length===0?u="Invalid space after '<'.":u="Tag '"+c+"' is an invalid name.",me("InvalidTag",u,ke(e,s))}let d=aq(e,s);if(d===!1)return me("InvalidAttr","Attributes for '"+c+"' have open quote.",ke(e,s));let l=d.value;if(s=d.index,l[l.length-1]==="/"){let u=s-l.length;l=l.substring(0,l.length-1);let p=u0(l,t);if(p===!0)n=!0;else return me(p.err.code,p.err.msg,ke(e,u+p.err.line))}else if(a)if(d.tagClosed){if(l.trim().length>0)return me("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",ke(e,i));if(r.length===0)return me("InvalidTag","Closing tag '"+c+"' has not been opened.",ke(e,i));{let u=r.pop();if(c!==u.tagName){let p=ke(e,u.tagStartPos);return me("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",ke(e,i))}r.length==0&&(o=!0)}}else return me("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",ke(e,s));else{let u=u0(l,t);if(u!==!0)return me(u.err.code,u.err.msg,ke(e,s-l.length+u.err.line));if(o===!0)return me("InvalidXml","Multiple possible root nodes found.",ke(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=d0(e,s);continue}else if(e[s+1]==="?"){if(s=c0(e,++s),s.err)return s}else break;else if(e[s]==="&"){let u=uq(e,s);if(u==-1)return me("InvalidChar","char '&' is not expected.",ke(e,s));s=u}else if(o===!0&&!a0(e[s]))return me("InvalidXml","Extra text at the end",ke(e,s));e[s]==="<"&&s--}}else{if(a0(e[s]))continue;return me("InvalidChar","char '"+e[s]+"' is not expected.",ke(e,s))}if(n){if(r.length==1)return me("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",ke(e,r[0].tagStartPos));if(r.length>0)return me("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return me("InvalidXml","Start tag expected.",1);return!0}function a0(e){return e===" "||e==="	"||e===`
`||e==="\r"}function c0(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return me("InvalidXml","XML declaration allowed only at the start of the document.",ke(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function d0(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function aq(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===sq||e[t]===iq)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function u0(e,t){let r=Zd(e,cq),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return me("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Ea(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return me("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Ea(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return me("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Ea(r[o]));let s=r[o][2];if(!lq(s))return me("InvalidAttr","Attribute '"+s+"' is an invalid name.",Ea(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return me("InvalidAttr","Attribute '"+s+"' is repeated.",Ea(r[o]))}return!0}function dq(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function uq(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,dq(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function me(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function lq(e){return Sa(e)}function pq(e){return Sa(e)}function ke(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Ea(e){return e.startIndex+e[1].length}var oq,sq,iq,cq,p0=y(()=>{"use strict";eu();oq={allowBooleanAttributes:!1,unpairedTags:[]};sq='"',iq="'";cq=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var fq,f0,m0=y(()=>{fq={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},f0=function(e){return Object.assign({},fq,e)}});var tu,Ge,ru=y(()=>{"use strict";typeof Symbol!="function"?tu="@@xmlMetadata":tu=Symbol("XML Node Metadata");Ge=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][tu]={startIndex:r})}static getMetaDataSymbol(){return tu}}});function jm(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&Ln(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=mq(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(o&&Ln(e,"!ELEMENT",t)){t+=8;let{index:a}=gq(e,t+1);t=a}else if(o&&Ln(e,"!ATTLIST",t))t+=8;else if(o&&Ln(e,"!NOTATION",t)){t+=9;let{index:a}=hq(e,t+1);t=a}else if(Ln(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function mq(e,t){t=Ir(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Hm(r),t=Ir(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=nu(e,t,"entity"),t--,[r,n,t]}function hq(e,t){t=Ir(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Hm(r),t=Ir(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=Ir(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=nu(e,t,"publicIdentifier"),t=Ir(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=nu(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=nu(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function nu(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function gq(e,t){t=Ir(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!Hm(r))throw new Error(`Invalid element name: "${r}"`);t=Ir(e,t);let n="";if(e[t]==="E"&&Ln(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Ln(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function Ln(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function Hm(e){if(Sa(e))return e;throw new Error(`Invalid entity name ${e}`)}var Ir,h0=y(()=>{eu();Ir=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function qm(e,t={}){if(t=Object.assign({},Sq,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&yq.test(r))return wq(r,16);if(r.search(/.+[eE].+/)!==-1)return vq(e,r,t);{let n=_q.exec(r);if(n){let o=n[1]||"",s=n[2],i=bq(n[3]),a=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let c=Number(r),d=String(c);if(c===0)return c;if(d.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return d==="0"||d===i||d===`${o}${i}`?c:e;let l=s?i:r;return s?l===d||o+l===d?c:e:l===d||l===o+d?c:e}}else return e}}function vq(e,t,r){if(!r.eNotation)return e;let n=t.match(Eq);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function bq(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function wq(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var yq,_q,Sq,Eq,g0=y(()=>{yq=/^[-+]?0x[a-fA-F0-9]+$/,_q=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Sq={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Eq=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function $m(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var y0=y(()=>{});function Cq(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Oq(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Gm(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Gm(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Pq(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function Tq(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=Zd(e,Rq),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[i][4],d=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let l=this.options.attributeValueProcessor(a,c,t);l==null?s[d]=c:typeof l!=typeof c||l!==c?s[d]=l:s[d]=Gm(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[d]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function Aq(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function Nq(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function Dq(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function Mq(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function Bn(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function zm(e,t,r,n=">"){let o=Mq(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,d=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let l=c;if(r){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1),d=c!==o.data.substr(u+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:d,rawTagName:l}}function kq(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=Bn(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=Bn(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Bn(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Bn(e,"]]>",r,"StopNode is not closed.")-2;else{let s=zm(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function Gm(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:qm(e,r)}else return i0(e)?e:""}var va,Rq,xq,Iq,_0=y(()=>{"use strict";eu();ru();h0();g0();y0();va=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=Cq,this.parseXml=xq,this.parseTextData=Oq,this.resolveNameSpace=Pq,this.buildAttributesMap=Tq,this.isItStopNode=Dq,this.replaceEntitiesValue=Iq,this.readStopNodeData=kq,this.saveTextToParentTag=Nq,this.addChild=Aq,this.ignoreAttributesFn=$m(this.options.ignoreAttributes)}};Rq=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");xq=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Ge("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=Bn(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let d=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let l=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(l=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=o.lastIndexOf("."),o=o.substring(0,l),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=zm(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Ge(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=Bn(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=jm(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=Bn(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);n=this.saveTextToParentTag(n,r,o);let d=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);d==null&&(d=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,d),s=a+2}else{let a=zm(e,s,this.options.removeNSPrefix),c=a.tagName,d=a.rawTagName,l=a.tagExp,u=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let h=r;h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c);let g=s;if(this.isItStopNode(this.options.stopNodes,o,c)){let S="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),l=c):l=l.substr(0,l.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let w=this.readStopNodeData(e,d,p+1);if(!w)throw new Error(`Unexpected end of ${d}`);s=w.i,S=w.tagContent}let v=new Ge(c);c!==l&&u&&(v[":@"]=this.buildAttributesMap(l,o,c)),S&&(S=this.parseTextData(S,c,o,!0,u,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),v.add(this.options.textNodeName,S),this.addChild(r,v,o,g)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),l=c):l=l.substr(0,l.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let S=new Ge(c);c!==l&&u&&(S[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,S,o,g),o=o.substr(0,o.lastIndexOf("."))}else{let S=new Ge(c);this.tagsNodeStack.push(r),c!==l&&u&&(S[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,S,o,g),r=S}n="",s=p}}else n+=e[s];return t.child};Iq=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function Vm(e,t){return S0(e,t)}function S0(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=Fq(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=S0(i[a],t,c),l=Lq(d,t);i[Km]!==void 0&&(d[Km]=i[Km]),i[":@"]?Uq(d,i[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(d)):t.isArray(a,c,l)?o[a]=[d]:o[a]=d}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function Fq(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function Uq(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function Lq(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var Km,E0=y(()=>{"use strict";ru();Km=Ge.getMetaDataSymbol()});var Nr,v0=y(()=>{m0();_0();E0();p0();ru();Nr=class{constructor(t){this.externalEntities={},this.options=f0(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=l0(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new va(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:Vm(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return Ge.getMetaDataSymbol()}}});var Jm=y(()=>{"use strict";v0()});var b0,w0,jn,ou=y(()=>{rr();Se();b0=b(L()),w0=b(Ce());Jm();xr();jn=class extends Ae{constructor(r){super();_(this,"settings");_(this,"stringDeserializer");this.settings=r,this.stringDeserializer=new Cn(r)}setSerdeContext(r){this.serdeContext=r,this.stringDeserializer.setSerdeContext(r)}read(r,n,o){let s=A.of(r),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(l=>!!l.getMemberTraits().eventPayload)){let l={},u=Object.keys(i)[0];return i[u].isBlobSchema()?l[u]=n:l[u]=this.read(i[u],n),l}let c=(this.serdeContext?.utf8Encoder??w0.toUtf8)(n),d=this.parseXml(c);return this.readSchema(r,o?d[o]:d)}readSchema(r,n){let o=A.of(r),s=o.getMergedTraits();if(o.isListSchema()&&!Array.isArray(n))return this.readSchema(o,[n]);if(n==null)return n;if(typeof n=="object"){let i=!!s.sparse,a=!!s.xmlFlattened;if(o.isListSchema()){let d=o.getValueSchema(),l=[],u=d.getMergedTraits().xmlName??"member",p=a?n:(n[0]??n)[u],h=Array.isArray(p)?p:[p];for(let g of h)(g!=null||i)&&l.push(this.readSchema(d,g));return l}let c={};if(o.isMapSchema()){let d=o.getKeySchema(),l=o.getValueSchema(),u;a?u=Array.isArray(n)?n:[n]:u=Array.isArray(n.entry)?n.entry:[n.entry];let p=d.getMergedTraits().xmlName??"key",h=l.getMergedTraits().xmlName??"value";for(let g of u){let S=g[p],v=g[h];(v!=null||i)&&(c[S]=this.readSchema(l,v))}return c}if(o.isStructSchema()){for(let[d,l]of o.structIterator()){let u=l.getMergedTraits(),p=u.httpPayload?u.xmlName??l.getName():l.getMemberTraits().xmlName??d;n[p]!=null&&(c[d]=this.readSchema(l,n[p]))}return c}if(o.isDocumentSchema())return n;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${o.getName(!0)}`)}return o.isListSchema()?[]:o.isMapSchema()||o.isStructSchema()?{}:this.stringDeserializer.read(o,n)}parseXml(r){if(r.length){let n=new Nr({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,b0.getValueFromTextNode)(a)}return{}}}});var C0,O0,su,P0=y(()=>{rr();Se();Qe();C0=b(L()),O0=b(Ne());xr();su=class extends Ae{constructor(r){super();_(this,"settings");_(this,"buffer");this.settings=r}write(r,n,o=""){this.buffer===void 0&&(this.buffer="");let s=A.of(r);if(o&&!o.endsWith(".")&&(o+="."),s.isBlobSchema())(typeof n=="string"||n instanceof Uint8Array)&&(this.writeKey(o),this.writeValue((this.serdeContext?.base64Encoder??O0.toBase64)(n)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())n!=null&&(this.writeKey(o),this.writeValue(String(n)));else if(s.isBigIntegerSchema())n!=null&&(this.writeKey(o),this.writeValue(String(n)));else if(s.isBigDecimalSchema())n!=null&&(this.writeKey(o),this.writeValue(n instanceof Oe?n.string:String(n)));else if(s.isTimestampSchema()){if(n instanceof Date)switch(this.writeKey(o),wn(s,this.settings)){case P.TIMESTAMP_DATE_TIME:this.writeValue(n.toISOString().replace(".000Z","Z"));break;case P.TIMESTAMP_HTTP_DATE:this.writeValue((0,C0.dateToUtcString)(n));break;case P.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(n.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(n))if(n.length===0)this.settings.serializeEmptyLists&&(this.writeKey(o),this.writeValue(""));else{let i=s.getValueSchema(),a=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,c=1;for(let d of n){if(d==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),u=a?`${o}${c}`:`${o}${l}.${c}`;this.write(i,d,u),++c}}}else if(s.isMapSchema()){if(n&&typeof n=="object"){let i=s.getKeySchema(),a=s.getValueSchema(),c=s.getMergedTraits().xmlFlattened,d=1;for(let[l,u]of Object.entries(n)){if(u==null)continue;let p=this.getKey("key",i.getMergedTraits().xmlName),h=c?`${o}${d}.${p}`:`${o}entry.${d}.${p}`,g=this.getKey("value",a.getMergedTraits().xmlName),S=c?`${o}${d}.${g}`:`${o}entry.${d}.${g}`;this.write(i,l,h),this.write(a,u,S),++d}}}else if(s.isStructSchema()){if(n&&typeof n=="object")for(let[i,a]of s.structIterator()){if(n[i]==null)continue;let c=this.getKey(i,a.getMergedTraits().xmlName),d=`${o}${c}`;this.write(a,n[i],d)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let r=this.buffer;return delete this.buffer,r}getKey(r,n){let o=n??r;return this.settings.capitalizeKeys?o[0].toUpperCase()+o.slice(1):o}writeKey(r){r.endsWith(".")&&(r=r.slice(0,r.length-1)),this.buffer+=`&${Tt(r)}=`}writeValue(r){this.buffer+=Tt(r)}}});var R0,ba,Wm=y(()=>{rr();Se();R0=b(ha());ou();P0();ba=class extends bn{constructor(r){super({defaultNamespace:r.defaultNamespace});_(this,"options");_(this,"serializer");_(this,"deserializer");this.options=r;let n={timestampFormat:{useTrait:!0,default:P.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace,serializeEmptyLists:!0};this.serializer=new su(n),this.deserializer=new jn(n)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(r){this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(r,n,o){let s=await super.serializeRequest(r,n,o);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(tr(r.input)==="unit"||!s.body)&&(s.body=""),s.body=`Action=${r.name.split("#")[1]}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1));try{s.headers["content-length"]=String((0,R0.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(r,n,o){let s=this.deserializer,i=A.of(r.output),a={};if(o.statusCode>=300){let u=await Xe(o.body,n);u.byteLength>0&&Object.assign(a,await s.read(P.DOCUMENT,u)),await this.handleError(r,n,o,a,this.deserializeMetadata(o))}for(let u in o.headers){let p=o.headers[u];delete o.headers[u],o.headers[u.toLowerCase()]=p}let c=i.isStructSchema()&&this.useNestedResult()?r.name.split("#")[1]+"Result":void 0,d=await Xe(o.body,n);return d.byteLength>0&&Object.assign(a,await s.read(i,d,c)),{$metadata:this.deserializeMetadata(o),...a}}useNestedResult(){return!0}async handleError(r,n,o,s,i){let a=this.loadQueryErrorCode(o,s)??"Unknown",c=this.options.defaultNamespace,d=a;a.includes("#")&&([c,d]=a.split("#"));let l=this.loadQueryError(s),u=fe.for(c),p;try{p=u.find(w=>A.of(w).getMergedTraits().awsQueryError?.[0]===d),p||(p=u.getSchema(a))}catch{let C=fe.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(C){let N=C.ctor;throw Object.assign(new N(d),l)}throw new Error(d)}let h=A.of(p),g=this.loadQueryErrorMessage(s),S=new p.ctor(g),v={};for(let[w,C]of h.structIterator()){let N=C.getMergedTraits().xmlName??w,k=l[N]??s[N];v[w]=this.deserializer.readSchema(C,k)}throw Object.assign(S,{$metadata:i,$response:o,$fault:h.getMergedTraits().error,message:g,...v}),S}loadQueryErrorCode(r,n){let o=(n.Errors?.[0]?.Error??n.Errors?.Error??n.Error)?.Code;if(o!==void 0)return o;if(r.statusCode==404)return"NotFound"}loadQueryError(r){return r.Errors?.[0]?.Error??r.Errors?.Error??r.Error}loadQueryErrorMessage(r){let n=this.loadQueryError(r);return n?.message??n?.Message??r.message??r.Message??"Unknown"}}});var Ym,T0=y(()=>{Wm();Ym=class extends ba{constructor(r){super(r);_(this,"options");this.options=r;let n={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,n)}useNestedResult(){return!1}}});var x0,wa,Xm,Qm,Zm=y(()=>{x0=b(L());Jm();Dm();wa=(e,t)=>Wd(e,t).then(r=>{if(r.length){let n=new Nr({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,x0.getValueFromTextNode)(a)}return{}}),Xm=async(e,t)=>{let r=await wa(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Qm=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var k0=E((Fre,M0)=>{"use strict";var iu=Object.defineProperty,Bq=Object.getOwnPropertyDescriptor,jq=Object.getOwnPropertyNames,Hq=Object.prototype.hasOwnProperty,au=(e,t)=>iu(e,"name",{value:t,configurable:!0}),qq=(e,t)=>{for(var r in t)iu(e,r,{get:t[r],enumerable:!0})},$q=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jq(t))!Hq.call(e,o)&&o!==r&&iu(e,o,{get:()=>t[o],enumerable:!(n=Bq(t,o))||n.enumerable});return e},zq=e=>$q(iu({},"__esModule",{value:!0}),e),A0={};qq(A0,{XmlNode:()=>Gq,XmlText:()=>D0});M0.exports=zq(A0);function I0(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}au(I0,"escapeAttribute");function N0(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}au(N0,"escapeElement");var is,D0=(is=class{constructor(t){this.value=t}toString(){return N0(""+this.value)}},au(is,"XmlText"),is),sr,Gq=(sr=class{constructor(t,r=[]){_(this,"attributes",{});this.name=t,this.children=r}static of(t,r,n){let o=new sr(t);return r!==void 0&&o.addChildNode(new D0(r)),n!==void 0&&o.withName(n),o}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=sr.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new sr(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${I0(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}},au(sr,"XmlNode"),sr)});var et,eh,cu,Ca,th=y(()=>{et=b(k0());Se();Qe();eh=b(L()),cu=b(Ne());xr();Ca=class extends Ae{constructor(r){super();_(this,"settings");_(this,"stringBuffer");_(this,"byteBuffer");_(this,"buffer");this.settings=r}write(r,n){let o=A.of(r);if(o.isStringSchema()&&typeof n=="string")this.stringBuffer=n;else if(o.isBlobSchema())this.byteBuffer="byteLength"in n?n:(this.serdeContext?.base64Decoder??cu.fromBase64)(n);else{this.buffer=this.writeStruct(o,n,void 0);let s=o.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(o.getName())}}flush(){if(this.byteBuffer!==void 0){let n=this.byteBuffer;return delete this.byteBuffer,n}if(this.stringBuffer!==void 0){let n=this.stringBuffer;return delete this.stringBuffer,n}let r=this.buffer;return this.settings.xmlNamespace&&(r?.attributes?.xmlns||r.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,r.toString()}writeStruct(r,n,o){let s=r.getMergedTraits(),i=r.isMemberSchema()&&!s.httpPayload?r.getMemberTraits().xmlName??r.getMemberName():s.xmlName??r.getName();if(!i||!r.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${r.getName(!0)}.`);let a=et.XmlNode.of(i),[c,d]=this.getXmlnsAttribute(r,o);d&&a.addAttribute(c,d);for(let[l,u]of r.structIterator()){let p=n[l];if(p!=null){if(u.getMergedTraits().xmlAttribute){a.addAttribute(u.getMergedTraits().xmlName??l,this.writeSimple(u,p));continue}if(u.isListSchema())this.writeList(u,p,a,d);else if(u.isMapSchema())this.writeMap(u,p,a,d);else if(u.isStructSchema())a.addChildNode(this.writeStruct(u,p,d));else{let h=et.XmlNode.of(u.getMergedTraits().xmlName??u.getMemberName());this.writeSimpleInto(u,p,h,d),a.addChildNode(h)}}}return a}writeList(r,n,o,s){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${r.getName(!0)}`);let i=r.getMergedTraits(),a=r.getValueSchema(),c=a.getMergedTraits(),d=!!c.sparse,l=!!i.xmlFlattened,[u,p]=this.getXmlnsAttribute(r,s),h=(g,S)=>{if(a.isListSchema())this.writeList(a,Array.isArray(S)?S:[S],g,p);else if(a.isMapSchema())this.writeMap(a,S,g,p);else if(a.isStructSchema()){let v=this.writeStruct(a,S,p);g.addChildNode(v.withName(l?i.xmlName??r.getMemberName():c.xmlName??"member"))}else{let v=et.XmlNode.of(l?i.xmlName??r.getMemberName():c.xmlName??"member");this.writeSimpleInto(a,S,v,p),g.addChildNode(v)}};if(l)for(let g of n)(d||g!=null)&&h(o,g);else{let g=et.XmlNode.of(i.xmlName??r.getMemberName());p&&g.addAttribute(u,p);for(let S of n)(d||S!=null)&&h(g,S);o.addChildNode(g)}}writeMap(r,n,o,s,i=!1){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${r.getName(!0)}`);let a=r.getMergedTraits(),c=r.getKeySchema(),l=c.getMergedTraits().xmlName??"key",u=r.getValueSchema(),p=u.getMergedTraits(),h=p.xmlName??"value",g=!!p.sparse,S=!!a.xmlFlattened,[v,w]=this.getXmlnsAttribute(r,s),C=(N,k,T)=>{let V=et.XmlNode.of(l,k),[hr,Ue]=this.getXmlnsAttribute(c,w);Ue&&V.addAttribute(hr,Ue),N.addChildNode(V);let Ee=et.XmlNode.of(h);u.isListSchema()?this.writeList(u,T,Ee,w):u.isMapSchema()?this.writeMap(u,T,Ee,w,!0):u.isStructSchema()?Ee=this.writeStruct(u,T,w):this.writeSimpleInto(u,T,Ee,w),N.addChildNode(Ee)};if(S){for(let[N,k]of Object.entries(n))if(g||k!=null){let T=et.XmlNode.of(a.xmlName??r.getMemberName());C(T,N,k),o.addChildNode(T)}}else{let N;i||(N=et.XmlNode.of(a.xmlName??r.getMemberName()),w&&N.addAttribute(v,w),o.addChildNode(N));for(let[k,T]of Object.entries(n))if(g||T!=null){let V=et.XmlNode.of("entry");C(V,k,T),(i?o:N).addChildNode(V)}}}writeSimple(r,n){if(n===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let o=A.of(r),s=null;if(n&&typeof n=="object")if(o.isBlobSchema())s=(this.serdeContext?.base64Encoder??cu.toBase64)(n);else if(o.isTimestampSchema()&&n instanceof Date){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===P.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case P.TIMESTAMP_DATE_TIME:s=n.toISOString().replace(".000Z","Z");break;case P.TIMESTAMP_HTTP_DATE:s=(0,eh.dateToUtcString)(n);break;case P.TIMESTAMP_EPOCH_SECONDS:s=String(n.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",n),s=(0,eh.dateToUtcString)(n);break}}else{if(o.isBigDecimalSchema()&&n)return n instanceof Oe?n.string:String(n);throw o.isMapSchema()||o.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${o.getName(!0)}`)}if((o.isStringSchema()||o.isBooleanSchema()||o.isNumericSchema()||o.isBigIntegerSchema()||o.isBigDecimalSchema())&&(s=String(n)),s===null)throw new Error(`Unhandled schema-value pair ${o.getName(!0)}=${n}`);return s}writeSimpleInto(r,n,o,s){let i=this.writeSimple(r,n),a=A.of(r),c=new et.XmlText(i),[d,l]=this.getXmlnsAttribute(a,s);l&&o.addAttribute(d,l),o.addChildNode(c)}getXmlnsAttribute(r,n){let o=r.getMergedTraits(),[s,i]=o.xmlNamespace??[];return i&&i!==n?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var Oa,rh=y(()=>{xr();ou();th();Oa=class extends Ae{constructor(r){super();_(this,"settings");this.settings=r}createSerializer(){let r=new Ca(this.settings);return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new jn(this.settings);return r.setSerdeContext(this.serdeContext),r}}});var F0,nh,U0=y(()=>{rr();Se();F0=b(ha());Zm();rh();nh=class extends vn{constructor(r){super(r);_(this,"codec");_(this,"serializer");_(this,"deserializer");let n={timestampFormat:{useTrait:!0,default:P.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace};this.codec=new Oa(n),this.serializer=new Pn(this.codec.createSerializer(),n),this.deserializer=new On(this.codec.createDeserializer(),n)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(r,n,o){let s=await super.serializeRequest(r,n,o),i=A.of(r.input),a=i.getMemberSchemas();if(s.path=String(s.path).split("/").filter(c=>c!=="{Bucket}").join("/")||"/",!s.headers["content-type"]){let c=Object.values(a).find(d=>!!d.getMergedTraits().httpPayload);if(c){let d=c.getMergedTraits().mediaType;d?s.headers["content-type"]=d:c.isStringSchema()?s.headers["content-type"]="text/plain":c.isBlobSchema()?s.headers["content-type"]="application/octet-stream":s.headers["content-type"]="application/xml"}else i.isUnitSchema()||Object.values(a).find(l=>{let{httpQuery:u,httpQueryParams:p,httpHeader:h,httpLabel:g,httpPrefixHeaders:S}=l.getMergedTraits();return!u&&!p&&!h&&!g&&S===void 0})&&(s.headers["content-type"]="application/xml")}if(s.headers["content-type"]==="application/xml"&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s.body)try{s.headers["content-length"]=String((0,F0.calculateBodyLength)(s.body))}catch{}return s}async deserializeResponse(r,n,o){return super.deserializeResponse(r,n,o)}async handleError(r,n,o,s,i){let a=Qm(o,s)??"Unknown",c=this.options.defaultNamespace,d=a;a.includes("#")&&([c,d]=a.split("#"));let l=fe.for(c),u;try{u=l.getSchema(a)}catch{let w=fe.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(w){let C=w.ctor;throw Object.assign(new C(d),s)}throw new Error(d)}let p=A.of(u),h=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",g=new u.ctor(h);await this.deserializeHttpMessage(u,n,o,s);let S={};for(let[v,w]of p.structIterator()){let C=w.getMergedTraits().xmlName??v,N=s.Error?.[C]??s[C];S[v]=this.codec.createDeserializer().readSchema(w,N)}throw Object.assign(g,{$metadata:i,$response:o,$fault:p.getMergedTraits().error,message:h,...S}),g}}});var L0=y(()=>{xw();Zw();e0();Qd();r0();Xd();km();Fm();o0();ga();T0();Wm();U0();rh();ou();th();Zm()});var It={};pt(It,{AWSSDKSigV4Signer:()=>dm,AwsEc2QueryProtocol:()=>Ym,AwsJson1_0Protocol:()=>Um,AwsJson1_1Protocol:()=>Lm,AwsJsonRpcProtocol:()=>Un,AwsQueryProtocol:()=>ba,AwsRestJsonProtocol:()=>Bm,AwsRestXmlProtocol:()=>nh,AwsSdkSigV4ASigner:()=>ma,AwsSdkSigV4Signer:()=>He,JsonCodec:()=>Fn,JsonShapeDeserializer:()=>ya,JsonShapeSerializer:()=>_a,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Yo,NODE_SIGV4A_CONFIG_OPTIONS:()=>Wb,XmlCodec:()=>Oa,XmlShapeDeserializer:()=>jn,XmlShapeSerializer:()=>Ca,_toBool:()=>aH,_toNum:()=>cH,_toStr:()=>iH,awsExpectUnion:()=>eq,emitWarningIfUnsupportedVersion:()=>Vo,getBearerTokenEnvKey:()=>Fd,loadRestJsonErrorCode:()=>kn,loadRestXmlErrorCode:()=>Qm,parseJsonBody:()=>ss,parseJsonErrorBody:()=>Mm,parseXmlBody:()=>wa,parseXmlErrorBody:()=>Xm,resolveAWSSDKSigV4Config:()=>Ow,resolveAwsSdkSigV4AConfig:()=>Jb,resolveAwsSdkSigV4Config:()=>Dn,setCredentialFeature:()=>Pr,setFeature:()=>Ab,setTokenFeature:()=>Nb,state:()=>kd,validateSigningProperties:()=>Wo});var ve=y(()=>{ht();Cm();L0()});var as=E((vne,Y0)=>{"use strict";var uu=Object.defineProperty,Kq=Object.getOwnPropertyDescriptor,Vq=Object.getOwnPropertyNames,Jq=Object.prototype.hasOwnProperty,ir=(e,t)=>uu(e,"name",{value:t,configurable:!0}),Wq=(e,t)=>{for(var r in t)uu(e,r,{get:t[r],enumerable:!0})},Yq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vq(t))!Jq.call(e,o)&&o!==r&&uu(e,o,{get:()=>t[o],enumerable:!(n=Kq(t,o))||n.enumerable});return e},Xq=e=>Yq(uu({},"__esModule",{value:!0}),e),q0={};Wq(q0,{DEFAULT_UA_APP_ID:()=>$0,getUserAgentMiddlewareOptions:()=>W0,getUserAgentPlugin:()=>s$,resolveUserAgentConfig:()=>G0,userAgentMiddleware:()=>J0});Y0.exports=Xq(q0);var Qq=(Be(),q(qo)),$0=void 0;function z0(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}ir(z0,"isValidUserAgentAppId");function G0(e){let t=(0,Qq.normalizeProvider)(e.userAgentAppId??$0),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:ir(async()=>{let n=await t();if(!z0(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}ir(G0,"resolveUserAgentConfig");var Zq=Ko(),e$=ie(),Nt=(ve(),q(It)),t$=/\d{12}\.ddb/;async function K0(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,Nt.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,Nt.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,Nt.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,Nt.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(t$)&&(0,Nt.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,Nt.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,Nt.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,Nt.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,Nt.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))(0,Nt.setFeature)(e,i,a)}}ir(K0,"checkFeatures");var B0="user-agent",oh="x-amz-user-agent",j0=" ",sh="/",r$=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,n$=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,H0="-",o$=1024;function V0(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=o$){t.length?t+=","+n:t+=n;continue}break}return t}ir(V0,"encodeFeatures");var J0=ir(e=>(t,r)=>async n=>{let{request:o}=n;if(!e$.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(du)||[],a=(await e.defaultUserAgentProvider()).map(du);await K0(r,e,n);let c=r;a.push(`m/${V0(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let d=e?.customUserAgent?.map(du)||[],l=await e.userAgentAppId();l&&a.push(du([`app/${l}`]));let u=(0,Zq.getUserAgentPrefix)(),p=(u?[u]:[]).concat([...a,...i,...d]).join(j0),h=[...a.filter(g=>g.startsWith("aws-sdk-")),...d].join(j0);return e.runtime!=="browser"?(h&&(s[oh]=s[oh]?`${s[B0]} ${h}`:h),s[B0]=p):s[oh]=p,t({...n,request:o})},"userAgentMiddleware"),du=ir(e=>{let t=e[0].split(sh).map(i=>i.replace(r$,H0)).join(sh),r=e[1]?.replace(n$,H0),n=t.indexOf(sh),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),W0={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},s$=ir(e=>({applyToStack:ir(t=>{t.add(J0(e),W0)},"applyToStack")}),"getUserAgentPlugin")});var tC=E((bne,eC)=>{var lu=Object.defineProperty,i$=Object.getOwnPropertyDescriptor,a$=Object.getOwnPropertyNames,c$=Object.prototype.hasOwnProperty,X0=(e,t)=>lu(e,"name",{value:t,configurable:!0}),d$=(e,t)=>{for(var r in t)lu(e,r,{get:t[r],enumerable:!0})},u$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of a$(t))!c$.call(e,o)&&o!==r&&lu(e,o,{get:()=>t[o],enumerable:!(n=i$(t,o))||n.enumerable});return e},l$=e=>u$(lu({},"__esModule",{value:!0}),e),Q0={};d$(Q0,{SelectorType:()=>Z0,booleanSelector:()=>p$,numberSelector:()=>f$});eC.exports=l$(Q0);var p$=X0((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),f$=X0((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),Z0=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(Z0||{})});var Dt=E((wne,pC)=>{var fu=Object.defineProperty,m$=Object.getOwnPropertyDescriptor,h$=Object.getOwnPropertyNames,g$=Object.prototype.hasOwnProperty,gt=(e,t)=>fu(e,"name",{value:t,configurable:!0}),y$=(e,t)=>{for(var r in t)fu(e,r,{get:t[r],enumerable:!0})},_$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of h$(t))!g$.call(e,o)&&o!==r&&fu(e,o,{get:()=>t[o],enumerable:!(n=m$(t,o))||n.enumerable});return e},S$=e=>_$(fu({},"__esModule",{value:!0}),e),oC={};y$(oC,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>iC,CONFIG_USE_FIPS_ENDPOINT:()=>cC,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>E$,DEFAULT_USE_FIPS_ENDPOINT:()=>b$,ENV_USE_DUALSTACK_ENDPOINT:()=>sC,ENV_USE_FIPS_ENDPOINT:()=>aC,NODE_REGION_CONFIG_FILE_OPTIONS:()=>T$,NODE_REGION_CONFIG_OPTIONS:()=>R$,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>v$,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>w$,REGION_ENV_NAME:()=>dC,REGION_INI_NAME:()=>uC,getRegionInfo:()=>D$,resolveCustomEndpointsConfig:()=>C$,resolveEndpointsConfig:()=>P$,resolveRegionConfig:()=>x$});pC.exports=S$(oC);var Dr=tC(),sC="AWS_USE_DUALSTACK_ENDPOINT",iC="use_dualstack_endpoint",E$=!1,v$={environmentVariableSelector:e=>(0,Dr.booleanSelector)(e,sC,Dr.SelectorType.ENV),configFileSelector:e=>(0,Dr.booleanSelector)(e,iC,Dr.SelectorType.CONFIG),default:!1},aC="AWS_USE_FIPS_ENDPOINT",cC="use_fips_endpoint",b$=!1,w$={environmentVariableSelector:e=>(0,Dr.booleanSelector)(e,aC,Dr.SelectorType.ENV),configFileSelector:e=>(0,Dr.booleanSelector)(e,cC,Dr.SelectorType.CONFIG),default:!1},pu=ze(),C$=gt(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,pu.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,pu.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),O$=gt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),P$=gt(e=>{let t=(0,pu.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,pu.normalizeProvider)(typeof r=="string"?o(r):r):()=>O$({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),dC="AWS_REGION",uC="region",R$={environmentVariableSelector:e=>e[dC],configFileSelector:e=>e[uC],default:()=>{throw new Error("Region is missing")}},T$={preferredFile:"credentials"},lC=gt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),rC=gt(e=>lC(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),x$=gt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return rC(t);let n=await t();return rC(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return lC(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),nC=gt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),A$=gt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),I$=gt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),N$=gt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),D$=gt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=I$(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},d=nC(o[a]?.variants,c),l=nC(s[i]?.variants,c),u=A$(a,{regionHostname:d,partitionHostname:l});if(u===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let p=N$(u,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:u,...p&&{signingRegion:p},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")});var hC=E((Cne,mC)=>{var mu=Object.defineProperty,M$=Object.getOwnPropertyDescriptor,k$=Object.getOwnPropertyNames,F$=Object.prototype.hasOwnProperty,U$=(e,t)=>mu(e,"name",{value:t,configurable:!0}),L$=(e,t)=>{for(var r in t)mu(e,r,{get:t[r],enumerable:!0})},B$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of k$(t))!F$.call(e,o)&&o!==r&&mu(e,o,{get:()=>t[o],enumerable:!(n=M$(t,o))||n.enumerable});return e},j$=e=>B$(mu({},"__esModule",{value:!0}),e),fC={};L$(fC,{resolveEventStreamSerdeConfig:()=>H$});mC.exports=j$(fC);var H$=U$(e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),"resolveEventStreamSerdeConfig")});var Pa=E((One,EC)=>{var hu=Object.defineProperty,q$=Object.getOwnPropertyDescriptor,$$=Object.getOwnPropertyNames,z$=Object.prototype.hasOwnProperty,yC=(e,t)=>hu(e,"name",{value:t,configurable:!0}),G$=(e,t)=>{for(var r in t)hu(e,r,{get:t[r],enumerable:!0})},K$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $$(t))!z$.call(e,o)&&o!==r&&hu(e,o,{get:()=>t[o],enumerable:!(n=q$(t,o))||n.enumerable});return e},V$=e=>K$(hu({},"__esModule",{value:!0}),e),_C={};G$(_C,{contentLengthMiddleware:()=>ih,contentLengthMiddlewareOptions:()=>SC,getContentLengthPlugin:()=>W$});EC.exports=V$(_C);var J$=ie(),gC="content-length";function ih(e){return t=>async r=>{let n=r.request;if(J$.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(gC)===-1)try{let i=e(o);n.headers={...n.headers,[gC]:String(i)}}catch{}}return t({...r,request:n})}}yC(ih,"contentLengthMiddleware");var SC={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},W$=yC(e=>({applyToStack:t=>{t.add(ih(e.bodyLengthChecker),SC)}}),"getContentLengthPlugin")});var cs=E(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.getHomeDir=void 0;var Y$=require("os"),X$=require("path"),ah={},Q$=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Z$=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${X$.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=Q$();return ah[o]||(ah[o]=(0,Y$.homedir)()),ah[o]};gu.getHomeDir=Z$});var ch=E(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.getSSOTokenFilepath=void 0;var e2=require("crypto"),t2=require("path"),r2=cs(),n2=e=>{let r=(0,e2.createHash)("sha1").update(e).digest("hex");return(0,t2.join)((0,r2.getHomeDir)(),".aws","sso","cache",`${r}.json`)};yu.getSSOTokenFilepath=n2});var vC=E(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.getSSOTokenFromFile=void 0;var o2=require("fs"),s2=ch(),{readFile:i2}=o2.promises,a2=async e=>{let t=(0,s2.getSSOTokenFilepath)(e),r=await i2(t,"utf8");return JSON.parse(r)};_u.getSSOTokenFromFile=a2});var uh=E(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.slurpFile=void 0;var c2=require("fs"),{readFile:d2}=c2.promises,dh={},u2=(e,t)=>((!dh[e]||t?.ignoreCache)&&(dh[e]=d2(e,"utf8")),dh[e]);Su.slurpFile=u2});var Mr=E((Ane,Ta)=>{var bu=Object.defineProperty,l2=Object.getOwnPropertyDescriptor,p2=Object.getOwnPropertyNames,f2=Object.prototype.hasOwnProperty,tt=(e,t)=>bu(e,"name",{value:t,configurable:!0}),m2=(e,t)=>{for(var r in t)bu(e,r,{get:t[r],enumerable:!0})},lh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of p2(t))!f2.call(e,o)&&o!==r&&bu(e,o,{get:()=>t[o],enumerable:!(n=l2(t,o))||n.enumerable});return e},fh=(e,t,r)=>(lh(e,t,"default"),r&&lh(r,t,"default")),h2=e=>lh(bu({},"__esModule",{value:!0}),e),Ra={};m2(Ra,{CONFIG_PREFIX_SEPARATOR:()=>Hn,DEFAULT_PROFILE:()=>OC,ENV_PROFILE:()=>CC,getProfileName:()=>g2,loadSharedConfigFiles:()=>RC,loadSsoSessionData:()=>x2,parseKnownFiles:()=>I2});Ta.exports=h2(Ra);fh(Ra,cs(),Ta.exports);var CC="AWS_PROFILE",OC="default",g2=tt(e=>e.profile||process.env[CC]||OC,"getProfileName");fh(Ra,ch(),Ta.exports);fh(Ra,vC(),Ta.exports);var Eu=Ct(),y2=tt(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Hn);return r===-1?!1:Object.values(Eu.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Hn),s=r.substring(0,o)===Eu.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),vu=require("path"),_2=cs(),S2="AWS_CONFIG_FILE",PC=tt(()=>process.env[S2]||(0,vu.join)((0,_2.getHomeDir)(),".aws","config"),"getConfigFilepath"),E2=cs(),v2="AWS_SHARED_CREDENTIALS_FILE",b2=tt(()=>process.env[v2]||(0,vu.join)((0,E2.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),w2=cs(),C2=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,O2=["__proto__","profile __proto__"],ph=tt(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=C2.exec(a);if(c){let[,d,,l]=c;Object.values(Eu.IniSectionType).includes(d)&&(r=[d,l].join(Hn))}else r=a;if(O2.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,d]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let l=n?[n,c].join(Hn):c;t[r][l]=d}}}}return t},"parseIni"),bC=uh(),wC=tt(()=>({}),"swallowError"),Hn=".",RC=tt(async(e={})=>{let{filepath:t=b2(),configFilepath:r=PC()}=e,n=(0,w2.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,vu.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,vu.join)(n,r.slice(2)));let a=await Promise.all([(0,bC.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(ph).then(y2).catch(wC),(0,bC.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(ph).catch(wC)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),P2=tt(e=>Object.entries(e).filter(([t])=>t.startsWith(Eu.IniSectionType.SSO_SESSION+Hn)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Hn)+1)]:n}),{}),"getSsoSessionData"),R2=uh(),T2=tt(()=>({}),"swallowError"),x2=tt(async(e={})=>(0,R2.slurpFile)(e.configFilepath??PC()).then(ph).then(P2).catch(T2),"loadSsoSessionData"),A2=tt((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),I2=tt(async e=>{let t=await RC(e);return A2(t.configFile,t.credentialsFile)},"parseKnownFiles")});var kr=E((Ine,AC)=>{var wu=Object.defineProperty,N2=Object.getOwnPropertyDescriptor,D2=Object.getOwnPropertyNames,M2=Object.prototype.hasOwnProperty,ds=(e,t)=>wu(e,"name",{value:t,configurable:!0}),k2=(e,t)=>{for(var r in t)wu(e,r,{get:t[r],enumerable:!0})},F2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D2(t))!M2.call(e,o)&&o!==r&&wu(e,o,{get:()=>t[o],enumerable:!(n=N2(t,o))||n.enumerable});return e},U2=e=>F2(wu({},"__esModule",{value:!0}),e),xC={};k2(xC,{loadConfig:()=>q2});AC.exports=U2(xC);var xa=Me();function mh(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}ds(mh,"getSelectorName");var L2=ds((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new xa.CredentialsProviderError(r.message||`Not found in ENV: ${mh(e.toString())}`,{logger:t?.logger})}},"fromEnv"),TC=Mr(),B2=ds((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,TC.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,TC.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let l=e(c,t==="config"?o:s);if(l===void 0)throw new Error;return l}catch(d){throw new xa.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${mh(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),j2=ds(e=>typeof e=="function","isFunction"),H2=ds(e=>j2(e)?async()=>await e():(0,xa.fromStatic)(e),"fromStatic"),q2=ds(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,xa.memoize)((0,xa.chain)(L2(e,i),B2(t,n),H2(r)))},"loadConfig")});var MC=E(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.getEndpointUrlConfig=void 0;var IC=Mr(),NC="AWS_ENDPOINT_URL",DC="endpoint_url",$2=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[NC,...r].join("_")];if(n)return n;let o=t[NC];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(IC.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),DC].join(IC.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[DC];if(n)return n},default:void 0});Cu.getEndpointUrlConfig=$2});var hh=E(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.getEndpointFromConfig=void 0;var z2=kr(),G2=MC(),K2=async e=>(0,z2.loadConfig)((0,G2.getEndpointUrlConfig)(e??""))();Ou.getEndpointFromConfig=K2});var Fr=E((Mne,HC)=>{var Ru=Object.defineProperty,V2=Object.getOwnPropertyDescriptor,J2=Object.getOwnPropertyNames,W2=Object.prototype.hasOwnProperty,rt=(e,t)=>Ru(e,"name",{value:t,configurable:!0}),Y2=(e,t)=>{for(var r in t)Ru(e,r,{get:t[r],enumerable:!0})},X2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of J2(t))!W2.call(e,o)&&o!==r&&Ru(e,o,{get:()=>t[o],enumerable:!(n=V2(t,o))||n.enumerable});return e},Q2=e=>X2(Ru({},"__esModule",{value:!0}),e),FC={};Y2(FC,{endpointMiddleware:()=>BC,endpointMiddlewareOptions:()=>jC,getEndpointFromInstructions:()=>UC,getEndpointPlugin:()=>dz,resolveEndpointConfig:()=>lz,resolveEndpointRequiredConfig:()=>pz,resolveParams:()=>LC,toEndpointV1:()=>gh});HC.exports=Q2(FC);var Z2=rt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),oz(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!nz(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),ez=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,tz=/(\d+\.){3}\d+/,rz=/\.\./,nz=rt(e=>ez.test(e)&&!tz.test(e)&&!rz.test(e),"isDnsCompatibleBucketName"),oz=rt(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),sz=rt((e,t,r)=>{let n=rt(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),iz=hh(),kC=Cr(),gh=rt(e=>typeof e=="object"?"url"in e?(0,kC.parseUrl)(e.url):e:(0,kC.parseUrl)(e),"toEndpointV1"),UC=rt(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,iz.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(gh(i)),r.isCustomEndpoint=!0)}let o=await LC(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),LC=rt(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await sz(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Z2(n),n},"resolveParams"),az=(Be(),q(qo)),Pu=ze(),BC=rt(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,az.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await UC(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=(0,Pu.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),cz=_r(),jC={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:cz.serializerMiddlewareOption.name},dz=rt((e,t)=>({applyToStack:r=>{r.addRelativeTo(BC({config:e,instructions:t}),jC)}}),"getEndpointPlugin"),uz=hh(),lz=rt(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>gh(await(0,Pu.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Pu.normalizeProvider)(n??!1),useFipsEndpoint:(0,Pu.normalizeProvider)(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,uz.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),pz=rt(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});function Aa(){return Tu>xu.length-16&&(qC.default.randomFillSync(xu),Tu=0),xu.slice(Tu,Tu+=16)}var qC,xu,Tu,yh=y(()=>{qC=b(require("crypto")),xu=new Uint8Array(256),Tu=xu.length});var $C,zC=y(()=>{$C=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function fz(e){return typeof e=="string"&&$C.test(e)}var Ur,Ia=y(()=>{zC();Ur=fz});function qn(e,t=0){return Re[e[t+0]]+Re[e[t+1]]+Re[e[t+2]]+Re[e[t+3]]+"-"+Re[e[t+4]]+Re[e[t+5]]+"-"+Re[e[t+6]]+Re[e[t+7]]+"-"+Re[e[t+8]]+Re[e[t+9]]+"-"+Re[e[t+10]]+Re[e[t+11]]+Re[e[t+12]]+Re[e[t+13]]+Re[e[t+14]]+Re[e[t+15]]}function mz(e,t=0){let r=qn(e,t);if(!Ur(r))throw TypeError("Stringified UUID is invalid");return r}var Re,GC,Na=y(()=>{Ia();Re=[];for(let e=0;e<256;++e)Re.push((e+256).toString(16).slice(1));GC=mz});function hz(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||KC,i=e.clockseq!==void 0?e.clockseq:_h;if(s==null||i==null){let p=e.random||(e.rng||Aa)();s==null&&(s=KC=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),i==null&&(i=_h=(p[6]<<8|p[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Eh+1,d=a-Sh+(c-Eh)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>Sh)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Sh=a,Eh=c,_h=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=l&255;let u=a/4294967296*1e4&268435455;o[n++]=u>>>8&255,o[n++]=u&255,o[n++]=u>>>24&15|16,o[n++]=u>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let p=0;p<6;++p)o[n+p]=s[p];return t||qn(o)}var KC,_h,Sh,Eh,VC,JC=y(()=>{yh();Na();Sh=0,Eh=0;VC=hz});function gz(e){if(!Ur(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Au,vh=y(()=>{Ia();Au=gz});function yz(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Da(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=yz(o)),typeof s=="string"&&(s=Au(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(s),d.set(o,s.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,i){a=a||0;for(let l=0;l<16;++l)i[a+l]=d[l];return i}return qn(d)}try{n.name=e}catch{}return n.DNS=_z,n.URL=Sz,n}var _z,Sz,bh=y(()=>{Na();vh();_z="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Sz="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Ez(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),WC.default.createHash("md5").update(e).digest()}var WC,YC,XC=y(()=>{WC=b(require("crypto"));YC=Ez});var vz,QC,ZC=y(()=>{bh();XC();vz=Da("v3",48,YC),QC=vz});var eO,wh,tO=y(()=>{eO=b(require("crypto")),wh={randomUUID:eO.default.randomUUID}});function bz(e,t,r){if(wh.randomUUID&&!t&&!e)return wh.randomUUID();e=e||{};let n=e.random||(e.rng||Aa)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return qn(n)}var rO,nO=y(()=>{tO();yh();Na();rO=bz});function wz(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),oO.default.createHash("sha1").update(e).digest()}var oO,sO,iO=y(()=>{oO=b(require("crypto"));sO=wz});var Cz,aO,cO=y(()=>{bh();iO();Cz=Da("v5",80,sO),aO=Cz});var dO,uO=y(()=>{dO="00000000-0000-0000-0000-000000000000"});function Oz(e){if(!Ur(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var lO,pO=y(()=>{Ia();lO=Oz});var fO={};pt(fO,{NIL:()=>dO,parse:()=>Au,stringify:()=>GC,v1:()=>VC,v3:()=>QC,v4:()=>rO,v5:()=>aO,validate:()=>Ur,version:()=>lO});var mO=y(()=>{JC();ZC();nO();cO();uO();pO();Ia();Na();vh()});var Oh=E((Eoe,_O)=>{var Iu=Object.defineProperty,Pz=Object.getOwnPropertyDescriptor,Rz=Object.getOwnPropertyNames,Tz=Object.prototype.hasOwnProperty,$n=(e,t)=>Iu(e,"name",{value:t,configurable:!0}),xz=(e,t)=>{for(var r in t)Iu(e,r,{get:t[r],enumerable:!0})},Az=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Rz(t))!Tz.call(e,o)&&o!==r&&Iu(e,o,{get:()=>t[o],enumerable:!(n=Pz(t,o))||n.enumerable});return e},Iz=e=>Az(Iu({},"__esModule",{value:!0}),e),hO={};xz(hO,{isBrowserNetworkError:()=>yO,isClockSkewCorrectedError:()=>gO,isClockSkewError:()=>Bz,isRetryableByTrait:()=>Lz,isServerError:()=>Hz,isThrottlingError:()=>jz,isTransientError:()=>Ch});_O.exports=Iz(hO);var Nz=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Dz=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Mz=["TimeoutError","RequestTimeout","RequestTimeoutException"],kz=[500,502,503,504],Fz=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Uz=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],Lz=$n(e=>e.$retryable!==void 0,"isRetryableByTrait"),Bz=$n(e=>Nz.includes(e.name),"isClockSkewError"),gO=$n(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),yO=$n(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),jz=$n(e=>e.$metadata?.httpStatusCode===429||Dz.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),Ch=$n((e,t=0)=>gO(e)||Mz.includes(e.name)||Fz.includes(e?.code||"")||Uz.includes(e?.code||"")||kz.includes(e.$metadata?.httpStatusCode||0)||yO(e)||e.cause!==void 0&&t<=10&&Ch(e.cause,t+1),"isTransientError"),Hz=$n(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Ch(e)}return!1},"isServerError")});var fs=E((voe,RO)=>{var Nu=Object.defineProperty,qz=Object.getOwnPropertyDescriptor,$z=Object.getOwnPropertyNames,zz=Object.prototype.hasOwnProperty,yt=(e,t)=>Nu(e,"name",{value:t,configurable:!0}),Gz=(e,t)=>{for(var r in t)Nu(e,r,{get:t[r],enumerable:!0})},Kz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $z(t))!zz.call(e,o)&&o!==r&&Nu(e,o,{get:()=>t[o],enumerable:!(n=qz(t,o))||n.enumerable});return e},Vz=e=>Kz(Nu({},"__esModule",{value:!0}),e),EO={};Gz(EO,{AdaptiveRetryStrategy:()=>Zz,ConfiguredRetryStrategy:()=>e3,DEFAULT_MAX_ATTEMPTS:()=>Ph,DEFAULT_RETRY_DELAY_BASE:()=>Ma,DEFAULT_RETRY_MODE:()=>Jz,DefaultRateLimiter:()=>bO,INITIAL_RETRY_TOKENS:()=>Rh,INVOCATION_ID_HEADER:()=>Yz,MAXIMUM_RETRY_DELAY:()=>Th,NO_RETRY_INCREMENT:()=>PO,REQUEST_HEADER:()=>Xz,RETRY_COST:()=>CO,RETRY_MODES:()=>vO,StandardRetryStrategy:()=>xh,THROTTLING_RETRY_DELAY_BASE:()=>wO,TIMEOUT_RETRY_COST:()=>OO});RO.exports=Vz(EO);var vO=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(vO||{}),Ph=3,Jz="standard",Wz=Oh(),Lr,bO=(Lr=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>Lr.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,Wz.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},yt(Lr,"DefaultRateLimiter"),Lr.setTimeoutFn=setTimeout,Lr),Ma=100,Th=20*1e3,wO=500,Rh=500,CO=5,OO=10,PO=1,Yz="amz-sdk-invocation-id",Xz="amz-sdk-request",Qz=yt(()=>{let e=Ma;return{computeNextBackoffDelay:yt(n=>Math.floor(Math.min(Th,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:yt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),SO=yt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:yt(()=>t,"getRetryCount"),getRetryDelay:yt(()=>Math.min(Th,e),"getRetryDelay"),getRetryCost:yt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),us,xh=(us=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=Rh,this.retryBackoffStrategy=Qz(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return SO({retryDelay:Ma,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?wO:Ma);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,SO({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Rh,this.capacity+(t.getRetryCost()??PO))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ph}`),Ph}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?OO:CO}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},yt(us,"StandardRetryStrategy"),us),ls,Zz=(ls=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new bO,this.standardRetryStrategy=new xh(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},yt(ls,"AdaptiveRetryStrategy"),ls),ps,e3=(ps=class extends xh{constructor(t,r=Ma){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}},yt(ps,"ConfiguredRetryStrategy"),ps)});var TO=E(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.isStreamingPayload=void 0;var t3=require("stream"),r3=e=>e?.body instanceof t3.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Du.isStreamingPayload=r3});var ar=E((woe,$O)=>{var Mu=Object.defineProperty,n3=Object.getOwnPropertyDescriptor,o3=Object.getOwnPropertyNames,s3=Object.prototype.hasOwnProperty,ge=(e,t)=>Mu(e,"name",{value:t,configurable:!0}),i3=(e,t)=>{for(var r in t)Mu(e,r,{get:t[r],enumerable:!0})},a3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of o3(t))!s3.call(e,o)&&o!==r&&Mu(e,o,{get:()=>t[o],enumerable:!(n=n3(t,o))||n.enumerable});return e},c3=e=>a3(Mu({},"__esModule",{value:!0}),e),AO={};i3(AO,{AdaptiveRetryStrategy:()=>l3,CONFIG_MAX_ATTEMPTS:()=>Ih,CONFIG_RETRY_MODE:()=>UO,ENV_MAX_ATTEMPTS:()=>Ah,ENV_RETRY_MODE:()=>FO,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>p3,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>m3,StandardRetryStrategy:()=>kO,defaultDelayDecider:()=>NO,defaultRetryDecider:()=>DO,getOmitRetryHeadersPlugin:()=>h3,getRetryAfterHint:()=>qO,getRetryPlugin:()=>v3,omitRetryHeadersMiddleware:()=>LO,omitRetryHeadersMiddlewareOptions:()=>BO,resolveRetryConfig:()=>f3,retryMiddleware:()=>jO,retryMiddlewareOptions:()=>HO});$O.exports=c3(AO);var gs=ie(),IO=(mO(),q(fO)),ue=fs(),d3=ge((e,t)=>{let r=e,n=t?.noRetryIncrement??ue.NO_RETRY_INCREMENT,o=t?.retryCost??ue.RETRY_COST,s=t?.timeoutRetryCost??ue.TIMEOUT_RETRY_COST,i=e,a=ge(u=>u.name==="TimeoutError"?s:o,"getCapacityAmount"),c=ge(u=>a(u)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:ge(u=>{if(!c(u))throw new Error("No retry token available");let p=a(u);return i-=p,p},"retrieveRetryTokens"),releaseRetryTokens:ge(u=>{i+=u??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),NO=ge((e,t)=>Math.floor(Math.min(ue.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Br=Oh(),DO=ge(e=>e?(0,Br.isRetryableByTrait)(e)||(0,Br.isClockSkewError)(e)||(0,Br.isThrottlingError)(e)||(0,Br.isTransientError)(e):!1,"defaultRetryDecider"),MO=ge(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),ms,kO=(ms=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=ue.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??DO,this.delayDecider=r?.delayDecider??NO,this.retryQuota=r?.retryQuota??d3(ue.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=ue.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(gs.HttpRequest.isInstance(c)&&(c.headers[ue.INVOCATION_ID_HEADER]=(0,IO.v4)());;)try{gs.HttpRequest.isInstance(c)&&(c.headers[ue.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:l}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(o),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:d,output:l}}catch(d){let l=MO(d);if(s++,this.shouldRetry(l,s,a)){o=this.retryQuota.retrieveRetryTokens(l);let u=this.delayDecider((0,Br.isThrottlingError)(l)?ue.THROTTLING_RETRY_DELAY_BASE:ue.DEFAULT_RETRY_DELAY_BASE,s),p=u3(l.$response),h=Math.max(p||0,u);i+=h,await new Promise(g=>setTimeout(g,h));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}},ge(ms,"StandardRetryStrategy"),ms),u3=ge(e=>{if(!gs.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),hs,l3=(hs=class extends kO{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new ue.DefaultRateLimiter,this.mode=ue.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},ge(hs,"AdaptiveRetryStrategy"),hs),xO=ze(),Ah="AWS_MAX_ATTEMPTS",Ih="max_attempts",p3={environmentVariableSelector:e=>{let t=e[Ah];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Ah} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Ih];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Ih} mast be a number, got "${t}"`);return r},default:ue.DEFAULT_MAX_ATTEMPTS},f3=ge(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,xO.normalizeProvider)(n??ue.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,xO.normalizeProvider)(r)()===ue.RETRY_MODES.ADAPTIVE?new ue.AdaptiveRetryStrategy(o):new ue.StandardRetryStrategy(o))})},"resolveRetryConfig"),FO="AWS_RETRY_MODE",UO="retry_mode",m3={environmentVariableSelector:e=>e[FO],configFileSelector:e=>e[UO],default:ue.DEFAULT_RETRY_MODE},LO=ge(()=>e=>async t=>{let{request:r}=t;return gs.HttpRequest.isInstance(r)&&(delete r.headers[ue.INVOCATION_ID_HEADER],delete r.headers[ue.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),BO={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},h3=ge(e=>({applyToStack:t=>{t.addRelativeTo(LO(),BO)}}),"getOmitRetryHeadersPlugin"),g3=L(),y3=TO(),jO=ge(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(_3(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:l}=n,u=gs.HttpRequest.isInstance(l);for(u&&(l.headers[ue.INVOCATION_ID_HEADER]=(0,IO.v4)());;)try{u&&(l.headers[ue.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:p,output:h}=await t(n);return o.recordSuccess(i),h.$metadata.attempts=c+1,h.$metadata.totalRetryDelay=d,{response:p,output:h}}catch(p){let h=S3(p);if(a=MO(p),u&&(0,y3.isStreamingPayload)(l))throw(r.logger instanceof g3.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let g=i.getRetryDelay();d+=g,await new Promise(S=>setTimeout(S,g))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),_3=ge(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),S3=ge(e=>{let t={error:e,errorType:E3(e)},r=qO(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),E3=ge(e=>(0,Br.isThrottlingError)(e)?"THROTTLING":(0,Br.isTransientError)(e)?"TRANSIENT":(0,Br.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),HO={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},v3=ge(e=>({applyToStack:t=>{t.add(jO(e),HO)}}),"getRetryPlugin"),qO=ge(e=>{if(!gs.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var Dh=E(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.resolveHttpAuthSchemeConfig=jr.defaultKinesisHttpAuthSchemeProvider=jr.defaultKinesisHttpAuthSchemeParametersProvider=void 0;var b3=(ve(),q(It)),Nh=ze(),w3=async(e,t,r)=>({operation:(0,Nh.getSmithyContext)(t).operation,region:await(0,Nh.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});jr.defaultKinesisHttpAuthSchemeParametersProvider=w3;function C3(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"kinesis",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var O3=e=>{let t=[];switch(e.operation){default:t.push(C3(e))}return t};jr.defaultKinesisHttpAuthSchemeProvider=O3;var P3=e=>{let t=(0,b3.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Nh.normalizeProvider)(e.authSchemePreference??[])})};jr.resolveHttpAuthSchemeConfig=P3});var _s={};pt(_s,{__addDisposableResource:()=>mP,__assign:()=>ku,__asyncDelegator:()=>iP,__asyncGenerator:()=>sP,__asyncValues:()=>aP,__await:()=>ys,__awaiter:()=>ZO,__classPrivateFieldGet:()=>lP,__classPrivateFieldIn:()=>fP,__classPrivateFieldSet:()=>pP,__createBinding:()=>Uu,__decorate:()=>KO,__disposeResources:()=>hP,__esDecorate:()=>JO,__exportStar:()=>tP,__extends:()=>zO,__generator:()=>eP,__importDefault:()=>uP,__importStar:()=>dP,__makeTemplateObject:()=>cP,__metadata:()=>QO,__param:()=>VO,__propKey:()=>YO,__read:()=>Fh,__rest:()=>GO,__rewriteRelativeImportExtension:()=>gP,__runInitializers:()=>WO,__setFunctionName:()=>XO,__spread:()=>rP,__spreadArray:()=>oP,__spreadArrays:()=>nP,__values:()=>Fu,default:()=>x3});function zO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mh(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function GO(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function KO(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function VO(e,t){return function(r,n){t(r,n,e)}}function JO(e,t,r,n,o,s){function i(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,l=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),u,p=!1,h=r.length-1;h>=0;h--){var g={};for(var S in n)g[S]=S==="access"?{}:n[S];for(var S in n.access)g.access[S]=n.access[S];g.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(w||null))};var v=(0,r[h])(a==="accessor"?{get:l.get,set:l.set}:l[c],g);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(u=i(v.get))&&(l.get=u),(u=i(v.set))&&(l.set=u),(u=i(v.init))&&o.unshift(u)}else(u=i(v))&&(a==="field"?o.unshift(u):l[c]=u)}d&&Object.defineProperty(d,n.name,l),p=!0}function WO(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function YO(e){return typeof e=="symbol"?e:"".concat(e)}function XO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function QO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ZO(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(u){i(u)}}function c(l){try{d(n.throw(l))}catch(u){i(u)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function eP(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(r=0)),r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function tP(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uu(t,e,r)}function Fu(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fh(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function rP(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Fh(arguments[t]));return e}function nP(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function oP(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ys(e){return this instanceof ys?(this.v=e,this):new ys(e)}function sP(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(h){return function(g){return Promise.resolve(g).then(h,u)}}function a(h,g){n[h]&&(o[h]=function(S){return new Promise(function(v,w){s.push([h,S,v,w])>1||c(h,S)})},g&&(o[h]=g(o[h])))}function c(h,g){try{d(n[h](g))}catch(S){p(s[0][3],S)}}function d(h){h.value instanceof ys?Promise.resolve(h.value.v).then(l,u):p(s[0][2],h)}function l(h){c("next",h)}function u(h){c("throw",h)}function p(h,g){h(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function iP(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:ys(e[o](i)),done:!1}:s?s(i):i}:s}}function aP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Fu=="function"?Fu(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function cP(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function dP(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=kh(e),n=0;n<r.length;n++)r[n]!=="default"&&Uu(t,e,r[n]);return R3(t,e),t}function uP(e){return e&&e.__esModule?e:{default:e}}function lP(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function pP(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function fP(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function mP(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function hP(e){function t(s){e.error=e.hasError?new T3(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function gP(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var Mh,ku,Uu,R3,kh,T3,x3,Ss=y(()=>{Mh=function(e,t){return Mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Mh(e,t)};ku=function(){return ku=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ku.apply(this,arguments)};Uu=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};R3=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},kh=function(e){return kh=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},kh(e)};T3=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};x3={__extends:zO,__assign:ku,__rest:GO,__decorate:KO,__param:VO,__esDecorate:JO,__runInitializers:WO,__propKey:YO,__setFunctionName:XO,__metadata:QO,__awaiter:ZO,__generator:eP,__createBinding:Uu,__exportStar:tP,__values:Fu,__read:Fh,__spread:rP,__spreadArrays:nP,__spreadArray:oP,__await:ys,__asyncGenerator:sP,__asyncDelegator:iP,__asyncValues:aP,__makeTemplateObject:cP,__importStar:dP,__importDefault:uP,__classPrivateFieldGet:lP,__classPrivateFieldSet:pP,__classPrivateFieldIn:fP,__addDisposableResource:mP,__disposeResources:hP,__rewriteRelativeImportExtension:gP}});var yP=E((Ooe,A3)=>{A3.exports={name:"@aws-sdk/client-kinesis",description:"AWS SDK for JavaScript Kinesis Client for Node.js, Browser and React Native",version:"3.846.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-kinesis","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo kinesis","test:e2e":"yarn g:vitest run -c vitest.config.e2e.ts --mode development","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/credential-provider-node":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.846.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.845.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.846.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/eventstream-serde-browser":"^4.0.4","@smithy/eventstream-serde-config-resolver":"^4.1.2","@smithy/eventstream-serde-node":"^4.0.4","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.6",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-kinesis",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-kinesis"}}});var Uh=E((Poe,OP)=>{"use strict";var Lu=Object.defineProperty,I3=Object.getOwnPropertyDescriptor,N3=Object.getOwnPropertyNames,D3=Object.prototype.hasOwnProperty,M3=(e,t)=>Lu(e,"name",{value:t,configurable:!0}),k3=(e,t)=>{for(var r in t)Lu(e,r,{get:t[r],enumerable:!0})},F3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of N3(t))!D3.call(e,o)&&o!==r&&Lu(e,o,{get:()=>t[o],enumerable:!(n=I3(t,o))||n.enumerable});return e},U3=e=>F3(Lu({},"__esModule",{value:!0}),e),_P={};k3(_P,{ENV_ACCOUNT_ID:()=>CP,ENV_CREDENTIAL_SCOPE:()=>wP,ENV_EXPIRATION:()=>bP,ENV_KEY:()=>SP,ENV_SECRET:()=>EP,ENV_SESSION:()=>vP,fromEnv:()=>j3});OP.exports=U3(_P);var L3=(ht(),q(Rr)),B3=Me(),SP="AWS_ACCESS_KEY_ID",EP="AWS_SECRET_ACCESS_KEY",vP="AWS_SESSION_TOKEN",bP="AWS_CREDENTIAL_EXPIRATION",wP="AWS_CREDENTIAL_SCOPE",CP="AWS_ACCOUNT_ID",j3=M3(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[SP],r=process.env[EP],n=process.env[vP],o=process.env[bP],s=process.env[wP],i=process.env[CP];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return(0,L3.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new B3.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var ka=E((Roe,LP)=>{var Hu=Object.defineProperty,H3=Object.getOwnPropertyDescriptor,q3=Object.getOwnPropertyNames,$3=Object.prototype.hasOwnProperty,ye=(e,t)=>Hu(e,"name",{value:t,configurable:!0}),z3=(e,t)=>{for(var r in t)Hu(e,r,{get:t[r],enumerable:!0})},G3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of q3(t))!$3.call(e,o)&&o!==r&&Hu(e,o,{get:()=>t[o],enumerable:!(n=H3(t,o))||n.enumerable});return e},K3=e=>G3(Hu({},"__esModule",{value:!0}),e),xP={};z3(xP,{DEFAULT_MAX_RETRIES:()=>DP,DEFAULT_TIMEOUT:()=>NP,ENV_CMDS_AUTH_TOKEN:()=>jh,ENV_CMDS_FULL_URI:()=>Bu,ENV_CMDS_RELATIVE_URI:()=>ju,Endpoint:()=>MP,fromContainerMetadata:()=>Y3,fromInstanceMetadata:()=>y4,getInstanceMetadataEndpoint:()=>FP,httpRequest:()=>Es,providerConfigFromInit:()=>Hh});LP.exports=K3(xP);var V3=require("url"),Mt=Me(),J3=require("buffer"),W3=require("http");function Es(e){return new Promise((t,r)=>{let n=(0,W3.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new Mt.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new Mt.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new Mt.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(J3.Buffer.concat(i)),n.destroy()})}),n.end()})}ye(Es,"httpRequest");var AP=ye(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),IP=ye(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),NP=1e3,DP=0,Hh=ye(({maxRetries:e=DP,timeout:t=NP})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Bh=ye((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Bu="AWS_CONTAINER_CREDENTIALS_FULL_URI",ju="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",jh="AWS_CONTAINER_AUTHORIZATION_TOKEN",Y3=ye((e={})=>{let{timeout:t,maxRetries:r}=Hh(e);return()=>Bh(async()=>{let n=await t4({logger:e.logger}),o=JSON.parse(await X3(t,n));if(!AP(o))throw new Mt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return IP(o)},r)},"fromContainerMetadata"),X3=ye(async(e,t)=>(process.env[jh]&&(t.headers={...t.headers,Authorization:process.env[jh]}),(await Es({...t,timeout:e})).toString()),"requestFromEcsImds"),Q3="169.254.170.2",Z3={localhost:!0,"127.0.0.1":!0},e4={"http:":!0,"https:":!0},t4=ye(async({logger:e})=>{if(process.env[ju])return{hostname:Q3,path:process.env[ju]};if(process.env[Bu]){let t=(0,V3.parse)(process.env[Bu]);if(!t.hostname||!(t.hostname in Z3))throw new Mt.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in e4))throw new Mt.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Mt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${ju} or ${Bu} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),zn,r4=(zn=class extends Mt.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,zn.prototype)}},ye(zn,"InstanceMetadataV1FallbackError"),zn),qh=kr(),n4=Cr(),MP=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(MP||{}),o4="AWS_EC2_METADATA_SERVICE_ENDPOINT",s4="ec2_metadata_service_endpoint",i4={environmentVariableSelector:e=>e[o4],configFileSelector:e=>e[s4],default:void 0},kP=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(kP||{}),a4="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",c4="ec2_metadata_service_endpoint_mode",d4={environmentVariableSelector:e=>e[a4],configFileSelector:e=>e[c4],default:"IPv4"},FP=ye(async()=>(0,n4.parseUrl)(await u4()||await l4()),"getInstanceMetadataEndpoint"),u4=ye(async()=>(0,qh.loadConfig)(i4)(),"getFromEndpointConfig"),l4=ye(async()=>{let e=await(0,qh.loadConfig)(d4)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(kP)}`)}},"getFromEndpointModeConfig"),p4=5*60,f4=5*60,m4="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",PP=ye((e,t)=>{let r=p4+Math.floor(Math.random()*f4),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+m4);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),h4=ye((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=PP(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=PP(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),UP="/latest/meta-data/iam/security-credentials/",g4="/latest/api/token",Lh="AWS_EC2_METADATA_V1_DISABLED",RP="ec2_metadata_v1_disabled",TP="x-aws-ec2-metadata-token",y4=ye((e={})=>h4(_4(e),{logger:e.logger}),"fromInstanceMetadata"),_4=ye((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=Hh(e),i=ye(async(a,c)=>{if(t||c.headers?.[TP]==null){let u=!1,p=!1,h=await(0,qh.loadConfig)({environmentVariableSelector:g=>{let S=g[Lh];if(p=!!S&&S!=="false",S===void 0)throw new Mt.CredentialsProviderError(`${Lh} not set in env, checking config file next.`,{logger:e.logger});return p},configFileSelector:g=>{let S=g[RP];return u=!!S&&S!=="false",u},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let g=[];throw e.ec2MetadataV1Disabled&&g.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),u&&g.push(`config file profile (${RP})`),p&&g.push(`process environment variable (${Lh})`),new r4(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${g.join(", ")}].`)}}let l=(await Bh(async()=>{let u;try{u=await E4(c)}catch(p){throw p.statusCode===401&&(t=!1),p}return u},a)).trim();return Bh(async()=>{let u;try{u=await v4(l,c,e)}catch(p){throw p.statusCode===401&&(t=!1),p}return u},a)},"getCredentials");return async()=>{let a=await FP();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await S4({...a,timeout:o})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[TP]:c},timeout:o})}}},"getInstanceMetadataProvider"),S4=ye(async e=>Es({...e,path:g4,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),E4=ye(async e=>(await Es({...e,path:UP})).toString(),"getProfile"),v4=ye(async(e,t,r)=>{let n=JSON.parse((await Es({...t,path:UP+e})).toString());if(!AP(n))throw new Mt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return IP(n)},"getCredentialsFromProfile")});var BP=E(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.checkUrl=void 0;var b4=Me(),w4="169.254.170.2",C4="169.254.170.23",O4="[fd00:ec2::23]",P4=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===w4||e.hostname===C4||e.hostname===O4)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new b4.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};qu.checkUrl=P4});var jP=E($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.createGetRequest=A4;$u.getCredentials=I4;var $h=Me(),R4=ie(),T4=L(),x4=_d();function A4(e){return new R4.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function I4(e,t){let n=await(0,x4.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new $h.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,T4.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new $h.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new $h.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var HP=E(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.retryWrapper=void 0;var N4=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};zu.retryWrapper=N4});var zP=E(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.fromHttp=void 0;var D4=(Ss(),q(_s)),M4=(ht(),q(Rr)),k4=hn(),qP=Me(),F4=D4.__importDefault(require("fs/promises")),U4=BP(),$P=jP(),L4=HP(),B4="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",j4="http://169.254.170.2",H4="AWS_CONTAINER_CREDENTIALS_FULL_URI",q4="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",$4="AWS_CONTAINER_AUTHORIZATION_TOKEN",z4=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[B4],n=e.awsContainerCredentialsFullUri??process.env[H4],o=e.awsContainerAuthorizationToken??process.env[$4],s=e.awsContainerAuthorizationTokenFile??process.env[q4],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${j4}${r}`;else throw new qP.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,U4.checkUrl)(a,e.logger);let c=new k4.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,L4.retryWrapper)(async()=>{let d=(0,$P.createGetRequest)(a);o?d.headers.Authorization=o:s&&(d.headers.Authorization=(await F4.default.readFile(s)).toString());try{let l=await c.handle(d);return(0,$P.getCredentials)(l.response).then(u=>(0,M4.setCredentialFeature)(u,"CREDENTIALS_HTTP","z"))}catch(l){throw new qP.CredentialsProviderError(String(l),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Gu.fromHttp=z4});var zh=E(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.fromHttp=void 0;var G4=zP();Object.defineProperty(Ku,"fromHttp",{enumerable:!0,get:function(){return G4.fromHttp}})});var Kh=E(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.resolveHttpAuthSchemeConfig=Hr.defaultSSOHttpAuthSchemeProvider=Hr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var K4=(ve(),q(It)),Gh=ze(),V4=async(e,t,r)=>({operation:(0,Gh.getSmithyContext)(t).operation,region:await(0,Gh.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Hr.defaultSSOHttpAuthSchemeParametersProvider=V4;function J4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Vu(e){return{schemeId:"smithy.api#noAuth"}}var W4=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Vu(e));break}case"ListAccountRoles":{t.push(Vu(e));break}case"ListAccounts":{t.push(Vu(e));break}case"Logout":{t.push(Vu(e));break}default:t.push(J4(e))}return t};Hr.defaultSSOHttpAuthSchemeProvider=W4;var Y4=e=>{let t=(0,K4.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Gh.normalizeProvider)(e.authSchemePreference??[])})};Hr.resolveHttpAuthSchemeConfig=Y4});var GP=E((Moe,X4)=>{X4.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.846.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.846.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.845.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.846.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Fa=E((koe,QP)=>{"use strict";var Wu=Object.defineProperty,Q4=Object.getOwnPropertyDescriptor,Z4=Object.getOwnPropertyNames,eG=Object.prototype.hasOwnProperty,Ju=(e,t)=>Wu(e,"name",{value:t,configurable:!0}),tG=(e,t)=>{for(var r in t)Wu(e,r,{get:t[r],enumerable:!0})},rG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Z4(t))!eG.call(e,o)&&o!==r&&Wu(e,o,{get:()=>t[o],enumerable:!(n=Q4(t,o))||n.enumerable});return e},nG=e=>rG(Wu({},"__esModule",{value:!0}),e),VP={};tG(VP,{NODE_APP_ID_CONFIG_OPTIONS:()=>cG,UA_APP_ID_ENV_NAME:()=>YP,UA_APP_ID_INI_NAME:()=>XP,createDefaultUserAgentProvider:()=>WP,crtAvailability:()=>JP,defaultUserAgent:()=>sG});QP.exports=nG(VP);var KP=require("os"),Vh=require("process"),JP={isCrtAvailable:!1},oG=Ju(()=>JP.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),WP=Ju(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,KP.platform)()}`,(0,KP.release)()],["lang/js"],["md/nodejs",`${Vh.versions.node}`]],o=oG();o&&n.push(o),e&&n.push([`api/${e}`,t]),Vh.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Vh.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),sG=WP,iG=as(),YP="AWS_SDK_UA_APP_ID",XP="sdk_ua_app_id",aG="sdk-ua-app-id",cG={environmentVariableSelector:Ju(e=>e[YP],"environmentVariableSelector"),configFileSelector:Ju(e=>e[XP]??e[aG],"configFileSelector"),default:iG.DEFAULT_UA_APP_ID}});var Ua=E((Foe,rR)=>{var Yu=Object.defineProperty,dG=Object.getOwnPropertyDescriptor,uG=Object.getOwnPropertyNames,lG=Object.prototype.hasOwnProperty,eR=(e,t)=>Yu(e,"name",{value:t,configurable:!0}),pG=(e,t)=>{for(var r in t)Yu(e,r,{get:t[r],enumerable:!0})},fG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of uG(t))!lG.call(e,o)&&o!==r&&Yu(e,o,{get:()=>t[o],enumerable:!(n=dG(t,o))||n.enumerable});return e},mG=e=>fG(Yu({},"__esModule",{value:!0}),e),tR={};pG(tR,{Hash:()=>yG});rR.exports=mG(tR);var Jh=Do(),hG=Ce(),gG=require("buffer"),ZP=require("crypto"),vs,yG=(vs=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,hG.toUint8Array)(Wh(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,ZP.createHmac)(this.algorithmIdentifier,Wh(this.secret)):(0,ZP.createHash)(this.algorithmIdentifier)}},eR(vs,"Hash"),vs);function Wh(e,t){return gG.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Jh.fromString)(e,t):ArrayBuffer.isView(e)?(0,Jh.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Jh.fromArrayBuffer)(e)}eR(Wh,"castSourceData")});var La=E((Uoe,sR)=>{var Xu=Object.defineProperty,_G=Object.getOwnPropertyDescriptor,SG=Object.getOwnPropertyNames,EG=Object.prototype.hasOwnProperty,vG=(e,t)=>Xu(e,"name",{value:t,configurable:!0}),bG=(e,t)=>{for(var r in t)Xu(e,r,{get:t[r],enumerable:!0})},wG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of SG(t))!EG.call(e,o)&&o!==r&&Xu(e,o,{get:()=>t[o],enumerable:!(n=_G(t,o))||n.enumerable});return e},CG=e=>wG(Xu({},"__esModule",{value:!0}),e),oR={};bG(oR,{calculateBodyLength:()=>OG});sR.exports=CG(oR);var nR=require("fs"),OG=vG(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,nR.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,nR.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var ER=E(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.ruleSet=void 0;var gR="required",ot="fn",st="argv",Cs="ref",iR=!0,aR="isSet",Ba="booleanEquals",bs="error",ws="endpoint",cr="tree",Yh="PartitionResult",Xh="getAttr",cR={[gR]:!1,type:"String"},dR={[gR]:!0,default:!1,type:"Boolean"},uR={[Cs]:"Endpoint"},yR={[ot]:Ba,[st]:[{[Cs]:"UseFIPS"},!0]},_R={[ot]:Ba,[st]:[{[Cs]:"UseDualStack"},!0]},nt={},lR={[ot]:Xh,[st]:[{[Cs]:Yh},"supportsFIPS"]},SR={[Cs]:Yh},pR={[ot]:Ba,[st]:[!0,{[ot]:Xh,[st]:[SR,"supportsDualStack"]}]},fR=[yR],mR=[_R],hR=[{[Cs]:"Region"}],PG={version:"1.0",parameters:{Region:cR,UseDualStack:dR,UseFIPS:dR,Endpoint:cR},rules:[{conditions:[{[ot]:aR,[st]:[uR]}],rules:[{conditions:fR,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:bs},{conditions:mR,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:bs},{endpoint:{url:uR,properties:nt,headers:nt},type:ws}],type:cr},{conditions:[{[ot]:aR,[st]:hR}],rules:[{conditions:[{[ot]:"aws.partition",[st]:hR,assign:Yh}],rules:[{conditions:[yR,_R],rules:[{conditions:[{[ot]:Ba,[st]:[iR,lR]},pR],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nt,headers:nt},type:ws}],type:cr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:bs}],type:cr},{conditions:fR,rules:[{conditions:[{[ot]:Ba,[st]:[lR,iR]}],rules:[{conditions:[{[ot]:"stringEquals",[st]:[{[ot]:Xh,[st]:[SR,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:nt,headers:nt},type:ws},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:nt,headers:nt},type:ws}],type:cr},{error:"FIPS is enabled but this partition does not support FIPS",type:bs}],type:cr},{conditions:mR,rules:[{conditions:[pR],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nt,headers:nt},type:ws}],type:cr},{error:"DualStack is enabled but this partition does not support DualStack",type:bs}],type:cr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:nt,headers:nt},type:ws}],type:cr}],type:cr},{error:"Invalid Configuration: Missing Region",type:bs}]};Qu.ruleSet=PG});var vR=E(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.defaultEndpointResolver=void 0;var RG=Ko(),Qh=Go(),TG=ER(),xG=new Qh.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),AG=(e,t={})=>xG.get(e,()=>(0,Qh.resolveEndpoint)(TG.ruleSet,{endpointParams:e,logger:t.logger}));Zu.defaultEndpointResolver=AG;Qh.customEndpointFunctions.aws=RG.awsEndpointFunctions});var CR=E(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.getRuntimeConfig=void 0;var IG=(ve(),q(It)),NG=(Be(),q(qo)),DG=L(),MG=Cr(),bR=Ne(),wR=Ce(),kG=Kh(),FG=vR(),UG=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??bR.fromBase64,base64Encoder:e?.base64Encoder??bR.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??FG.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??kG.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new IG.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new NG.NoAuthSigner}],logger:e?.logger??new DG.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??MG.parseUrl,utf8Decoder:e?.utf8Decoder??wR.fromUtf8,utf8Encoder:e?.utf8Encoder??wR.toUtf8});el.getRuntimeConfig=UG});var Ha=E((Hoe,AR)=>{var LG=Object.create,ja=Object.defineProperty,BG=Object.getOwnPropertyDescriptor,jG=Object.getOwnPropertyNames,HG=Object.getPrototypeOf,qG=Object.prototype.hasOwnProperty,Zh=(e,t)=>ja(e,"name",{value:t,configurable:!0}),$G=(e,t)=>{for(var r in t)ja(e,r,{get:t[r],enumerable:!0})},TR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jG(t))!qG.call(e,o)&&o!==r&&ja(e,o,{get:()=>t[o],enumerable:!(n=BG(t,o))||n.enumerable});return e},zG=(e,t,r)=>(r=e!=null?LG(HG(e)):{},TR(t||!e||!e.__esModule?ja(r,"default",{value:e,enumerable:!0}):r,e)),GG=e=>TR(ja({},"__esModule",{value:!0}),e),xR={};$G(xR,{resolveDefaultsModeConfig:()=>tK});AR.exports=GG(xR);var KG=Dt(),OR=kr(),VG=Me(),JG="AWS_EXECUTION_ENV",PR="AWS_REGION",RR="AWS_DEFAULT_REGION",WG="AWS_EC2_METADATA_DISABLED",YG=["in-region","cross-region","mobile","standard","legacy"],XG="/latest/meta-data/placement/region",QG="AWS_DEFAULTS_MODE",ZG="defaults_mode",eK={environmentVariableSelector:e=>e[QG],configFileSelector:e=>e[ZG],default:"legacy"},tK=Zh(({region:e=(0,OR.loadConfig)(KG.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,OR.loadConfig)(eK)}={})=>(0,VG.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return rK(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${YG.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),rK=Zh(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await nK();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),nK=Zh(async()=>{if(process.env[JG]&&(process.env[PR]||process.env[RR]))return process.env[PR]??process.env[RR];if(!process.env[WG])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>zG(ka())),r=await e();return(await t({...r,path:XG})).toString()}catch{}},"inferPhysicalRegion")});var kR=E(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.getRuntimeConfig=void 0;var oK=(Ss(),q(_s)),sK=oK.__importDefault(GP()),IR=(ve(),q(It)),NR=Fa(),tl=Dt(),iK=Ua(),DR=ar(),Gn=kr(),MR=hn(),aK=La(),cK=fs(),dK=CR(),uK=L(),lK=Ha(),pK=L(),fK=e=>{(0,pK.emitWarningIfUnsupportedVersion)(process.version);let t=(0,lK.resolveDefaultsModeConfig)(e),r=()=>t().then(uK.loadConfigsForDefaultMode),n=(0,dK.getRuntimeConfig)(e);(0,IR.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Gn.loadConfig)(IR.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??aK.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,NR.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:sK.default.version}),maxAttempts:e?.maxAttempts??(0,Gn.loadConfig)(DR.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Gn.loadConfig)(tl.NODE_REGION_CONFIG_OPTIONS,{...tl.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:MR.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Gn.loadConfig)({...DR.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||cK.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??iK.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??MR.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Gn.loadConfig)(tl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Gn.loadConfig)(tl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Gn.loadConfig)(NR.NODE_APP_ID_CONFIG_OPTIONS,o)}};rl.getRuntimeConfig=fK});var qa=E(($oe,HR)=>{"use strict";var nl=Object.defineProperty,mK=Object.getOwnPropertyDescriptor,hK=Object.getOwnPropertyNames,gK=Object.prototype.hasOwnProperty,kt=(e,t)=>nl(e,"name",{value:t,configurable:!0}),yK=(e,t)=>{for(var r in t)nl(e,r,{get:t[r],enumerable:!0})},_K=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hK(t))!gK.call(e,o)&&o!==r&&nl(e,o,{get:()=>t[o],enumerable:!(n=mK(t,o))||n.enumerable});return e},SK=e=>_K(nl({},"__esModule",{value:!0}),e),UR={};yK(UR,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>wK,NODE_REGION_CONFIG_OPTIONS:()=>bK,REGION_ENV_NAME:()=>LR,REGION_INI_NAME:()=>BR,getAwsRegionExtensionConfiguration:()=>EK,resolveAwsRegionExtensionConfiguration:()=>vK,resolveRegionConfig:()=>CK});HR.exports=SK(UR);var EK=kt(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),vK=kt(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),LR="AWS_REGION",BR="region",bK={environmentVariableSelector:kt(e=>e[LR],"environmentVariableSelector"),configFileSelector:kt(e=>e[BR],"configFileSelector"),default:kt(()=>{throw new Error("Region is missing")},"default")},wK={preferredFile:"credentials"},jR=kt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),FR=kt(e=>jR(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),CK=kt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:kt(async()=>{if(typeof t=="string")return FR(t);let n=await t();return FR(n)},"region"),useFipsEndpoint:kt(async()=>{let n=typeof t=="string"?t:await t();return jR(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var hT=E((zoe,mT)=>{"use strict";var ol=Object.defineProperty,OK=Object.getOwnPropertyDescriptor,PK=Object.getOwnPropertyNames,RK=Object.prototype.hasOwnProperty,B=(e,t)=>ol(e,"name",{value:t,configurable:!0}),TK=(e,t)=>{for(var r in t)ol(e,r,{get:t[r],enumerable:!0})},xK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PK(t))!RK.call(e,o)&&o!==r&&ol(e,o,{get:()=>t[o],enumerable:!(n=OK(t,o))||n.enumerable});return e},AK=e=>xK(ol({},"__esModule",{value:!0}),e),JR={};TK(JR,{GetRoleCredentialsCommand:()=>lT,GetRoleCredentialsRequestFilterSensitiveLog:()=>ZR,GetRoleCredentialsResponseFilterSensitiveLog:()=>tT,InvalidRequestException:()=>WR,ListAccountRolesCommand:()=>eg,ListAccountRolesRequestFilterSensitiveLog:()=>rT,ListAccountsCommand:()=>tg,ListAccountsRequestFilterSensitiveLog:()=>nT,LogoutCommand:()=>pT,LogoutRequestFilterSensitiveLog:()=>oT,ResourceNotFoundException:()=>YR,RoleCredentialsFilterSensitiveLog:()=>eT,SSO:()=>fT,SSOClient:()=>il,SSOServiceException:()=>Is,TooManyRequestsException:()=>XR,UnauthorizedException:()=>QR,__Client:()=>R.Client,paginateListAccountRoles:()=>r6,paginateListAccounts:()=>n6});mT.exports=AK(JR);var qR=$i(),IK=zi(),NK=Gi(),$R=as(),DK=Dt(),dr=(Be(),q(qo)),MK=Pa(),za=Fr(),zR=ar(),GR=Kh(),kK=B(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),sl={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},FK=kR(),KR=qa(),VR=ie(),R=L(),UK=B(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),LK=B(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),BK=B((e,t)=>{let r=Object.assign((0,KR.getAwsRegionExtensionConfiguration)(e),(0,R.getDefaultExtensionConfiguration)(e),(0,VR.getHttpHandlerExtensionConfiguration)(e),UK(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,KR.resolveAwsRegionExtensionConfiguration)(r),(0,R.resolveDefaultRuntimeConfig)(r),(0,VR.resolveHttpHandlerRuntimeConfig)(r),LK(r))},"resolveRuntimeExtensions"),Os,il=(Os=class extends R.Client{constructor(...[r]){let n=(0,FK.getRuntimeConfig)(r||{});super(n);_(this,"config");this.initConfig=n;let o=kK(n),s=(0,$R.resolveUserAgentConfig)(o),i=(0,zR.resolveRetryConfig)(s),a=(0,DK.resolveRegionConfig)(i),c=(0,qR.resolveHostHeaderConfig)(a),d=(0,za.resolveEndpointConfig)(c),l=(0,GR.resolveHttpAuthSchemeConfig)(d),u=BK(l,r?.extensions||[]);this.config=u,this.middlewareStack.use((0,$R.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,zR.getRetryPlugin)(this.config)),this.middlewareStack.use((0,MK.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,qR.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,IK.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,NK.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,dr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:GR.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:B(async p=>new dr.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,dr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},B(Os,"SSOClient"),Os),al=_r(),Kn,Is=(Kn=class extends R.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Kn.prototype)}},B(Kn,"SSOServiceException"),Kn),Vn,WR=(Vn=class extends Is{constructor(r){super({name:"InvalidRequestException",$fault:"client",...r});_(this,"name","InvalidRequestException");_(this,"$fault","client");Object.setPrototypeOf(this,Vn.prototype)}},B(Vn,"InvalidRequestException"),Vn),Jn,YR=(Jn=class extends Is{constructor(r){super({name:"ResourceNotFoundException",$fault:"client",...r});_(this,"name","ResourceNotFoundException");_(this,"$fault","client");Object.setPrototypeOf(this,Jn.prototype)}},B(Jn,"ResourceNotFoundException"),Jn),Wn,XR=(Wn=class extends Is{constructor(r){super({name:"TooManyRequestsException",$fault:"client",...r});_(this,"name","TooManyRequestsException");_(this,"$fault","client");Object.setPrototypeOf(this,Wn.prototype)}},B(Wn,"TooManyRequestsException"),Wn),Yn,QR=(Yn=class extends Is{constructor(r){super({name:"UnauthorizedException",$fault:"client",...r});_(this,"name","UnauthorizedException");_(this,"$fault","client");Object.setPrototypeOf(this,Yn.prototype)}},B(Yn,"UnauthorizedException"),Yn),ZR=B(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),eT=B(e=>({...e,...e.secretAccessKey&&{secretAccessKey:R.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:R.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),tT=B(e=>({...e,...e.roleCredentials&&{roleCredentials:eT(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),rT=B(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),nT=B(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),oT=B(e=>({...e,...e.accessToken&&{accessToken:R.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),$a=(ve(),q(It)),jK=B(async(e,t)=>{let r=(0,dr.requestBuilder)(e,t),n=(0,R.map)({},R.isSerializableHeaderValue,{[ul]:e[dl]});r.bp("/federation/credentials");let o=(0,R.map)({[e6]:[,(0,R.expectNonNull)(e[ZK],"roleName")],[iT]:[,(0,R.expectNonNull)(e[sT],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),HK=B(async(e,t)=>{let r=(0,dr.requestBuilder)(e,t),n=(0,R.map)({},R.isSerializableHeaderValue,{[ul]:e[dl]});r.bp("/assignment/roles");let o=(0,R.map)({[uT]:[,e[dT]],[cT]:[()=>e.maxResults!==void 0,()=>e[aT].toString()],[iT]:[,(0,R.expectNonNull)(e[sT],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),qK=B(async(e,t)=>{let r=(0,dr.requestBuilder)(e,t),n=(0,R.map)({},R.isSerializableHeaderValue,{[ul]:e[dl]});r.bp("/assignment/accounts");let o=(0,R.map)({[uT]:[,e[dT]],[cT]:[()=>e.maxResults!==void 0,()=>e[aT].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),$K=B(async(e,t)=>{let r=(0,dr.requestBuilder)(e,t),n=(0,R.map)({},R.isSerializableHeaderValue,{[ul]:e[dl]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),zK=B(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cl(e,t);let r=(0,R.map)({$metadata:qr(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await(0,$a.parseJsonBody)(e.body,t)),"body"),o=(0,R.take)(n,{roleCredentials:R._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),GK=B(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cl(e,t);let r=(0,R.map)({$metadata:qr(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await(0,$a.parseJsonBody)(e.body,t)),"body"),o=(0,R.take)(n,{nextToken:R.expectString,roleList:R._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),KK=B(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cl(e,t);let r=(0,R.map)({$metadata:qr(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await(0,$a.parseJsonBody)(e.body,t)),"body"),o=(0,R.take)(n,{accountList:R._json,nextToken:R.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),VK=B(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cl(e,t);let r=(0,R.map)({$metadata:qr(e)});return await(0,R.collectBody)(e.body,t),r},"de_LogoutCommand"),cl=B(async(e,t)=>{let r={...e,body:await(0,$a.parseJsonErrorBody)(e.body,t)},n=(0,$a.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await WK(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await YK(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await XK(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await QK(r,t);default:let o=r.body;return JK({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),JK=(0,R.withBaseException)(Is),WK=B(async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new WR({$metadata:qr(e),...r});return(0,R.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),YK=B(async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new YR({$metadata:qr(e),...r});return(0,R.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),XK=B(async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new XR({$metadata:qr(e),...r});return(0,R.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),QK=B(async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new QR({$metadata:qr(e),...r});return(0,R.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),qr=B(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),sT="accountId",dl="accessToken",iT="account_id",aT="maxResults",cT="max_result",dT="nextToken",uT="next_token",ZK="roleName",e6="role_name",ul="x-amz-sso_bearer_token",Ps,lT=(Ps=class extends R.Command.classBuilder().ep(sl).m(function(t,r,n,o){return[(0,al.getSerdePlugin)(n,this.serialize,this.deserialize),(0,za.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(ZR,tT).ser(jK).de(zK).build(){},B(Ps,"GetRoleCredentialsCommand"),Ps),Rs,eg=(Rs=class extends R.Command.classBuilder().ep(sl).m(function(t,r,n,o){return[(0,al.getSerdePlugin)(n,this.serialize,this.deserialize),(0,za.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(rT,void 0).ser(HK).de(GK).build(){},B(Rs,"ListAccountRolesCommand"),Rs),Ts,tg=(Ts=class extends R.Command.classBuilder().ep(sl).m(function(t,r,n,o){return[(0,al.getSerdePlugin)(n,this.serialize,this.deserialize),(0,za.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(nT,void 0).ser(qK).de(KK).build(){},B(Ts,"ListAccountsCommand"),Ts),xs,pT=(xs=class extends R.Command.classBuilder().ep(sl).m(function(t,r,n,o){return[(0,al.getSerdePlugin)(n,this.serialize,this.deserialize),(0,za.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(oT,void 0).ser($K).de(VK).build(){},B(xs,"LogoutCommand"),xs),t6={GetRoleCredentialsCommand:lT,ListAccountRolesCommand:eg,ListAccountsCommand:tg,LogoutCommand:pT},As,fT=(As=class extends il{},B(As,"SSO"),As);(0,R.createAggregatedClient)(t6,fT);var r6=(0,dr.createPaginator)(il,eg,"nextToken","nextToken","maxResults"),n6=(0,dr.createPaginator)(il,tg,"nextToken","nextToken","maxResults")});function o6(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function s6(e){return{schemeId:"smithy.api#noAuth"}}var Ga,gT,yT,_T,rg=y(()=>{ve();Ga=b(ze()),gT=async(e,t,r)=>({operation:(0,Ga.getSmithyContext)(t).operation,region:await(0,Ga.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});yT=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(s6(e));break}default:t.push(o6(e))}return t},_T=e=>{let t=Dn(e);return Object.assign(t,{authSchemePreference:(0,Ga.normalizeProvider)(e.authSchemePreference??[])})}});var ST,ET,ng=y(()=>{ST=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),ET={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var ll,og=y(()=>{ll={name:"@aws-sdk/nested-clients",version:"3.846.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.846.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.845.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.846.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var AT,at,ct,Ms,vT,Ka,Ns,Ds,ur,sg,ig,bT,wT,CT,IT,NT,it,OT,DT,PT,RT,TT,xT,a6,MT,kT=y(()=>{AT="required",at="fn",ct="argv",Ms="ref",vT="isSet",Ka="booleanEquals",Ns="error",Ds="endpoint",ur="tree",sg="PartitionResult",ig="getAttr",bT={[AT]:!1,type:"String"},wT={[AT]:!0,default:!1,type:"Boolean"},CT={[Ms]:"Endpoint"},IT={[at]:Ka,[ct]:[{[Ms]:"UseFIPS"},!0]},NT={[at]:Ka,[ct]:[{[Ms]:"UseDualStack"},!0]},it={},OT={[at]:ig,[ct]:[{[Ms]:sg},"supportsFIPS"]},DT={[Ms]:sg},PT={[at]:Ka,[ct]:[!0,{[at]:ig,[ct]:[DT,"supportsDualStack"]}]},RT=[IT],TT=[NT],xT=[{[Ms]:"Region"}],a6={version:"1.0",parameters:{Region:bT,UseDualStack:wT,UseFIPS:wT,Endpoint:bT},rules:[{conditions:[{[at]:vT,[ct]:[CT]}],rules:[{conditions:RT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ns},{conditions:TT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ns},{endpoint:{url:CT,properties:it,headers:it},type:Ds}],type:ur},{conditions:[{[at]:vT,[ct]:xT}],rules:[{conditions:[{[at]:"aws.partition",[ct]:xT,assign:sg}],rules:[{conditions:[IT,NT],rules:[{conditions:[{[at]:Ka,[ct]:[!0,OT]},PT],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:it,headers:it},type:Ds}],type:ur},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ns}],type:ur},{conditions:RT,rules:[{conditions:[{[at]:Ka,[ct]:[OT,!0]}],rules:[{conditions:[{[at]:"stringEquals",[ct]:[{[at]:ig,[ct]:[DT,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:it,headers:it},type:Ds},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:it,headers:it},type:Ds}],type:ur},{error:"FIPS is enabled but this partition does not support FIPS",type:Ns}],type:ur},{conditions:TT,rules:[{conditions:[PT],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:it,headers:it},type:Ds}],type:ur},{error:"DualStack is enabled but this partition does not support DualStack",type:Ns}],type:ur},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:it,headers:it},type:Ds}],type:ur}],type:ur},{error:"Invalid Configuration: Missing Region",type:Ns}]},MT=a6});var FT,ks,c6,UT,LT=y(()=>{FT=b(Ko()),ks=b(Go());kT();c6=new ks.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),UT=(e,t={})=>c6.get(e,()=>(0,ks.resolveEndpoint)(MT,{endpointParams:e,logger:t.logger}));ks.customEndpointFunctions.aws=FT.awsEndpointFunctions});var BT,jT,pl,fl,HT,qT=y(()=>{ve();Be();BT=b(L()),jT=b(Cr()),pl=b(Ne()),fl=b(Ce());rg();LT();HT=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??pl.fromBase64,base64Encoder:e?.base64Encoder??pl.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??UT,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??yT,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new He},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new nr}],logger:e?.logger??new BT.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??jT.parseUrl,utf8Decoder:e?.utf8Decoder??fl.fromUtf8,utf8Encoder:e?.utf8Encoder??fl.toUtf8})});var ml,zr,$T,hl,$r,gl,zT,GT,KT,VT,JT,WT,YT=y(()=>{og();ve();ml=b(Fa()),zr=b(Dt()),$T=b(Ua()),hl=b(ar()),$r=b(kr()),gl=b(hn()),zT=b(La()),GT=b(fs());qT();KT=b(L()),VT=b(Ha()),JT=b(L()),WT=e=>{(0,JT.emitWarningIfUnsupportedVersion)(process.version);let t=(0,VT.resolveDefaultsModeConfig)(e),r=()=>t().then(KT.loadConfigsForDefaultMode),n=HT(e);Vo(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,$r.loadConfig)(Yo,o),bodyLengthChecker:e?.bodyLengthChecker??zT.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ml.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:ll.version}),maxAttempts:e?.maxAttempts??(0,$r.loadConfig)(hl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,$r.loadConfig)(zr.NODE_REGION_CONFIG_OPTIONS,{...zr.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:gl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,$r.loadConfig)({...hl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||GT.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??$T.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??gl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,$r.loadConfig)(zr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,$r.loadConfig)(zr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,$r.loadConfig)(ml.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var XT,QT,ZT=y(()=>{XT=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},QT=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var yl,_l,Sl,ex,tx=y(()=>{yl=b(qa()),_l=b(ie()),Sl=b(L());ZT();ex=(e,t)=>{let r=Object.assign((0,yl.getAwsRegionExtensionConfiguration)(e),(0,Sl.getDefaultExtensionConfiguration)(e),(0,_l.getHttpHandlerExtensionConfiguration)(e),XT(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,yl.resolveAwsRegionExtensionConfiguration)(r),(0,Sl.resolveDefaultRuntimeConfig)(r),(0,_l.resolveHttpHandlerRuntimeConfig)(r),QT(r))}});var El,rx,nx,vl,ox,sx,ix,bl,ag,Va,cg=y(()=>{El=b($i()),rx=b(zi()),nx=b(Gi()),vl=b(as()),ox=b(Dt());Be();sx=b(Pa()),ix=b(Fr()),bl=b(ar()),ag=b(L());rg();ng();YT();tx();Va=class extends ag.Client{constructor(...[r]){let n=WT(r||{});super(n);_(this,"config");this.initConfig=n;let o=ST(n),s=(0,vl.resolveUserAgentConfig)(o),i=(0,bl.resolveRetryConfig)(s),a=(0,ox.resolveRegionConfig)(i),c=(0,El.resolveHostHeaderConfig)(a),d=(0,ix.resolveEndpointConfig)(c),l=_T(d),u=ex(l,r?.extensions||[]);this.config=u,this.middlewareStack.use((0,vl.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,bl.getRetryPlugin)(this.config)),this.middlewareStack.use((0,sx.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,El.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,rx.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,nx.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Vi(this.config,{httpAuthSchemeParametersProvider:gT,identityProviderConfigProvider:async p=>new Rn({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(Ji(this.config))}destroy(){super.destroy()}}});var ax,be,wl=y(()=>{ax=b(L()),be=class e extends ax.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Xn,Ja,Wa,dg,ug,Ya,Xa,Qa,Za,ec,tc,rc,nc,oc,Cl=y(()=>{Xn=b(L());wl();Ja=class e extends be{constructor(r){super({name:"AccessDeniedException",$fault:"client",...r});_(this,"name","AccessDeniedException");_(this,"$fault","client");_(this,"error");_(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Wa=class e extends be{constructor(r){super({name:"AuthorizationPendingException",$fault:"client",...r});_(this,"name","AuthorizationPendingException");_(this,"$fault","client");_(this,"error");_(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},dg=e=>({...e,...e.clientSecret&&{clientSecret:Xn.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Xn.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Xn.SENSITIVE_STRING}}),ug=e=>({...e,...e.accessToken&&{accessToken:Xn.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Xn.SENSITIVE_STRING},...e.idToken&&{idToken:Xn.SENSITIVE_STRING}}),Ya=class e extends be{constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r});_(this,"name","ExpiredTokenException");_(this,"$fault","client");_(this,"error");_(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Xa=class e extends be{constructor(r){super({name:"InternalServerException",$fault:"server",...r});_(this,"name","InternalServerException");_(this,"$fault","server");_(this,"error");_(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Qa=class e extends be{constructor(r){super({name:"InvalidClientException",$fault:"client",...r});_(this,"name","InvalidClientException");_(this,"$fault","client");_(this,"error");_(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Za=class e extends be{constructor(r){super({name:"InvalidGrantException",$fault:"client",...r});_(this,"name","InvalidGrantException");_(this,"$fault","client");_(this,"error");_(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},ec=class e extends be{constructor(r){super({name:"InvalidRequestException",$fault:"client",...r});_(this,"name","InvalidRequestException");_(this,"$fault","client");_(this,"error");_(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},tc=class e extends be{constructor(r){super({name:"InvalidScopeException",$fault:"client",...r});_(this,"name","InvalidScopeException");_(this,"$fault","client");_(this,"error");_(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},rc=class e extends be{constructor(r){super({name:"SlowDownException",$fault:"client",...r});_(this,"name","SlowDownException");_(this,"$fault","client");_(this,"error");_(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},nc=class e extends be{constructor(r){super({name:"UnauthorizedClientException",$fault:"client",...r});_(this,"name","UnauthorizedClientException");_(this,"$fault","client");_(this,"error");_(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},oc=class e extends be{constructor(r){super({name:"UnsupportedGrantTypeException",$fault:"client",...r});_(this,"name","UnsupportedGrantTypeException");_(this,"$fault","client");_(this,"error");_(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}}});var O,cx,dx,d6,u6,l6,p6,f6,m6,h6,g6,y6,_6,S6,E6,v6,dt,ux=y(()=>{ve();Be();O=b(L());Cl();wl();cx=async(e,t)=>{let r=ua(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,O.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,O._json)(s)})),r.m("POST").h(n).b(o),r.build()},dx=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return d6(e,t);let r=(0,O.map)({$metadata:dt(e)}),n=(0,O.expectNonNull)((0,O.expectObject)(await ss(e.body,t)),"body"),o=(0,O.take)(n,{accessToken:O.expectString,expiresIn:O.expectInt32,idToken:O.expectString,refreshToken:O.expectString,tokenType:O.expectString});return Object.assign(r,o),r},d6=async(e,t)=>{let r={...e,body:await Mm(e.body,t)},n=kn(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await l6(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await p6(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await f6(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await m6(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await h6(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await g6(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await y6(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await _6(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await S6(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await E6(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await v6(r,t);default:let o=r.body;return u6({output:e,parsedBody:o,errorCode:n})}},u6=(0,O.withBaseException)(be),l6=async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{error:O.expectString,error_description:O.expectString});Object.assign(r,o);let s=new Ja({$metadata:dt(e),...r});return(0,O.decorateServiceException)(s,e.body)},p6=async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{error:O.expectString,error_description:O.expectString});Object.assign(r,o);let s=new Wa({$metadata:dt(e),...r});return(0,O.decorateServiceException)(s,e.body)},f6=async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{error:O.expectString,error_description:O.expectString});Object.assign(r,o);let s=new Ya({$metadata:dt(e),...r});return(0,O.decorateServiceException)(s,e.body)},m6=async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{error:O.expectString,error_description:O.expectString});Object.assign(r,o);let s=new Xa({$metadata:dt(e),...r});return(0,O.decorateServiceException)(s,e.body)},h6=async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{error:O.expectString,error_description:O.expectString});Object.assign(r,o);let s=new Qa({$metadata:dt(e),...r});return(0,O.decorateServiceException)(s,e.body)},g6=async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{error:O.expectString,error_description:O.expectString});Object.assign(r,o);let s=new Za({$metadata:dt(e),...r});return(0,O.decorateServiceException)(s,e.body)},y6=async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{error:O.expectString,error_description:O.expectString});Object.assign(r,o);let s=new ec({$metadata:dt(e),...r});return(0,O.decorateServiceException)(s,e.body)},_6=async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{error:O.expectString,error_description:O.expectString});Object.assign(r,o);let s=new tc({$metadata:dt(e),...r});return(0,O.decorateServiceException)(s,e.body)},S6=async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{error:O.expectString,error_description:O.expectString});Object.assign(r,o);let s=new rc({$metadata:dt(e),...r});return(0,O.decorateServiceException)(s,e.body)},E6=async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{error:O.expectString,error_description:O.expectString});Object.assign(r,o);let s=new nc({$metadata:dt(e),...r});return(0,O.decorateServiceException)(s,e.body)},v6=async(e,t)=>{let r=(0,O.map)({}),n=e.body,o=(0,O.take)(n,{error:O.expectString,error_description:O.expectString});Object.assign(r,o);let s=new oc({$metadata:dt(e),...r});return(0,O.decorateServiceException)(s,e.body)},dt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var lx,px,lg,sc,pg=y(()=>{lx=b(Fr()),px=b(_r()),lg=b(L());ng();Cl();ux();sc=class extends lg.Command.classBuilder().ep(ET).m(function(t,r,n,o){return[(0,px.getSerdePlugin)(n,this.serialize,this.deserialize),(0,lx.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(dg,ug).ser(cx).de(dx).build(){}});var fx,b6,Ol,mx=y(()=>{fx=b(L());pg();cg();b6={CreateTokenCommand:sc},Ol=class extends Va{};(0,fx.createAggregatedClient)(b6,Ol)});var hx=y(()=>{pg()});var gx=y(()=>{Cl()});var fg={};pt(fg,{$Command:()=>lg.Command,AccessDeniedException:()=>Ja,AuthorizationPendingException:()=>Wa,CreateTokenCommand:()=>sc,CreateTokenRequestFilterSensitiveLog:()=>dg,CreateTokenResponseFilterSensitiveLog:()=>ug,ExpiredTokenException:()=>Ya,InternalServerException:()=>Xa,InvalidClientException:()=>Qa,InvalidGrantException:()=>Za,InvalidRequestException:()=>ec,InvalidScopeException:()=>tc,SSOOIDC:()=>Ol,SSOOIDCClient:()=>Va,SSOOIDCServiceException:()=>be,SlowDownException:()=>rc,UnauthorizedClientException:()=>nc,UnsupportedGrantTypeException:()=>oc,__Client:()=>ag.Client});var mg=y(()=>{cg();mx();hx();gx();wl()});var Cx=E(($se,wx)=>{"use strict";var w6=Object.create,ac=Object.defineProperty,C6=Object.getOwnPropertyDescriptor,O6=Object.getOwnPropertyNames,P6=Object.getPrototypeOf,R6=Object.prototype.hasOwnProperty,lr=(e,t)=>ac(e,"name",{value:t,configurable:!0}),T6=(e,t)=>{for(var r in t)ac(e,r,{get:t[r],enumerable:!0})},Sx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of O6(t))!R6.call(e,o)&&o!==r&&ac(e,o,{get:()=>t[o],enumerable:!(n=C6(t,o))||n.enumerable});return e},Ex=(e,t,r)=>(r=e!=null?w6(P6(e)):{},Sx(t||!e||!e.__esModule?ac(r,"default",{value:e,enumerable:!0}):r,e)),x6=e=>Sx(ac({},"__esModule",{value:!0}),e),vx={};T6(vx,{fromEnvSigningName:()=>N6,fromSso:()=>bx,fromStatic:()=>B6,nodeProvider:()=>j6});wx.exports=x6(vx);var A6=(ht(),q(Rr)),I6=(Cm(),q(Tw)),Ke=Me(),N6=lr(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Ke.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,I6.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new Ke.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,A6.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),D6=5*60*1e3,hg="To refresh this SSO session run 'aws sso login' with the corresponding profile.",M6=lr(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>Ex((mg(),q(fg))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),k6=lr(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>Ex((mg(),q(fg))));return(await M6(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),yx=lr(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Ke.TokenProviderError(`Token is expired. ${hg}`,!1)},"validateTokenExpiry"),Qn=lr((e,t,r=!1)=>{if(typeof t>"u")throw new Ke.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${hg}`,!1)},"validateTokenKey"),ic=Mr(),F6=require("fs"),{writeFile:U6}=F6.promises,L6=lr((e,t)=>{let r=(0,ic.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return U6(r,n)},"writeSSOTokenToFile"),_x=new Date(0),bx=lr((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,ic.parseKnownFiles)(r),o=(0,ic.getProfileName)({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new Ke.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new Ke.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,c=(await(0,ic.loadSsoSessionData)(r))[i];if(!c)throw new Ke.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let S of["sso_start_url","sso_region"])if(!c[S])throw new Ke.TokenProviderError(`Sso session '${i}' is missing required property '${S}'.`,!1);let d=c.sso_start_url,l=c.sso_region,u;try{u=await(0,ic.getSSOTokenFromFile)(i)}catch{throw new Ke.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${hg}`,!1)}Qn("accessToken",u.accessToken),Qn("expiresAt",u.expiresAt);let{accessToken:p,expiresAt:h}=u,g={token:p,expiration:new Date(h)};if(g.expiration.getTime()-Date.now()>D6)return g;if(Date.now()-_x.getTime()<30*1e3)return yx(g),g;Qn("clientId",u.clientId,!0),Qn("clientSecret",u.clientSecret,!0),Qn("refreshToken",u.refreshToken,!0);try{_x.setTime(Date.now());let S=await k6(u,l,r);Qn("accessToken",S.accessToken),Qn("expiresIn",S.expiresIn);let v=new Date(Date.now()+S.expiresIn*1e3);try{await L6(i,{...u,accessToken:S.accessToken,expiresAt:v.toISOString(),refreshToken:S.refreshToken})}catch{}return{token:S.accessToken,expiration:v}}catch{return yx(g),g}},"fromSso"),B6=lr(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Ke.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),j6=lr((e={})=>(0,Ke.memoize)((0,Ke.chain)(bx(e),async()=>{throw new Ke.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var yg=E((zse,Dx)=>{"use strict";var Rl=Object.defineProperty,H6=Object.getOwnPropertyDescriptor,Rx=Object.getOwnPropertyNames,q6=Object.prototype.hasOwnProperty,Tl=(e,t)=>Rl(e,"name",{value:t,configurable:!0}),$6=(e,t)=>function(){return e&&(t=(0,e[Rx(e)[0]])(e=0)),t},Tx=(e,t)=>{for(var r in t)Rl(e,r,{get:t[r],enumerable:!0})},z6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Rx(t))!q6.call(e,o)&&o!==r&&Rl(e,o,{get:()=>t[o],enumerable:!(n=H6(t,o))||n.enumerable});return e},G6=e=>z6(Rl({},"__esModule",{value:!0}),e),xx={};Tx(xx,{GetRoleCredentialsCommand:()=>gg.GetRoleCredentialsCommand,SSOClient:()=>gg.SSOClient});var gg,K6=$6({"src/loadSso.ts"(){"use strict";gg=hT()}}),Ax={};Tx(Ax,{fromSSO:()=>J6,isSsoProfile:()=>Ix,validateSsoProfile:()=>Nx});Dx.exports=G6(Ax);var Ix=Tl(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),Ox=(ht(),q(Rr)),V6=Cx(),_t=Me(),Pl=Mr(),cc=!1,Px=Tl(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,profile:c,logger:d})=>{let l,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Ue=await(0,V6.fromSso)({profile:c})();l={accessToken:Ue.token,expiresAt:new Date(Ue.expiration).toISOString()}}catch(Ue){throw new _t.CredentialsProviderError(Ue.message,{tryNextLink:cc,logger:d})}else try{l=await(0,Pl.getSSOTokenFromFile)(e)}catch{throw new _t.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,{tryNextLink:cc,logger:d})}if(new Date(l.expiresAt).getTime()-Date.now()<=0)throw new _t.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,{tryNextLink:cc,logger:d});let{accessToken:p}=l,{SSOClient:h,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(K6(),xx)),S=s||new h(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n})),v;try{v=await S.send(new g({accountId:r,roleName:o,accessToken:p}))}catch(Ue){throw new _t.CredentialsProviderError(Ue,{tryNextLink:cc,logger:d})}let{roleCredentials:{accessKeyId:w,secretAccessKey:C,sessionToken:N,expiration:k,credentialScope:T,accountId:V}={}}=v;if(!w||!C||!N||!k)throw new _t.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:cc,logger:d});let hr={accessKeyId:w,secretAccessKey:C,sessionToken:N,expiration:new Date(k),...T&&{credentialScope:T},...V&&{accountId:V}};return t?(0,Ox.setCredentialFeature)(hr,"CREDENTIALS_SSO","s"):(0,Ox.setCredentialFeature)(hr,"CREDENTIALS_SSO_LEGACY","u"),hr},"resolveSSOCredentials"),Nx=Tl((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new _t.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),J6=Tl((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=(0,Pl.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let l=(await(0,Pl.parseKnownFiles)(e))[c];if(!l)throw new _t.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!Ix(l))throw new _t.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(l?.sso_session){let w=(await(0,Pl.loadSsoSessionData)(e))[l.sso_session],C=` configurations in profile ${c} and sso-session ${l.sso_session}`;if(o&&o!==w.sso_region)throw new _t.CredentialsProviderError("Conflicting SSO region"+C,{tryNextLink:!1,logger:e.logger});if(r&&r!==w.sso_start_url)throw new _t.CredentialsProviderError("Conflicting SSO start_url"+C,{tryNextLink:!1,logger:e.logger});l.sso_region=w.sso_region,l.sso_start_url=w.sso_start_url}let{sso_start_url:u,sso_account_id:p,sso_region:h,sso_role_name:g,sso_session:S}=Nx(l,e.logger);return Px({ssoStartUrl:u,ssoSession:S,ssoAccountId:p,ssoRegion:h,ssoRoleName:g,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!o||!s)throw new _t.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return Px({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function W6(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Y6(e){return{schemeId:"smithy.api#noAuth"}}var dc,Mx,kx,X6,Fx,_g=y(()=>{ve();dc=b(ze());uc();Mx=async(e,t,r)=>({operation:(0,dc.getSmithyContext)(t).operation,region:await(0,dc.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});kx=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(Y6(e));break}default:t.push(W6(e))}return t},X6=e=>Object.assign(e,{stsClientCtor:Ft}),Fx=e=>{let t=X6(e),r=Dn(t);return Object.assign(r,{authSchemePreference:(0,dc.normalizeProvider)(e.authSchemePreference??[])})}});var Ux,xl,Al=y(()=>{Ux=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),xl={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Jx,F,Y,X,Kr,Gr,Te,Wx,Yx,Xx,de,Lx,Ut,Fs,Eg,Bx,Sg,Qx,jx,xe,Hx,Zx,eA,Ie,Ve,qx,tA,rA,$x,nA,zx,Gx,Kx,Vx,Q6,oA,sA=y(()=>{Jx="required",F="type",Y="fn",X="argv",Kr="ref",Gr="booleanEquals",Te="stringEquals",Wx="sigv4",Yx="sts",Xx="us-east-1",de="endpoint",Lx="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ut="tree",Fs="error",Eg="getAttr",Bx={[Jx]:!1,[F]:"String"},Sg={[Jx]:!0,default:!1,[F]:"Boolean"},Qx={[Kr]:"Endpoint"},jx={[Y]:"isSet",[X]:[{[Kr]:"Region"}]},xe={[Kr]:"Region"},Hx={[Y]:"aws.partition",[X]:[xe],assign:"PartitionResult"},Zx={[Kr]:"UseFIPS"},eA={[Kr]:"UseDualStack"},Ie={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Wx,signingName:Yx,signingRegion:Xx}]},headers:{}},Ve={},qx={conditions:[{[Y]:Te,[X]:[xe,"aws-global"]}],[de]:Ie,[F]:de},tA={[Y]:Gr,[X]:[Zx,!0]},rA={[Y]:Gr,[X]:[eA,!0]},$x={[Y]:Eg,[X]:[{[Kr]:"PartitionResult"},"supportsFIPS"]},nA={[Kr]:"PartitionResult"},zx={[Y]:Gr,[X]:[!0,{[Y]:Eg,[X]:[nA,"supportsDualStack"]}]},Gx=[{[Y]:"isSet",[X]:[Qx]}],Kx=[tA],Vx=[rA],Q6={version:"1.0",parameters:{Region:Bx,UseDualStack:Sg,UseFIPS:Sg,Endpoint:Bx,UseGlobalEndpoint:Sg},rules:[{conditions:[{[Y]:Gr,[X]:[{[Kr]:"UseGlobalEndpoint"},!0]},{[Y]:"not",[X]:Gx},jx,Hx,{[Y]:Gr,[X]:[Zx,!1]},{[Y]:Gr,[X]:[eA,!1]}],rules:[{conditions:[{[Y]:Te,[X]:[xe,"ap-northeast-1"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"ap-south-1"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"ap-southeast-1"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"ap-southeast-2"]}],endpoint:Ie,[F]:de},qx,{conditions:[{[Y]:Te,[X]:[xe,"ca-central-1"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"eu-central-1"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"eu-north-1"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"eu-west-1"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"eu-west-2"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"eu-west-3"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"sa-east-1"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,Xx]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"us-east-2"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"us-west-1"]}],endpoint:Ie,[F]:de},{conditions:[{[Y]:Te,[X]:[xe,"us-west-2"]}],endpoint:Ie,[F]:de},{endpoint:{url:Lx,properties:{authSchemes:[{name:Wx,signingName:Yx,signingRegion:"{Region}"}]},headers:Ve},[F]:de}],[F]:Ut},{conditions:Gx,rules:[{conditions:Kx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[F]:Fs},{conditions:Vx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[F]:Fs},{endpoint:{url:Qx,properties:Ve,headers:Ve},[F]:de}],[F]:Ut},{conditions:[jx],rules:[{conditions:[Hx],rules:[{conditions:[tA,rA],rules:[{conditions:[{[Y]:Gr,[X]:[!0,$x]},zx],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ve,headers:Ve},[F]:de}],[F]:Ut},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[F]:Fs}],[F]:Ut},{conditions:Kx,rules:[{conditions:[{[Y]:Gr,[X]:[$x,!0]}],rules:[{conditions:[{[Y]:Te,[X]:[{[Y]:Eg,[X]:[nA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ve,headers:Ve},[F]:de},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ve,headers:Ve},[F]:de}],[F]:Ut},{error:"FIPS is enabled but this partition does not support FIPS",[F]:Fs}],[F]:Ut},{conditions:Vx,rules:[{conditions:[zx],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ve,headers:Ve},[F]:de}],[F]:Ut},{error:"DualStack is enabled but this partition does not support DualStack",[F]:Fs}],[F]:Ut},qx,{endpoint:{url:Lx,properties:Ve,headers:Ve},[F]:de}],[F]:Ut}],[F]:Ut},{error:"Invalid Configuration: Missing Region",[F]:Fs}]},oA=Q6});var iA,Us,Z6,aA,cA=y(()=>{iA=b(Ko()),Us=b(Go());sA();Z6=new Us.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),aA=(e,t={})=>Z6.get(e,()=>(0,Us.resolveEndpoint)(oA,{endpointParams:e,logger:t.logger}));Us.customEndpointFunctions.aws=iA.awsEndpointFunctions});var dA,uA,Il,Nl,lA,pA=y(()=>{ve();Be();dA=b(L()),uA=b(Cr()),Il=b(Ne()),Nl=b(Ce());_g();cA();lA=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Il.fromBase64,base64Encoder:e?.base64Encoder??Il.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??aA,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??kx,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new He},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new nr}],logger:e?.logger??new dA.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??uA.parseUrl,utf8Decoder:e?.utf8Decoder??Nl.fromUtf8,utf8Encoder:e?.utf8Encoder??Nl.toUtf8})});var Dl,Jr,fA,Ml,Vr,kl,mA,hA,gA,yA,_A,SA,EA=y(()=>{og();ve();Dl=b(Fa()),Jr=b(Dt());Be();fA=b(Ua()),Ml=b(ar()),Vr=b(kr()),kl=b(hn()),mA=b(La()),hA=b(fs());pA();gA=b(L()),yA=b(Ha()),_A=b(L()),SA=e=>{(0,_A.emitWarningIfUnsupportedVersion)(process.version);let t=(0,yA.resolveDefaultsModeConfig)(e),r=()=>t().then(gA.loadConfigsForDefaultMode),n=lA(e);Vo(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Vr.loadConfig)(Yo,o),bodyLengthChecker:e?.bodyLengthChecker??mA.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Dl.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:ll.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new He},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new nr}],maxAttempts:e?.maxAttempts??(0,Vr.loadConfig)(Ml.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Vr.loadConfig)(Jr.NODE_REGION_CONFIG_OPTIONS,{...Jr.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:kl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Vr.loadConfig)({...Ml.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||hA.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??fA.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??kl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Vr.loadConfig)(Jr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Vr.loadConfig)(Jr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Vr.loadConfig)(Dl.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var vA,bA,wA=y(()=>{vA=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},bA=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Fl,Ul,Ll,CA,OA=y(()=>{Fl=b(qa()),Ul=b(ie()),Ll=b(L());wA();CA=(e,t)=>{let r=Object.assign((0,Fl.getAwsRegionExtensionConfiguration)(e),(0,Ll.getDefaultExtensionConfiguration)(e),(0,Ul.getHttpHandlerExtensionConfiguration)(e),vA(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Fl.resolveAwsRegionExtensionConfiguration)(r),(0,Ll.resolveDefaultRuntimeConfig)(r),(0,Ul.resolveHttpHandlerRuntimeConfig)(r),bA(r))}});var Bl,PA,RA,jl,TA,xA,AA,Hl,vg,Ft,uc=y(()=>{Bl=b($i()),PA=b(zi()),RA=b(Gi()),jl=b(as()),TA=b(Dt());Be();xA=b(Pa()),AA=b(Fr()),Hl=b(ar()),vg=b(L());_g();Al();EA();OA();Ft=class extends vg.Client{constructor(...[r]){let n=SA(r||{});super(n);_(this,"config");this.initConfig=n;let o=Ux(n),s=(0,jl.resolveUserAgentConfig)(o),i=(0,Hl.resolveRetryConfig)(s),a=(0,TA.resolveRegionConfig)(i),c=(0,Bl.resolveHostHeaderConfig)(a),d=(0,AA.resolveEndpointConfig)(c),l=Fx(d),u=CA(l,r?.extensions||[]);this.config=u,this.middlewareStack.use((0,jl.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Hl.getRetryPlugin)(this.config)),this.middlewareStack.use((0,xA.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Bl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,PA.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,RA.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Vi(this.config,{httpAuthSchemeParametersProvider:Mx,identityProviderConfigProvider:async p=>new Rn({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(Ji(this.config))}destroy(){super.destroy()}}});var IA,qe,ql=y(()=>{IA=b(L()),qe=class e extends IA.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var bg,wg,Cg,lc,pc,fc,mc,hc,gc,Og,Pg,yc,_c=y(()=>{bg=b(L());ql();wg=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:bg.SENSITIVE_STRING}}),Cg=e=>({...e,...e.Credentials&&{Credentials:wg(e.Credentials)}}),lc=class e extends qe{constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r});_(this,"name","ExpiredTokenException");_(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},pc=class e extends qe{constructor(r){super({name:"MalformedPolicyDocumentException",$fault:"client",...r});_(this,"name","MalformedPolicyDocumentException");_(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},fc=class e extends qe{constructor(r){super({name:"PackedPolicyTooLargeException",$fault:"client",...r});_(this,"name","PackedPolicyTooLargeException");_(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},mc=class e extends qe{constructor(r){super({name:"RegionDisabledException",$fault:"client",...r});_(this,"name","RegionDisabledException");_(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},hc=class e extends qe{constructor(r){super({name:"IDPRejectedClaimException",$fault:"client",...r});_(this,"name","IDPRejectedClaimException");_(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},gc=class e extends qe{constructor(r){super({name:"InvalidIdentityTokenException",$fault:"client",...r});_(this,"name","InvalidIdentityTokenException");_(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Og=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:bg.SENSITIVE_STRING}}),Pg=e=>({...e,...e.Credentials&&{Credentials:wg(e.Credentials)}}),yc=class e extends qe{constructor(r){super({name:"IDPCommunicationErrorException",$fault:"client",...r});_(this,"name","IDPCommunicationErrorException");_(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}}});var NA,U,DA,MA,kA,FA,UA,e8,t8,r8,n8,o8,s8,i8,a8,c8,LA,d8,u8,l8,p8,f8,m8,BA,h8,g8,jA,y8,_8,S8,E8,v8,b8,w8,fr,C8,HA,qA,$A,zA,Rg,O8,Tg,Ls,P8,xg,Ag,Bs,Ig,js,Ng,Dg,Mg,Hs,qs,kg,Fg,Ug,$s,Lg,zs,Gs,Bg,jg,pr,Hg,qg,$g,zg,Gg,GA,Kg,Vg,Jg,he,KA,R8,Wg=y(()=>{ve();NA=b(ie()),U=b(L());_c();ql();DA=async(e,t)=>{let r=qA,n;return n=KA({...a8(e,t),[zA]:O8,[GA]:$A}),HA(t,r,"/",void 0,n)},MA=async(e,t)=>{let r=qA,n;return n=KA({...c8(e,t),[zA]:P8,[GA]:$A}),HA(t,r,"/",void 0,n)},kA=async(e,t)=>{if(e.statusCode>=300)return UA(e,t);let r=await wa(e.body,t),n={};return n=h8(r.AssumeRoleResult,t),{$metadata:fr(e),...n}},FA=async(e,t)=>{if(e.statusCode>=300)return UA(e,t);let r=await wa(e.body,t),n={};return n=g8(r.AssumeRoleWithWebIdentityResult,t),{$metadata:fr(e),...n}},UA=async(e,t)=>{let r={...e,body:await Xm(e.body,t)},n=R8(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await e8(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await o8(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await s8(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await i8(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await t8(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await r8(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await n8(r,t);default:let o=r.body;return C8({output:e,parsedBody:o.Error,errorCode:n})}},e8=async(e,t)=>{let r=e.body,n=y8(r.Error,t),o=new lc({$metadata:fr(e),...n});return(0,U.decorateServiceException)(o,r)},t8=async(e,t)=>{let r=e.body,n=_8(r.Error,t),o=new yc({$metadata:fr(e),...n});return(0,U.decorateServiceException)(o,r)},r8=async(e,t)=>{let r=e.body,n=S8(r.Error,t),o=new hc({$metadata:fr(e),...n});return(0,U.decorateServiceException)(o,r)},n8=async(e,t)=>{let r=e.body,n=E8(r.Error,t),o=new gc({$metadata:fr(e),...n});return(0,U.decorateServiceException)(o,r)},o8=async(e,t)=>{let r=e.body,n=v8(r.Error,t),o=new pc({$metadata:fr(e),...n});return(0,U.decorateServiceException)(o,r)},s8=async(e,t)=>{let r=e.body,n=b8(r.Error,t),o=new fc({$metadata:fr(e),...n});return(0,U.decorateServiceException)(o,r)},i8=async(e,t)=>{let r=e.body,n=w8(r.Error,t),o=new mc({$metadata:fr(e),...n});return(0,U.decorateServiceException)(o,r)},a8=(e,t)=>{let r={};if(e[zs]!=null&&(r[zs]=e[zs]),e[Gs]!=null&&(r[Gs]=e[Gs]),e[qs]!=null){let n=LA(e[qs],t);e[qs]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[Hs]!=null&&(r[Hs]=e[Hs]),e[js]!=null&&(r[js]=e[js]),e[$g]!=null){let n=m8(e[$g],t);e[$g]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[Gg]!=null){let n=f8(e[Gg],t);e[Gg]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[Dg]!=null&&(r[Dg]=e[Dg]),e[Hg]!=null&&(r[Hg]=e[Hg]),e[zg]!=null&&(r[zg]=e[zg]),e[pr]!=null&&(r[pr]=e[pr]),e[Fg]!=null){let n=l8(e[Fg],t);e[Fg]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},c8=(e,t)=>{let r={};if(e[zs]!=null&&(r[zs]=e[zs]),e[Gs]!=null&&(r[Gs]=e[Gs]),e[Vg]!=null&&(r[Vg]=e[Vg]),e[Ug]!=null&&(r[Ug]=e[Ug]),e[qs]!=null){let n=LA(e[qs],t);e[qs]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[Hs]!=null&&(r[Hs]=e[Hs]),e[js]!=null&&(r[js]=e[js]),r},LA=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=d8(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},d8=(e,t)=>{let r={};return e[Jg]!=null&&(r[Jg]=e[Jg]),r},u8=(e,t)=>{let r={};return e[kg]!=null&&(r[kg]=e[kg]),e[Ig]!=null&&(r[Ig]=e[Ig]),r},l8=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=u8(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},p8=(e,t)=>{let r={};return e[Mg]!=null&&(r[Mg]=e[Mg]),e[Kg]!=null&&(r[Kg]=e[Kg]),r},f8=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},m8=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=p8(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},BA=(e,t)=>{let r={};return e[Tg]!=null&&(r[Tg]=(0,U.expectString)(e[Tg])),e[xg]!=null&&(r[xg]=(0,U.expectString)(e[xg])),r},h8=(e,t)=>{let r={};return e[Bs]!=null&&(r[Bs]=jA(e[Bs],t)),e[Ls]!=null&&(r[Ls]=BA(e[Ls],t)),e[$s]!=null&&(r[$s]=(0,U.strictParseInt32)(e[$s])),e[pr]!=null&&(r[pr]=(0,U.expectString)(e[pr])),r},g8=(e,t)=>{let r={};return e[Bs]!=null&&(r[Bs]=jA(e[Bs],t)),e[jg]!=null&&(r[jg]=(0,U.expectString)(e[jg])),e[Ls]!=null&&(r[Ls]=BA(e[Ls],t)),e[$s]!=null&&(r[$s]=(0,U.strictParseInt32)(e[$s])),e[Lg]!=null&&(r[Lg]=(0,U.expectString)(e[Lg])),e[Ag]!=null&&(r[Ag]=(0,U.expectString)(e[Ag])),e[pr]!=null&&(r[pr]=(0,U.expectString)(e[pr])),r},jA=(e,t)=>{let r={};return e[Rg]!=null&&(r[Rg]=(0,U.expectString)(e[Rg])),e[Bg]!=null&&(r[Bg]=(0,U.expectString)(e[Bg])),e[qg]!=null&&(r[qg]=(0,U.expectString)(e[qg])),e[Ng]!=null&&(r[Ng]=(0,U.expectNonNull)((0,U.parseRfc3339DateTimeWithOffset)(e[Ng]))),r},y8=(e,t)=>{let r={};return e[he]!=null&&(r[he]=(0,U.expectString)(e[he])),r},_8=(e,t)=>{let r={};return e[he]!=null&&(r[he]=(0,U.expectString)(e[he])),r},S8=(e,t)=>{let r={};return e[he]!=null&&(r[he]=(0,U.expectString)(e[he])),r},E8=(e,t)=>{let r={};return e[he]!=null&&(r[he]=(0,U.expectString)(e[he])),r},v8=(e,t)=>{let r={};return e[he]!=null&&(r[he]=(0,U.expectString)(e[he])),r},b8=(e,t)=>{let r={};return e[he]!=null&&(r[he]=(0,U.expectString)(e[he])),r},w8=(e,t)=>{let r={};return e[he]!=null&&(r[he]=(0,U.expectString)(e[he])),r},fr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),C8=(0,U.withBaseException)(qe),HA=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new NA.HttpRequest(d)},qA={"content-type":"application/x-www-form-urlencoded"},$A="2011-06-15",zA="Action",Rg="AccessKeyId",O8="AssumeRole",Tg="AssumedRoleId",Ls="AssumedRoleUser",P8="AssumeRoleWithWebIdentity",xg="Arn",Ag="Audience",Bs="Credentials",Ig="ContextAssertion",js="DurationSeconds",Ng="Expiration",Dg="ExternalId",Mg="Key",Hs="Policy",qs="PolicyArns",kg="ProviderArn",Fg="ProvidedContexts",Ug="ProviderId",$s="PackedPolicySize",Lg="Provider",zs="RoleArn",Gs="RoleSessionName",Bg="SecretAccessKey",jg="SubjectFromWebIdentityToken",pr="SourceIdentity",Hg="SerialNumber",qg="SessionToken",$g="Tags",zg="TokenCode",Gg="TransitiveTagKeys",GA="Version",Kg="Value",Vg="WebIdentityToken",Jg="arn",he="message",KA=e=>Object.entries(e).map(([t,r])=>(0,U.extendedEncodeURIComponent)(t)+"="+(0,U.extendedEncodeURIComponent)(r)).join("&"),R8=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var VA,JA,WA,Zn,$l=y(()=>{VA=b(Fr()),JA=b(_r()),WA=b(L());Al();_c();Wg();Zn=class extends WA.Command.classBuilder().ep(xl).m(function(t,r,n,o){return[(0,JA.getSerdePlugin)(n,this.serialize,this.deserialize),(0,VA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Cg).ser(DA).de(kA).build(){}});var YA,XA,QA,eo,zl=y(()=>{YA=b(Fr()),XA=b(_r()),QA=b(L());Al();_c();Wg();eo=class extends QA.Command.classBuilder().ep(xl).m(function(t,r,n,o){return[(0,XA.getSerdePlugin)(n,this.serialize,this.deserialize),(0,YA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Og,Pg).ser(MA).de(FA).build(){}});var ZA,T8,Gl,eI=y(()=>{ZA=b(L());$l();zl();uc();T8={AssumeRoleCommand:Zn,AssumeRoleWithWebIdentityCommand:eo},Gl=class extends Ft{};(0,ZA.createAggregatedClient)(T8,Gl)});var tI=y(()=>{$l();zl()});var rI=y(()=>{_c()});var nI,oI,sI,iI,aI,cI,dI=y(()=>{ht();$l();zl();nI="us-east-1",oI=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},sI=async(e,t,r)=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${nI} (STS default)`),n??o??nI},iI=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:l=e?.parentClientConfig?.logger,region:u,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,g=await sI(u,e?.parentClientConfig?.region,h),S=!cI(p);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:S?p:void 0,logger:l})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Zn(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=oI(a),d={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return Pr(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},aI=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:d,requestHandler:l=e?.parentClientConfig?.requestHandler,credentialProviderLogger:u}=e,p=await sI(d,e?.parentClientConfig?.region,u),h=!cI(l);r=new t({profile:e?.parentClientConfig?.profile,region:p,requestHandler:h?l:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new eo(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=oI(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&Pr(a,"RESOLVED_ACCOUNT_ID","T"),Pr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},cI=e=>e?.metadata?.handlerProtocol==="h2"});var uI,lI,pI,x8,fI=y(()=>{dI();uc();uI=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,lI=(e={},t)=>iI(e,uI(Ft,t)),pI=(e={},t)=>aI(e,uI(Ft,t)),x8=e=>t=>e({roleAssumer:lI(t),roleAssumerWithWebIdentity:pI(t),...t})});var Yg={};pt(Yg,{AssumeRoleCommand:()=>Zn,AssumeRoleResponseFilterSensitiveLog:()=>Cg,AssumeRoleWithWebIdentityCommand:()=>eo,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Og,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Pg,CredentialsFilterSensitiveLog:()=>wg,ExpiredTokenException:()=>lc,IDPCommunicationErrorException:()=>yc,IDPRejectedClaimException:()=>hc,InvalidIdentityTokenException:()=>gc,MalformedPolicyDocumentException:()=>pc,PackedPolicyTooLargeException:()=>fc,RegionDisabledException:()=>mc,STS:()=>Gl,STSClient:()=>Ft,STSServiceException:()=>qe,__Client:()=>vg.Client,decorateDefaultCredentialProvider:()=>x8,getDefaultRoleAssumer:()=>lI,getDefaultRoleAssumerWithWebIdentity:()=>pI});var Xg=y(()=>{uc();eI();tI();rI();fI();ql()});var ey=E((nae,gI)=>{"use strict";var Kl=Object.defineProperty,A8=Object.getOwnPropertyDescriptor,I8=Object.getOwnPropertyNames,N8=Object.prototype.hasOwnProperty,Zg=(e,t)=>Kl(e,"name",{value:t,configurable:!0}),D8=(e,t)=>{for(var r in t)Kl(e,r,{get:t[r],enumerable:!0})},M8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of I8(t))!N8.call(e,o)&&o!==r&&Kl(e,o,{get:()=>t[o],enumerable:!(n=A8(t,o))||n.enumerable});return e},k8=e=>M8(Kl({},"__esModule",{value:!0}),e),hI={};D8(hI,{fromProcess:()=>H8});gI.exports=k8(hI);var mI=Mr(),Qg=Me(),F8=require("child_process"),U8=require("util"),L8=(ht(),q(Rr)),B8=Zg((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,L8.setCredentialFeature)(o,"CREDENTIALS_PROCESS","w"),o},"getValidatedProcessCredentials"),j8=Zg(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=(0,U8.promisify)(F8.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return B8(e,a,t)}catch(i){throw new Qg.CredentialsProviderError(i.message,{logger:r})}}else throw new Qg.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new Qg.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),H8=Zg((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,mI.parseKnownFiles)(e);return j8((0,mI.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var ty=E(Lt=>{"use strict";var q8=Lt&&Lt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$8=Lt&&Lt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),z8=Lt&&Lt.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&q8(r,t,n[o]);return $8(r,t),r}}();Object.defineProperty(Lt,"__esModule",{value:!0});Lt.fromWebToken=void 0;var G8=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:d}=e;if(!d){let{getDefaultRoleAssumerWithWebIdentity:l}=await Promise.resolve().then(()=>z8((Xg(),q(Yg))));d=l({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return d({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})};Lt.fromWebToken=G8});var _I=E(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.fromTokenFile=void 0;var K8=(ht(),q(Rr)),V8=Me(),J8=require("fs"),W8=ty(),yI="AWS_WEB_IDENTITY_TOKEN_FILE",Y8="AWS_ROLE_ARN",X8="AWS_ROLE_SESSION_NAME",Q8=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[yI],r=e?.roleArn??process.env[Y8],n=e?.roleSessionName??process.env[X8];if(!t||!r)throw new V8.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,W8.fromWebToken)({...e,webIdentityToken:(0,J8.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[yI]&&(0,K8.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};Vl.fromTokenFile=Q8});var oy=E((iae,Jl)=>{"use strict";var SI=Object.defineProperty,Z8=Object.getOwnPropertyDescriptor,eV=Object.getOwnPropertyNames,tV=Object.prototype.hasOwnProperty,ry=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eV(t))!tV.call(e,o)&&o!==r&&SI(e,o,{get:()=>t[o],enumerable:!(n=Z8(t,o))||n.enumerable});return e},EI=(e,t,r)=>(ry(e,t,"default"),r&&ry(r,t,"default")),rV=e=>ry(SI({},"__esModule",{value:!0}),e),ny={};Jl.exports=rV(ny);EI(ny,_I(),Jl.exports);EI(ny,ty(),Jl.exports)});var TI=E((aae,RI)=>{"use strict";var nV=Object.create,Ec=Object.defineProperty,oV=Object.getOwnPropertyDescriptor,sV=Object.getOwnPropertyNames,iV=Object.getPrototypeOf,aV=Object.prototype.hasOwnProperty,_e=(e,t)=>Ec(e,"name",{value:t,configurable:!0}),cV=(e,t)=>{for(var r in t)Ec(e,r,{get:t[r],enumerable:!0})},CI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sV(t))!aV.call(e,o)&&o!==r&&Ec(e,o,{get:()=>t[o],enumerable:!(n=oV(t,o))||n.enumerable});return e},Wr=(e,t,r)=>(r=e!=null?nV(iV(e)):{},CI(t||!e||!e.__esModule?Ec(r,"default",{value:e,enumerable:!0}):r,e)),dV=e=>CI(Ec({},"__esModule",{value:!0}),e),OI={};cV(OI,{fromIni:()=>vV});RI.exports=dV(OI);var iy=Mr(),Yr=(ht(),q(Rr)),Sc=Me(),uV=_e((e,t,r)=>{let n={EcsContainer:_e(async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>Wr(zh())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>Wr(ka()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,Sc.chain)(s(o??{}),i(o))().then(sy)},"EcsContainer"),Ec2InstanceMetadata:_e(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>Wr(ka()));return async()=>s(o)().then(sy)},"Ec2InstanceMetadata"),Environment:_e(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>Wr(Uh()));return async()=>s(o)().then(sy)},"Environment")};if(e in n)return n[e];throw new Sc.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),sy=_e(e=>(0,Yr.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),lV=_e((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(pV(e,{profile:t,logger:r})||fV(e,{profile:t,logger:r})),"isAssumeRoleProfile"),pV=_e((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),fV=_e((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),mV=_e(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:s,region:i}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Wr((Xg(),q(Yg))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(s&&s in n)throw new Sc.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,iy.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let a=s?PI(s,t,r,{...n,[s]:!0},vI(t[s]??{})):(await uV(o.credential_source,e,r.logger)(r))();if(vI(o))return a.then(c=>(0,Yr.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:d}=o;if(d){if(!r.mfaCodeProvider)throw new Sc.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=d,c.TokenCode=await r.mfaCodeProvider(d)}let l=await a;return r.roleAssumer(l,c).then(u=>(0,Yr.setCredentialFeature)(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),vI=_e(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),hV=_e(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),gV=_e(async(e,t)=>Promise.resolve().then(()=>Wr(ey())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Yr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),yV=_e(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Wr(yg()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?(0,Yr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO","r"):(0,Yr.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),_V=_e(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),bI=_e(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),wI=_e(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Yr.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),SV=_e(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),EV=_e(async(e,t)=>Promise.resolve().then(()=>Wr(oy())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Yr.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),PI=_e(async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&bI(s))return wI(s,r);if(o||lV(s,{profile:e,logger:r.logger}))return mV(e,t,r,n);if(bI(s))return wI(s,r);if(SV(s))return EV(s,r);if(hV(s))return gV(r,e);if(_V(s))return await yV(e,s,r);throw new Sc.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),vV=_e((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,iy.parseKnownFiles)(r);return PI((0,iy.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var FI=E((cae,kI)=>{"use strict";var bV=Object.create,vc=Object.defineProperty,wV=Object.getOwnPropertyDescriptor,CV=Object.getOwnPropertyNames,OV=Object.getPrototypeOf,PV=Object.prototype.hasOwnProperty,Wl=(e,t)=>vc(e,"name",{value:t,configurable:!0}),RV=(e,t)=>{for(var r in t)vc(e,r,{get:t[r],enumerable:!0})},II=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of CV(t))!PV.call(e,o)&&o!==r&&vc(e,o,{get:()=>t[o],enumerable:!(n=wV(t,o))||n.enumerable});return e},Ks=(e,t,r)=>(r=e!=null?bV(OV(e)):{},II(t||!e||!e.__esModule?vc(r,"default",{value:e,enumerable:!0}):r,e)),TV=e=>II(vc({},"__esModule",{value:!0}),e),NI={};RV(NI,{credentialsTreatedAsExpired:()=>MI,credentialsWillNeedRefresh:()=>DI,defaultProvider:()=>IV});kI.exports=TV(NI);var ay=Uh(),xV=Mr(),to=Me(),xI="AWS_EC2_METADATA_DISABLED",AV=Wl(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>Ks(ka()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>Ks(zh()));return(0,to.chain)(s(e),n(e))}return process.env[xI]&&process.env[xI]!=="false"?async()=>{throw new to.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),AI=!1,IV=Wl((e={})=>(0,to.memoize)((0,to.chain)(async()=>{if(e.profile??process.env[xV.ENV_PROFILE])throw process.env[ay.ENV_KEY]&&process.env[ay.ENV_SECRET]&&(AI||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),AI=!0)),new to.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,ay.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoSession:s}=e;if(!t&&!r&&!n&&!o&&!s)throw new to.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>Ks(yg()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>Ks(TI()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>Ks(ey()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>Ks(oy()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await AV(e))()),async()=>{throw new to.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),MI,DI),"defaultProvider"),DI=Wl(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),MI=Wl(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var BI=E((dae,LI)=>{var Yl=Object.defineProperty,NV=Object.getOwnPropertyDescriptor,DV=Object.getOwnPropertyNames,MV=Object.prototype.hasOwnProperty,kV=(e,t)=>Yl(e,"name",{value:t,configurable:!0}),FV=(e,t)=>{for(var r in t)Yl(e,r,{get:t[r],enumerable:!0})},UV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DV(t))!MV.call(e,o)&&o!==r&&Yl(e,o,{get:()=>t[o],enumerable:!(n=NV(t,o))||n.enumerable});return e},LV=e=>UV(Yl({},"__esModule",{value:!0}),e),UI={};FV(UI,{isArrayBuffer:()=>BV});LI.exports=LV(UI);var BV=kV(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var $I=E((uae,qI)=>{var Xl=Object.defineProperty,jV=Object.getOwnPropertyDescriptor,HV=Object.getOwnPropertyNames,qV=Object.prototype.hasOwnProperty,jI=(e,t)=>Xl(e,"name",{value:t,configurable:!0}),$V=(e,t)=>{for(var r in t)Xl(e,r,{get:t[r],enumerable:!0})},zV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of HV(t))!qV.call(e,o)&&o!==r&&Xl(e,o,{get:()=>t[o],enumerable:!(n=jV(t,o))||n.enumerable});return e},GV=e=>zV(Xl({},"__esModule",{value:!0}),e),HI={};$V(HI,{fromArrayBuffer:()=>VV,fromString:()=>JV});qI.exports=GV(HI);var KV=BI(),cy=require("buffer"),VV=jI((e,t=0,r=e.byteLength-t)=>{if(!(0,KV.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return cy.Buffer.from(e,t,r)},"fromArrayBuffer"),JV=jI((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?cy.Buffer.from(e,t):cy.Buffer.from(e)},"fromString")});var JI=E((lae,VI)=>{var Ql=Object.defineProperty,WV=Object.getOwnPropertyDescriptor,YV=Object.getOwnPropertyNames,XV=Object.prototype.hasOwnProperty,dy=(e,t)=>Ql(e,"name",{value:t,configurable:!0}),QV=(e,t)=>{for(var r in t)Ql(e,r,{get:t[r],enumerable:!0})},ZV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of YV(t))!XV.call(e,o)&&o!==r&&Ql(e,o,{get:()=>t[o],enumerable:!(n=WV(t,o))||n.enumerable});return e},eJ=e=>ZV(Ql({},"__esModule",{value:!0}),e),zI={};QV(zI,{fromUtf8:()=>KI,toUint8Array:()=>tJ,toUtf8:()=>rJ});VI.exports=eJ(zI);var GI=$I(),KI=dy(e=>{let t=(0,GI.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),tJ=dy(e=>typeof e=="string"?KI(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),rJ=dy(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,GI.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var WI=E(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.convertToBuffer=void 0;var nJ=JI(),oJ=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:nJ.fromUtf8;function sJ(e){return e instanceof Uint8Array?e:typeof e=="string"?oJ(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Zl.convertToBuffer=sJ});var YI=E(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.isEmptyData=void 0;function iJ(e){return typeof e=="string"?e.length===0:e.byteLength===0}ep.isEmptyData=iJ});var XI=E(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.numToUint8=void 0;function aJ(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}tp.numToUint8=aJ});var QI=E(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.uint32ArrayFrom=void 0;function cJ(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}rp.uint32ArrayFrom=cJ});var uy=E(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.uint32ArrayFrom=Bt.numToUint8=Bt.isEmptyData=Bt.convertToBuffer=void 0;var dJ=WI();Object.defineProperty(Bt,"convertToBuffer",{enumerable:!0,get:function(){return dJ.convertToBuffer}});var uJ=YI();Object.defineProperty(Bt,"isEmptyData",{enumerable:!0,get:function(){return uJ.isEmptyData}});var lJ=XI();Object.defineProperty(Bt,"numToUint8",{enumerable:!0,get:function(){return lJ.numToUint8}});var pJ=QI();Object.defineProperty(Bt,"uint32ArrayFrom",{enumerable:!0,get:function(){return pJ.uint32ArrayFrom}})});var tN=E(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.AwsCrc32=void 0;var ZI=(Ss(),q(_s)),ly=uy(),eN=op(),fJ=function(){function e(){this.crc32=new eN.Crc32}return e.prototype.update=function(t){(0,ly.isEmptyData)(t)||this.crc32.update((0,ly.convertToBuffer)(t))},e.prototype.digest=function(){return ZI.__awaiter(this,void 0,void 0,function(){return ZI.__generator(this,function(t){return[2,(0,ly.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new eN.Crc32},e}();np.AwsCrc32=fJ});var op=E(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.AwsCrc32=Xr.Crc32=Xr.crc32=void 0;var mJ=(Ss(),q(_s)),hJ=uy();function gJ(e){return new rN().update(e).digest()}Xr.crc32=gJ;var rN=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=mJ.__values(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^_J[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();Xr.Crc32=rN;var yJ=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],_J=(0,hJ.uint32ArrayFrom)(yJ),SJ=tN();Object.defineProperty(Xr,"AwsCrc32",{enumerable:!0,get:function(){return SJ.AwsCrc32}})});var dN=E((Sae,cN)=>{var ip=Object.defineProperty,EJ=Object.getOwnPropertyDescriptor,vJ=Object.getOwnPropertyNames,bJ=Object.prototype.hasOwnProperty,mr=(e,t)=>ip(e,"name",{value:t,configurable:!0}),wJ=(e,t)=>{for(var r in t)ip(e,r,{get:t[r],enumerable:!0})},CJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vJ(t))!bJ.call(e,o)&&o!==r&&ip(e,o,{get:()=>t[o],enumerable:!(n=EJ(t,o))||n.enumerable});return e},OJ=e=>CJ(ip({},"__esModule",{value:!0}),e),oN={};wJ(oN,{EventStreamCodec:()=>LJ,HeaderMarshaller:()=>sN,Int64:()=>sp,MessageDecoderStream:()=>BJ,MessageEncoderStream:()=>jJ,SmithyMessageDecoderStream:()=>HJ,SmithyMessageEncoderStream:()=>qJ});cN.exports=OJ(oN);var PJ=op(),ro=md(),oo,sp=(oo=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&py(r),new oo(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&py(t),parseInt((0,ro.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}},mr(oo,"Int64"),oo);function py(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}mr(py,"negate");var Vs,sN=(Vs=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let s of Object.keys(t)){let i=this.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(sp.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!kJ.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let u=new Uint8Array(17);return u[0]=9,u.set((0,ro.fromHex)(t.value.replace(/\-/g,"")),1),u}}parse(t){let r={},n=0;for(;n<t.byteLength;){let o=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,o));switch(n+=o,t.getUint8(n++)){case 0:r[s]={type:nN,value:!0};break;case 1:r[s]={type:nN,value:!1};break;case 2:r[s]={type:RJ,value:t.getInt8(n++)};break;case 3:r[s]={type:TJ,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:xJ,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:AJ,value:new sp(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let i=t.getUint16(n,!1);n+=2,r[s]={type:IJ,value:new Uint8Array(t.buffer,t.byteOffset+n,i)},n+=i;break;case 7:let a=t.getUint16(n,!1);n+=2,r[s]={type:NJ,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:DJ,value:new Date(new sp(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:MJ,value:`${(0,ro.toHex)(c.subarray(0,4))}-${(0,ro.toHex)(c.subarray(4,6))}-${(0,ro.toHex)(c.subarray(6,8))}-${(0,ro.toHex)(c.subarray(8,10))}-${(0,ro.toHex)(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},mr(Vs,"HeaderMarshaller"),Vs),nN="boolean",RJ="byte",TJ="short",xJ="integer",AJ="long",IJ="binary",NJ="string",DJ="timestamp",MJ="uuid",kJ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,FJ=op(),iN=4,Qr=iN*2,no=4,UJ=Qr+no*2;function aN({byteLength:e,byteOffset:t,buffer:r}){if(e<UJ)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),o=n.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");let s=n.getUint32(iN,!1),i=n.getUint32(Qr,!1),a=n.getUint32(e-no,!1),c=new FJ.Crc32().update(new Uint8Array(r,t,Qr));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+Qr,e-(Qr+no))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+Qr+no,s),body:new Uint8Array(r,t+Qr+no+s,o-s-(Qr+no+no))}}mr(aN,"splitMessage");var Js,LJ=(Js=class{constructor(t,r){this.headerMarshaller=new sN(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){let t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){let t=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),o=n.byteLength+r.byteLength+16,s=new Uint8Array(o),i=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new PJ.Crc32;return i.setUint32(0,o,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),i.setUint32(o-4,a.update(s.subarray(8,o-4)).digest(),!1),s}decode(t){let{headers:r,body:n}=aN(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}},mr(Js,"EventStreamCodec"),Js),Ws,BJ=(Ws=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.decoder.decode(t)}},mr(Ws,"MessageDecoderStream"),Ws),Ys,jJ=(Ys=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}},mr(Ys,"MessageEncoderStream"),Ys),Xs,HJ=(Xs=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream){let r=await this.options.deserializer(t);r!==void 0&&(yield r)}}},mr(Xs,"SmithyMessageDecoderStream"),Xs),Qs,qJ=(Qs=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.serializer(t)}},mr(Qs,"SmithyMessageEncoderStream"),Qs)});var hN=E((Eae,mN)=>{var ap=Object.defineProperty,$J=Object.getOwnPropertyDescriptor,zJ=Object.getOwnPropertyNames,GJ=Object.prototype.hasOwnProperty,ei=(e,t)=>ap(e,"name",{value:t,configurable:!0}),KJ=(e,t)=>{for(var r in t)ap(e,r,{get:t[r],enumerable:!0})},VJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zJ(t))!GJ.call(e,o)&&o!==r&&ap(e,o,{get:()=>t[o],enumerable:!(n=$J(t,o))||n.enumerable});return e},JJ=e=>VJ(ap({},"__esModule",{value:!0}),e),uN={};KJ(uN,{EventStreamMarshaller:()=>fN,eventStreamSerdeProvider:()=>WJ});mN.exports=JJ(uN);var bc=dN();function lN(e){let t=0,r=0,n=null,o=null,s=ei(a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},"allocateMessage"),i=ei(async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await a.next();if(d){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let l=c.length,u=0;for(;u<l;){if(!n){let h=l-u;o||(o=new Uint8Array(4));let g=Math.min(4-r,h);if(o.set(c.slice(u,u+g),r),r+=g,u+=g,r<4)break;s(new DataView(o.buffer).getUint32(0,!1)),o=null}let p=Math.min(t-r,l-u);n.set(c.slice(u,u+p),r),r+=p,u+=p,t&&t===r&&(yield n,n=null,t=0,r=0)}}},"iterator");return{[Symbol.asyncIterator]:i}}ei(lN,"getChunkedStream");function pN(e,t){return async function(r){let{value:n}=r.headers[":message-type"];if(n==="error"){let o=new Error(r.headers[":error-message"].value||"UnknownError");throw o.name=r.headers[":error-code"].value,o}else if(n==="exception"){let o=r.headers[":exception-type"].value,s={[o]:r},i=await e(s);if(i.$unknown){let a=new Error(t(r.body));throw a.name=o,a}throw i[o]}else if(n==="event"){let o={[r.headers[":event-type"].value]:r},s=await e(o);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}ei(pN,"getMessageUnmarshaller");var Zs,fN=(Zs=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new bc.EventStreamCodec(t,r),this.utfEncoder=t}deserialize(t,r){let n=lN(t);return new bc.SmithyMessageDecoderStream({messageStream:new bc.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:pN(r,this.utfEncoder)})}serialize(t,r){return new bc.MessageEncoderStream({messageStream:new bc.SmithyMessageEncoderStream({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},ei(Zs,"EventStreamMarshaller"),Zs),WJ=ei(e=>new fN(e),"eventStreamSerdeProvider")});var EN=E((vae,SN)=>{var cp=Object.defineProperty,YJ=Object.getOwnPropertyDescriptor,XJ=Object.getOwnPropertyNames,QJ=Object.prototype.hasOwnProperty,fy=(e,t)=>cp(e,"name",{value:t,configurable:!0}),ZJ=(e,t)=>{for(var r in t)cp(e,r,{get:t[r],enumerable:!0})},eW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of XJ(t))!QJ.call(e,o)&&o!==r&&cp(e,o,{get:()=>t[o],enumerable:!(n=YJ(t,o))||n.enumerable});return e},tW=e=>eW(cp({},"__esModule",{value:!0}),e),gN={};ZJ(gN,{EventStreamMarshaller:()=>_N,eventStreamSerdeProvider:()=>oW});SN.exports=tW(gN);var rW=hN(),nW=require("stream");async function*yN(e){let t=!1,r=!1,n=new Array;for(e.on("error",o=>{if(t||(t=!0),o)throw o}),e.on("data",o=>{n.push(o)}),e.on("end",()=>{t=!0});!r;){let o=await new Promise(s=>setTimeout(()=>s(n.shift()),0));o&&(yield o),r=t&&n.length===0}}fy(yN,"readabletoIterable");var ti,_N=(ti=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new rW.EventStreamMarshaller({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:yN(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return nW.Readable.from(this.universalMarshaller.serialize(t,r))}},fy(ti,"EventStreamMarshaller"),ti),oW=fy(e=>new _N(e),"eventStreamSerdeProvider")});var NN=E(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.ruleSet=void 0;var TN="required",x="type",Z="rules",Q="conditions",D="fn",M="argv",se="ref",wc="assign",jt="url",Ht="properties",qt="headers",sW=!0,ao="isSet",so="stringEquals",my="aws.parseArn",io="arn",Fe="booleanEquals",$e="endpoint",re="tree",oe="error",ri={[TN]:!1,[x]:"String"},vN={[TN]:!0,default:!1,[x]:"Boolean"},hy={[D]:"not",[M]:[{[D]:ao,[M]:[{[se]:"Endpoint"}]}]},xN={[se]:"Endpoint"},dp={[D]:ao,[M]:[{[se]:"Region"}]},up={[D]:"aws.partition",[M]:[{[se]:"Region"}],[wc]:"PartitionResult"},gy={[D]:"not",[M]:[{[D]:so,[M]:[{[D]:"getAttr",[M]:[{[se]:"PartitionResult"},"name"]},"aws-iso"]}]},Ey={[D]:"getAttr",[M]:[{[se]:"PartitionResult"},"name"]},yy={[D]:"not",[M]:[{[D]:so,[M]:[Ey,"aws-iso-b"]}]},lp={[D]:"getAttr",[M]:[{[se]:"PartitionResult"},"supportsFIPS"]},ut={},AN={[oe]:"FIPS is enabled but this partition does not support FIPS",[x]:oe},IN={[oe]:"DualStack is enabled but this partition does not support DualStack",[x]:oe},_y={[oe]:"Invalid ARN: Failed to parse ARN.",[x]:oe},bN={[D]:Fe,[M]:[!0,{[D]:"getAttr",[M]:[{[se]:"PartitionResult"},"supportsDualStack"]}]},wN=[{[se]:"StreamARN"}],iW=[{[D]:ao,[M]:[xN]}],Sy=[{[Q]:[{[D]:"isValidHostLabel",[M]:[{[D]:"getAttr",[M]:[{[se]:io},"accountId"]},!1]}],[Z]:[{[Q]:[{[D]:"isValidHostLabel",[M]:[{[D]:"getAttr",[M]:[{[se]:io},"region"]},!1]}],[Z]:[{[Q]:[{[D]:so,[M]:[{[D]:"getAttr",[M]:[{[se]:io},"service"]},"kinesis"]}],[Z]:[{[Q]:[{[D]:"getAttr",[M]:[{[se]:io},"resourceId[0]"],[wc]:"arnType"},{[D]:"not",[M]:[{[D]:so,[M]:[{[se]:"arnType"},""]}]}],[Z]:[{[Q]:[{[D]:so,[M]:[{[se]:"arnType"},"stream"]}],[Z]:[{[Q]:[{[D]:so,[M]:[Ey,"{arn#partition}"]}],[Z]:[{[Q]:[{[D]:ao,[M]:[{[se]:"OperationType"}]}],[Z]:[{[Q]:[{[D]:Fe,[M]:[{[se]:"UseFIPS"},!0]},{[D]:Fe,[M]:[{[se]:"UseDualStack"},!0]}],[Z]:[{[Q]:[{[D]:Fe,[M]:[lp,!0]}],[Z]:[{[Q]:[{[D]:Fe,[M]:[{[D]:"getAttr",[M]:[{[se]:"PartitionResult"},"supportsDualStack"]},!0]}],[Z]:[{[$e]:{[jt]:"https://{arn#accountId}.{OperationType}-kinesis-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Ht]:{},[qt]:{}},[x]:$e}],[x]:re},{[oe]:"DualStack is enabled, but this partition does not support DualStack.",[x]:oe}],[x]:re},{[oe]:"FIPS is enabled, but this partition does not support FIPS.",[x]:oe}],[x]:re},{[Q]:[{[D]:Fe,[M]:[{[se]:"UseFIPS"},!0]}],[Z]:[{[Q]:[{[D]:Fe,[M]:[lp,!0]}],[Z]:[{[$e]:{[jt]:"https://{arn#accountId}.{OperationType}-kinesis-fips.{Region}.{PartitionResult#dnsSuffix}",[Ht]:{},[qt]:{}},[x]:$e}],[x]:re},AN],[x]:re},{[Q]:[{[D]:Fe,[M]:[{[se]:"UseDualStack"},!0]}],[Z]:[{[Q]:[{[D]:Fe,[M]:[{[D]:"getAttr",[M]:[{[se]:"PartitionResult"},"supportsDualStack"]},!0]}],[Z]:[{[$e]:{[jt]:"https://{arn#accountId}.{OperationType}-kinesis.{Region}.{PartitionResult#dualStackDnsSuffix}",[Ht]:{},[qt]:{}},[x]:$e}],[x]:re},IN],[x]:re},{[$e]:{[jt]:"https://{arn#accountId}.{OperationType}-kinesis.{Region}.{PartitionResult#dnsSuffix}",[Ht]:{},[qt]:{}},[x]:$e}],[x]:re},{[oe]:"Operation Type is not set. Please contact service team for resolution.",[x]:oe}],[x]:re},{[oe]:"Partition: {arn#partition} from ARN doesn't match with partition name: {PartitionResult#name}.",[x]:oe}],[x]:re},{[oe]:"Invalid ARN: Kinesis ARNs don't support `{arnType}` arn types.",[x]:oe}],[x]:re},{[oe]:"Invalid ARN: No ARN type specified",[x]:oe}],[x]:re},{[oe]:"Invalid ARN: The ARN was not for the Kinesis service, found: {arn#service}.",[x]:oe}],[x]:re},{[oe]:"Invalid ARN: Invalid region.",[x]:oe}],[x]:re},{[oe]:"Invalid ARN: Invalid account id.",[x]:oe}],aW=[{[D]:Fe,[M]:[{[se]:"UseFIPS"},!0]},{[D]:Fe,[M]:[{[se]:"UseDualStack"},!0]}],cW=[{[D]:Fe,[M]:[lp,!0]}],CN=[{[D]:Fe,[M]:[{[se]:"UseFIPS"},!0]}],ON=[{[D]:Fe,[M]:[{[se]:"UseDualStack"},!0]}],PN=[{[se]:"ConsumerARN"}],RN=[{[se]:"ResourceARN"}],dW={version:"1.0",parameters:{Region:ri,UseDualStack:vN,UseFIPS:vN,Endpoint:ri,StreamARN:ri,OperationType:ri,ConsumerARN:ri,ResourceARN:ri},[Z]:[{[Q]:[{[D]:ao,[M]:wN},hy,dp,up,gy,yy],[Z]:[{[Q]:[{[D]:my,[M]:wN,[wc]:io}],[Z]:Sy,[x]:re},_y],[x]:re},{[Q]:[{[D]:ao,[M]:PN},hy,dp,up,gy,yy],[Z]:[{[Q]:[{[D]:my,[M]:PN,[wc]:io}],[Z]:Sy,[x]:re},_y],[x]:re},{[Q]:[{[D]:ao,[M]:RN},hy,dp,up,gy,yy],[Z]:[{[Q]:[{[D]:my,[M]:RN,[wc]:io}],[Z]:Sy,[x]:re},_y],[x]:re},{[Q]:iW,[Z]:[{[Q]:CN,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[x]:oe},{[Q]:ON,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[x]:oe},{endpoint:{[jt]:xN,[Ht]:ut,[qt]:ut},[x]:$e}],[x]:re},{[Q]:[dp],[Z]:[{[Q]:[up],[Z]:[{[Q]:aW,[Z]:[{[Q]:[{[D]:Fe,[M]:[sW,lp]},bN],[Z]:[{endpoint:{[jt]:"https://kinesis-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Ht]:ut,[qt]:ut},[x]:$e}],[x]:re},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[x]:oe}],[x]:re},{[Q]:CN,[Z]:[{[Q]:cW,[Z]:[{[Q]:[{[D]:so,[M]:[Ey,"aws-us-gov"]}],endpoint:{[jt]:"https://kinesis.{Region}.amazonaws.com",[Ht]:ut,[qt]:ut},[x]:$e},{endpoint:{[jt]:"https://kinesis-fips.{Region}.{PartitionResult#dnsSuffix}",[Ht]:ut,[qt]:ut},[x]:$e}],[x]:re},AN],[x]:re},{[Q]:ON,[Z]:[{[Q]:[bN],[Z]:[{endpoint:{[jt]:"https://kinesis.{Region}.{PartitionResult#dualStackDnsSuffix}",[Ht]:ut,[qt]:ut},[x]:$e}],[x]:re},IN],[x]:re},{endpoint:{[jt]:"https://kinesis.{Region}.{PartitionResult#dnsSuffix}",[Ht]:ut,[qt]:ut},[x]:$e}],[x]:re}],[x]:re},{error:"Invalid Configuration: Missing Region",[x]:oe}]};pp.ruleSet=dW});var DN=E(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.defaultEndpointResolver=void 0;var uW=Ko(),vy=Go(),lW=NN(),pW=new vy.EndpointCache({size:50,params:["ConsumerARN","Endpoint","OperationType","Region","ResourceARN","StreamARN","UseDualStack","UseFIPS"]}),fW=(e,t={})=>pW.get(e,()=>(0,vy.resolveEndpoint)(lW.ruleSet,{endpointParams:e,logger:t.logger}));fp.defaultEndpointResolver=fW;vy.customEndpointFunctions.aws=uW.awsEndpointFunctions});var FN=E(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.getRuntimeConfig=void 0;var mW=(ve(),q(It)),hW=L(),gW=Cr(),MN=Ne(),kN=Ce(),yW=Dh(),_W=DN(),SW=e=>({apiVersion:"2013-12-02",base64Decoder:e?.base64Decoder??MN.fromBase64,base64Encoder:e?.base64Encoder??MN.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??_W.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??yW.defaultKinesisHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new mW.AwsSdkSigV4Signer}],logger:e?.logger??new hW.NoOpLogger,serviceId:e?.serviceId??"Kinesis",urlParser:e?.urlParser??gW.parseUrl,utf8Decoder:e?.utf8Decoder??kN.fromUtf8,utf8Encoder:e?.utf8Encoder??kN.toUtf8});mp.getRuntimeConfig=SW});var HN=E(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.getRuntimeConfig=void 0;var EW=(Ss(),q(_s)),vW=EW.__importDefault(yP()),UN=(ve(),q(It)),bW=FI(),LN=Fa(),hp=Dt(),wW=EN(),CW=Ua(),BN=ar(),co=kr(),jN=hn(),OW=La(),PW=fs(),RW=FN(),TW=L(),xW=Ha(),AW=L(),IW=e=>{(0,AW.emitWarningIfUnsupportedVersion)(process.version);let t=(0,xW.resolveDefaultsModeConfig)(e),r=()=>t().then(TW.loadConfigsForDefaultMode),n=(0,RW.getRuntimeConfig)(e);(0,UN.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,co.loadConfig)(UN.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??OW.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??bW.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,LN.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:vW.default.version}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??wW.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,co.loadConfig)(BN.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,co.loadConfig)(hp.NODE_REGION_CONFIG_OPTIONS,{...hp.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:jN.NodeHttp2Handler.create(e?.requestHandler??(async()=>({...await r(),disableConcurrentStreams:!0}))),retryMode:e?.retryMode??(0,co.loadConfig)({...BN.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||PW.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??CW.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??jN.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,co.loadConfig)(hp.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,co.loadConfig)(hp.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,co.loadConfig)(LN.NODE_APP_ID_CONFIG_OPTIONS,o)}};gp.getRuntimeConfig=IW});var JN=E((Pae,VN)=>{var yp=Object.defineProperty,NW=Object.getOwnPropertyDescriptor,DW=Object.getOwnPropertyNames,MW=Object.prototype.hasOwnProperty,$t=(e,t)=>yp(e,"name",{value:t,configurable:!0}),kW=(e,t)=>{for(var r in t)yp(e,r,{get:t[r],enumerable:!0})},FW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DW(t))!MW.call(e,o)&&o!==r&&yp(e,o,{get:()=>t[o],enumerable:!(n=NW(t,o))||n.enumerable});return e},UW=e=>FW(yp({},"__esModule",{value:!0}),e),zN={};kW(zN,{WaiterState:()=>KN,checkExceptions:()=>BW,createWaiter:()=>zW,waiterServiceDefaults:()=>GN});VN.exports=UW(zN);var LW=$t(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),GN={minDelay:2,maxDelay:120},KN=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(KN||{}),BW=$t(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify(e)}`);return e},"checkExceptions"),jW=$t((e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return HW(e,o)},"exponentialBackoffWithJitter"),HW=$t((e,t)=>e+Math.random()*(t-e),"randomInRange"),qW=$t(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,a)=>{let c={},{state:d,reason:l}=await a(o,i);if(l){let g=qN(l);c[g]|=0,c[g]+=1}if(d!=="RETRY")return{state:d,reason:l,observedResponses:c};let u=1,p=Date.now()+r*1e3,h=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let w="AbortController signal aborted.";return c[w]|=0,c[w]+=1,{state:"ABORTED",observedResponses:c}}let g=jW(e,t,h,u);if(Date.now()+g*1e3>p)return{state:"TIMEOUT",observedResponses:c};await LW(g);let{state:S,reason:v}=await a(o,i);if(v){let w=qN(v);c[w]|=0,c[w]+=1}if(S!=="RETRY")return{state:S,reason:v,observedResponses:c};u+=1}},"runPolling"),qN=$t(e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),"createMessageFromResponse"),$W=$t(e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),$N=$t(e=>{let t,r=new Promise(n=>{t=$t(()=>n({state:"ABORTED"}),"onAbort"),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},"abortTimeout"),zW=$t(async(e,t,r)=>{let n={...GN,...e};$W(n);let o=[qW(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:a}=$N(e.abortSignal);s.push(a),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=$N(e.abortController.signal);s.push(a),o.push(i)}return Promise.race(o).then(i=>{for(let a of s)a();return i})},"createWaiter")});var lM=E((Rae,uM)=>{"use strict";var _p=Object.defineProperty,GW=Object.getOwnPropertyDescriptor,KW=Object.getOwnPropertyNames,VW=Object.prototype.hasOwnProperty,f=(e,t)=>_p(e,"name",{value:t,configurable:!0}),JW=(e,t)=>{for(var r in t)_p(e,r,{get:t[r],enumerable:!0})},WW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KW(t))!VW.call(e,o)&&o!==r&&_p(e,o,{get:()=>t[o],enumerable:!(n=GW(t,o))||n.enumerable});return e},YW=e=>WW(_p({},"__esModule",{value:!0}),e),eD={};JW(eD,{AccessDeniedException:()=>tD,AddTagsToStreamCommand:()=>xD,ConsumerStatus:()=>a5,CreateStreamCommand:()=>AD,DecreaseStreamRetentionPeriodCommand:()=>ID,DeleteResourcePolicyCommand:()=>ND,DeleteStreamCommand:()=>DD,DeregisterStreamConsumerCommand:()=>MD,DescribeLimitsCommand:()=>kD,DescribeStreamCommand:()=>Ep,DescribeStreamConsumerCommand:()=>FD,DescribeStreamSummaryCommand:()=>UD,DisableEnhancedMonitoringCommand:()=>LD,EnableEnhancedMonitoringCommand:()=>BD,EncryptionType:()=>d5,ExpiredIteratorException:()=>iD,ExpiredNextTokenException:()=>aD,GetRecordsCommand:()=>jD,GetResourcePolicyCommand:()=>HD,GetShardIteratorCommand:()=>qD,IncreaseStreamRetentionPeriodCommand:()=>$D,InternalFailureException:()=>cD,InvalidArgumentException:()=>rD,KMSAccessDeniedException:()=>dD,KMSDisabledException:()=>uD,KMSInvalidStateException:()=>lD,KMSNotFoundException:()=>pD,KMSOptInRequired:()=>fD,KMSThrottlingException:()=>mD,Kinesis:()=>aM,KinesisClient:()=>Sp,KinesisServiceException:()=>we,LimitExceededException:()=>nD,ListShardsCommand:()=>zD,ListStreamConsumersCommand:()=>Cy,ListStreamsCommand:()=>Oy,ListTagsForResourceCommand:()=>GD,ListTagsForStreamCommand:()=>KD,MergeShardsCommand:()=>VD,MetricsName:()=>u5,ProvisionedThroughputExceededException:()=>hD,PutRecordCommand:()=>JD,PutRecordsCommand:()=>WD,PutResourcePolicyCommand:()=>YD,RegisterStreamConsumerCommand:()=>XD,RemoveTagsFromStreamCommand:()=>QD,ResourceInUseException:()=>oD,ResourceNotFoundException:()=>sD,ScalingType:()=>m5,ShardFilterType:()=>f5,ShardIteratorType:()=>p5,SplitShardCommand:()=>ZD,StartStreamEncryptionCommand:()=>eM,StopStreamEncryptionCommand:()=>tM,StreamMode:()=>c5,StreamStatus:()=>l5,SubscribeToShardCommand:()=>rM,SubscribeToShardEventStream:()=>wy,SubscribeToShardEventStreamFilterSensitiveLog:()=>h5,SubscribeToShardOutputFilterSensitiveLog:()=>yD,TagResourceCommand:()=>nM,UntagResourceCommand:()=>oM,UpdateShardCountCommand:()=>sM,UpdateStreamModeCommand:()=>iM,ValidationException:()=>gD,__Client:()=>m.Client,paginateListStreamConsumers:()=>w7,paginateListStreams:()=>C7,waitForStreamExists:()=>O7,waitForStreamNotExists:()=>R7,waitUntilStreamExists:()=>P7,waitUntilStreamNotExists:()=>T7});uM.exports=YW(eD);var WN=$i(),XW=zi(),QW=Gi(),YN=as(),ZW=Dt(),Cc=(Be(),q(qo)),e5=hC(),t5=Pa(),j=Fr(),XN=ar(),QN=Dh(),r5=f(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"kinesis"}),"resolveClientEndpointParameters"),$={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},n5=HN(),ZN=qa(),by=ie(),m=L(),o5=f(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),s5=f(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),i5=f((e,t)=>{let r=Object.assign((0,ZN.getAwsRegionExtensionConfiguration)(e),(0,m.getDefaultExtensionConfiguration)(e),(0,by.getHttpHandlerExtensionConfiguration)(e),o5(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,ZN.resolveAwsRegionExtensionConfiguration)(r),(0,m.resolveDefaultRuntimeConfig)(r),(0,by.resolveHttpHandlerRuntimeConfig)(r),s5(r))},"resolveRuntimeExtensions"),ni,Sp=(ni=class extends m.Client{constructor(...[r]){let n=(0,n5.getRuntimeConfig)(r||{});super(n);_(this,"config");this.initConfig=n;let o=r5(n),s=(0,YN.resolveUserAgentConfig)(o),i=(0,XN.resolveRetryConfig)(s),a=(0,ZW.resolveRegionConfig)(i),c=(0,WN.resolveHostHeaderConfig)(a),d=(0,j.resolveEndpointConfig)(c),l=(0,e5.resolveEventStreamSerdeConfig)(d),u=(0,QN.resolveHttpAuthSchemeConfig)(l),p=i5(u,r?.extensions||[]);this.config=p,this.middlewareStack.use((0,YN.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,XN.getRetryPlugin)(this.config)),this.middlewareStack.use((0,t5.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,WN.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,XW.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,QW.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Cc.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:QN.defaultKinesisHttpAuthSchemeParametersProvider,identityProviderConfigProvider:f(async h=>new Cc.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Cc.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},f(ni,"KinesisClient"),ni),z=_r(),ee=(ve(),q(It)),uo,we=(uo=class extends m.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,uo.prototype)}},f(uo,"KinesisServiceException"),uo),lo,tD=(lo=class extends we{constructor(r){super({name:"AccessDeniedException",$fault:"client",...r});_(this,"name","AccessDeniedException");_(this,"$fault","client");Object.setPrototypeOf(this,lo.prototype)}},f(lo,"AccessDeniedException"),lo),po,rD=(po=class extends we{constructor(r){super({name:"InvalidArgumentException",$fault:"client",...r});_(this,"name","InvalidArgumentException");_(this,"$fault","client");Object.setPrototypeOf(this,po.prototype)}},f(po,"InvalidArgumentException"),po),fo,nD=(fo=class extends we{constructor(r){super({name:"LimitExceededException",$fault:"client",...r});_(this,"name","LimitExceededException");_(this,"$fault","client");Object.setPrototypeOf(this,fo.prototype)}},f(fo,"LimitExceededException"),fo),mo,oD=(mo=class extends we{constructor(r){super({name:"ResourceInUseException",$fault:"client",...r});_(this,"name","ResourceInUseException");_(this,"$fault","client");Object.setPrototypeOf(this,mo.prototype)}},f(mo,"ResourceInUseException"),mo),ho,sD=(ho=class extends we{constructor(r){super({name:"ResourceNotFoundException",$fault:"client",...r});_(this,"name","ResourceNotFoundException");_(this,"$fault","client");Object.setPrototypeOf(this,ho.prototype)}},f(ho,"ResourceNotFoundException"),ho),a5={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},c5={ON_DEMAND:"ON_DEMAND",PROVISIONED:"PROVISIONED"},d5={KMS:"KMS",NONE:"NONE"},u5={ALL:"ALL",INCOMING_BYTES:"IncomingBytes",INCOMING_RECORDS:"IncomingRecords",ITERATOR_AGE_MILLISECONDS:"IteratorAgeMilliseconds",OUTGOING_BYTES:"OutgoingBytes",OUTGOING_RECORDS:"OutgoingRecords",READ_PROVISIONED_THROUGHPUT_EXCEEDED:"ReadProvisionedThroughputExceeded",WRITE_PROVISIONED_THROUGHPUT_EXCEEDED:"WriteProvisionedThroughputExceeded"},l5={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},go,iD=(go=class extends we{constructor(r){super({name:"ExpiredIteratorException",$fault:"client",...r});_(this,"name","ExpiredIteratorException");_(this,"$fault","client");Object.setPrototypeOf(this,go.prototype)}},f(go,"ExpiredIteratorException"),go),yo,aD=(yo=class extends we{constructor(r){super({name:"ExpiredNextTokenException",$fault:"client",...r});_(this,"name","ExpiredNextTokenException");_(this,"$fault","client");Object.setPrototypeOf(this,yo.prototype)}},f(yo,"ExpiredNextTokenException"),yo),_o,cD=(_o=class extends we{constructor(r){super({name:"InternalFailureException",$fault:"server",...r});_(this,"name","InternalFailureException");_(this,"$fault","server");Object.setPrototypeOf(this,_o.prototype)}},f(_o,"InternalFailureException"),_o),So,dD=(So=class extends we{constructor(r){super({name:"KMSAccessDeniedException",$fault:"client",...r});_(this,"name","KMSAccessDeniedException");_(this,"$fault","client");Object.setPrototypeOf(this,So.prototype)}},f(So,"KMSAccessDeniedException"),So),Eo,uD=(Eo=class extends we{constructor(r){super({name:"KMSDisabledException",$fault:"client",...r});_(this,"name","KMSDisabledException");_(this,"$fault","client");Object.setPrototypeOf(this,Eo.prototype)}},f(Eo,"KMSDisabledException"),Eo),vo,lD=(vo=class extends we{constructor(r){super({name:"KMSInvalidStateException",$fault:"client",...r});_(this,"name","KMSInvalidStateException");_(this,"$fault","client");Object.setPrototypeOf(this,vo.prototype)}},f(vo,"KMSInvalidStateException"),vo),bo,pD=(bo=class extends we{constructor(r){super({name:"KMSNotFoundException",$fault:"client",...r});_(this,"name","KMSNotFoundException");_(this,"$fault","client");Object.setPrototypeOf(this,bo.prototype)}},f(bo,"KMSNotFoundException"),bo),wo,fD=(wo=class extends we{constructor(r){super({name:"KMSOptInRequired",$fault:"client",...r});_(this,"name","KMSOptInRequired");_(this,"$fault","client");Object.setPrototypeOf(this,wo.prototype)}},f(wo,"KMSOptInRequired"),wo),Co,mD=(Co=class extends we{constructor(r){super({name:"KMSThrottlingException",$fault:"client",...r});_(this,"name","KMSThrottlingException");_(this,"$fault","client");Object.setPrototypeOf(this,Co.prototype)}},f(Co,"KMSThrottlingException"),Co),Oo,hD=(Oo=class extends we{constructor(r){super({name:"ProvisionedThroughputExceededException",$fault:"client",...r});_(this,"name","ProvisionedThroughputExceededException");_(this,"$fault","client");Object.setPrototypeOf(this,Oo.prototype)}},f(Oo,"ProvisionedThroughputExceededException"),Oo),p5={AFTER_SEQUENCE_NUMBER:"AFTER_SEQUENCE_NUMBER",AT_SEQUENCE_NUMBER:"AT_SEQUENCE_NUMBER",AT_TIMESTAMP:"AT_TIMESTAMP",LATEST:"LATEST",TRIM_HORIZON:"TRIM_HORIZON"},f5={AFTER_SHARD_ID:"AFTER_SHARD_ID",AT_LATEST:"AT_LATEST",AT_TIMESTAMP:"AT_TIMESTAMP",AT_TRIM_HORIZON:"AT_TRIM_HORIZON",FROM_TIMESTAMP:"FROM_TIMESTAMP",FROM_TRIM_HORIZON:"FROM_TRIM_HORIZON"},Po,gD=(Po=class extends we{constructor(r){super({name:"ValidationException",$fault:"client",...r});_(this,"name","ValidationException");_(this,"$fault","client");Object.setPrototypeOf(this,Po.prototype)}},f(Po,"ValidationException"),Po),wy;(e=>{e.visit=f((t,r)=>t.SubscribeToShardEvent!==void 0?r.SubscribeToShardEvent(t.SubscribeToShardEvent):t.ResourceNotFoundException!==void 0?r.ResourceNotFoundException(t.ResourceNotFoundException):t.ResourceInUseException!==void 0?r.ResourceInUseException(t.ResourceInUseException):t.KMSDisabledException!==void 0?r.KMSDisabledException(t.KMSDisabledException):t.KMSInvalidStateException!==void 0?r.KMSInvalidStateException(t.KMSInvalidStateException):t.KMSAccessDeniedException!==void 0?r.KMSAccessDeniedException(t.KMSAccessDeniedException):t.KMSNotFoundException!==void 0?r.KMSNotFoundException(t.KMSNotFoundException):t.KMSOptInRequired!==void 0?r.KMSOptInRequired(t.KMSOptInRequired):t.KMSThrottlingException!==void 0?r.KMSThrottlingException(t.KMSThrottlingException):t.InternalFailureException!==void 0?r.InternalFailureException(t.InternalFailureException):r._(t.$unknown[0],t.$unknown[1]),"visit")})(wy||(wy={}));var m5={UNIFORM_SCALING:"UNIFORM_SCALING"},h5=f(e=>{if(e.SubscribeToShardEvent!==void 0)return{SubscribeToShardEvent:e.SubscribeToShardEvent};if(e.ResourceNotFoundException!==void 0)return{ResourceNotFoundException:e.ResourceNotFoundException};if(e.ResourceInUseException!==void 0)return{ResourceInUseException:e.ResourceInUseException};if(e.KMSDisabledException!==void 0)return{KMSDisabledException:e.KMSDisabledException};if(e.KMSInvalidStateException!==void 0)return{KMSInvalidStateException:e.KMSInvalidStateException};if(e.KMSAccessDeniedException!==void 0)return{KMSAccessDeniedException:e.KMSAccessDeniedException};if(e.KMSNotFoundException!==void 0)return{KMSNotFoundException:e.KMSNotFoundException};if(e.KMSOptInRequired!==void 0)return{KMSOptInRequired:e.KMSOptInRequired};if(e.KMSThrottlingException!==void 0)return{KMSThrottlingException:e.KMSThrottlingException};if(e.InternalFailureException!==void 0)return{InternalFailureException:e.InternalFailureException};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"SubscribeToShardEventStreamFilterSensitiveLog"),yD=f(e=>({...e,...e.EventStream&&{EventStream:"STREAMING_CONTENT"}}),"SubscribeToShardOutputFilterSensitiveLog"),g5=f(async(e,t)=>{let r=H("AddTagsToStream"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_AddTagsToStreamCommand"),y5=f(async(e,t)=>{let r=H("CreateStream"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_CreateStreamCommand"),_5=f(async(e,t)=>{let r=H("DecreaseStreamRetentionPeriod"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_DecreaseStreamRetentionPeriodCommand"),S5=f(async(e,t)=>{let r=H("DeleteResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),E5=f(async(e,t)=>{let r=H("DeleteStream"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_DeleteStreamCommand"),v5=f(async(e,t)=>{let r=H("DeregisterStreamConsumer"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_DeregisterStreamConsumerCommand"),b5=f(async(e,t)=>{let r=H("DescribeLimits"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_DescribeLimitsCommand"),w5=f(async(e,t)=>{let r=H("DescribeStream"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_DescribeStreamCommand"),C5=f(async(e,t)=>{let r=H("DescribeStreamConsumer"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_DescribeStreamConsumerCommand"),O5=f(async(e,t)=>{let r=H("DescribeStreamSummary"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_DescribeStreamSummaryCommand"),P5=f(async(e,t)=>{let r=H("DisableEnhancedMonitoring"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_DisableEnhancedMonitoringCommand"),R5=f(async(e,t)=>{let r=H("EnableEnhancedMonitoring"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_EnableEnhancedMonitoringCommand"),T5=f(async(e,t)=>{let r=H("GetRecords"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_GetRecordsCommand"),x5=f(async(e,t)=>{let r=H("GetResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),A5=f(async(e,t)=>{let r=H("GetShardIterator"),n;return n=JSON.stringify(Y9(e,t)),K(t,r,"/",void 0,n)},"se_GetShardIteratorCommand"),I5=f(async(e,t)=>{let r=H("IncreaseStreamRetentionPeriod"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_IncreaseStreamRetentionPeriodCommand"),N5=f(async(e,t)=>{let r=H("ListShards"),n;return n=JSON.stringify(X9(e,t)),K(t,r,"/",void 0,n)},"se_ListShardsCommand"),D5=f(async(e,t)=>{let r=H("ListStreamConsumers"),n;return n=JSON.stringify(Q9(e,t)),K(t,r,"/",void 0,n)},"se_ListStreamConsumersCommand"),M5=f(async(e,t)=>{let r=H("ListStreams"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_ListStreamsCommand"),k5=f(async(e,t)=>{let r=H("ListTagsForResource"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),F5=f(async(e,t)=>{let r=H("ListTagsForStream"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_ListTagsForStreamCommand"),U5=f(async(e,t)=>{let r=H("MergeShards"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_MergeShardsCommand"),L5=f(async(e,t)=>{let r=H("PutRecord"),n;return n=JSON.stringify(Z9(e,t)),K(t,r,"/",void 0,n)},"se_PutRecordCommand"),B5=f(async(e,t)=>{let r=H("PutRecords"),n;return n=JSON.stringify(e7(e,t)),K(t,r,"/",void 0,n)},"se_PutRecordsCommand"),j5=f(async(e,t)=>{let r=H("PutResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),H5=f(async(e,t)=>{let r=H("RegisterStreamConsumer"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_RegisterStreamConsumerCommand"),q5=f(async(e,t)=>{let r=H("RemoveTagsFromStream"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_RemoveTagsFromStreamCommand"),$5=f(async(e,t)=>{let r=H("SplitShard"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_SplitShardCommand"),z5=f(async(e,t)=>{let r=H("StartStreamEncryption"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_StartStreamEncryptionCommand"),G5=f(async(e,t)=>{let r=H("StopStreamEncryption"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_StopStreamEncryptionCommand"),K5=f(async(e,t)=>{let r=H("SubscribeToShard"),n;return n=JSON.stringify(s7(e,t)),K(t,r,"/",void 0,n)},"se_SubscribeToShardCommand"),V5=f(async(e,t)=>{let r=H("TagResource"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_TagResourceCommand"),J5=f(async(e,t)=>{let r=H("UntagResource"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_UntagResourceCommand"),W5=f(async(e,t)=>{let r=H("UpdateShardCount"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_UpdateShardCountCommand"),Y5=f(async(e,t)=>{let r=H("UpdateStreamMode"),n;return n=JSON.stringify((0,m._json)(e)),K(t,r,"/",void 0,n)},"se_UpdateStreamModeCommand"),X5=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_AddTagsToStreamCommand"),Q5=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_CreateStreamCommand"),Z5=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_DecreaseStreamRetentionPeriodCommand"),e9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_DeleteResourcePolicyCommand"),t9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_DeleteStreamCommand"),r9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_DeregisterStreamConsumerCommand"),n9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:I(e),...n}},"de_DescribeLimitsCommand"),o9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=d7(r,t),{$metadata:I(e),...n}},"de_DescribeStreamCommand"),s9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=c7(r,t),{$metadata:I(e),...n}},"de_DescribeStreamConsumerCommand"),i9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=u7(r,t),{$metadata:I(e),...n}},"de_DescribeStreamSummaryCommand"),a9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:I(e),...n}},"de_DisableEnhancedMonitoringCommand"),c9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:I(e),...n}},"de_EnableEnhancedMonitoringCommand"),d9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=l7(r,t),{$metadata:I(e),...n}},"de_GetRecordsCommand"),u9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:I(e),...n}},"de_GetResourcePolicyCommand"),l9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:I(e),...n}},"de_GetShardIteratorCommand"),p9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_IncreaseStreamRetentionPeriodCommand"),f9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:I(e),...n}},"de_ListShardsCommand"),m9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=p7(r,t),{$metadata:I(e),...n}},"de_ListStreamConsumersCommand"),h9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=f7(r,t),{$metadata:I(e),...n}},"de_ListStreamsCommand"),g9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:I(e),...n}},"de_ListTagsForResourceCommand"),y9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:I(e),...n}},"de_ListTagsForStreamCommand"),_9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_MergeShardsCommand"),S9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:I(e),...n}},"de_PutRecordCommand"),E9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:I(e),...n}},"de_PutRecordsCommand"),v9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_PutResourcePolicyCommand"),b9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=h7(r,t),{$metadata:I(e),...n}},"de_RegisterStreamConsumerCommand"),w9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_RemoveTagsFromStreamCommand"),C9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_SplitShardCommand"),O9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_StartStreamEncryptionCommand"),P9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_StopStreamEncryptionCommand"),R9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r={EventStream:B9(e.body,t)};return{$metadata:I(e),...r}},"de_SubscribeToShardCommand"),T9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_TagResourceCommand"),x9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_UntagResourceCommand"),A9=f(async(e,t)=>{if(e.statusCode>=300)return G(e,t);let r=await(0,ee.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:I(e),...n}},"de_UpdateShardCountCommand"),I9=f(async(e,t)=>e.statusCode>=300?G(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:I(e)}),"de_UpdateStreamModeCommand"),G=f(async(e,t)=>{let r={...e,body:await(0,ee.parseJsonErrorBody)(e.body,t)},n=(0,ee.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.kinesis#AccessDeniedException":throw await N9(r,t);case"InvalidArgumentException":case"com.amazonaws.kinesis#InvalidArgumentException":throw await k9(r,t);case"LimitExceededException":case"com.amazonaws.kinesis#LimitExceededException":throw await F9(r,t);case"ResourceInUseException":case"com.amazonaws.kinesis#ResourceInUseException":throw await OD(r,t);case"ResourceNotFoundException":case"com.amazonaws.kinesis#ResourceNotFoundException":throw await PD(r,t);case"ExpiredIteratorException":case"com.amazonaws.kinesis#ExpiredIteratorException":throw await D9(r,t);case"InternalFailureException":case"com.amazonaws.kinesis#InternalFailureException":throw await _D(r,t);case"KMSAccessDeniedException":case"com.amazonaws.kinesis#KMSAccessDeniedException":throw await SD(r,t);case"KMSDisabledException":case"com.amazonaws.kinesis#KMSDisabledException":throw await ED(r,t);case"KMSInvalidStateException":case"com.amazonaws.kinesis#KMSInvalidStateException":throw await vD(r,t);case"KMSNotFoundException":case"com.amazonaws.kinesis#KMSNotFoundException":throw await bD(r,t);case"KMSOptInRequired":case"com.amazonaws.kinesis#KMSOptInRequired":throw await wD(r,t);case"KMSThrottlingException":case"com.amazonaws.kinesis#KMSThrottlingException":throw await CD(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.kinesis#ProvisionedThroughputExceededException":throw await U9(r,t);case"ExpiredNextTokenException":case"com.amazonaws.kinesis#ExpiredNextTokenException":throw await M9(r,t);case"ValidationException":case"com.amazonaws.kinesis#ValidationException":throw await L9(r,t);default:let o=r.body;return v7({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),N9=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new tD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_AccessDeniedExceptionRes"),D9=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new iD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ExpiredIteratorExceptionRes"),M9=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new aD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ExpiredNextTokenExceptionRes"),_D=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new cD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InternalFailureExceptionRes"),k9=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new rD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidArgumentExceptionRes"),SD=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new dD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_KMSAccessDeniedExceptionRes"),ED=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new uD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_KMSDisabledExceptionRes"),vD=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new lD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_KMSInvalidStateExceptionRes"),bD=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new pD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_KMSNotFoundExceptionRes"),wD=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new fD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_KMSOptInRequiredRes"),CD=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new mD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_KMSThrottlingExceptionRes"),F9=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new nD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),U9=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new hD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ProvisionedThroughputExceededExceptionRes"),OD=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new oD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ResourceInUseExceptionRes"),PD=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new sD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),L9=f(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new gD({$metadata:I(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ValidationExceptionRes"),B9=f((e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.SubscribeToShardEvent!=null?{SubscribeToShardEvent:await W9(r.SubscribeToShardEvent,t)}:r.ResourceNotFoundException!=null?{ResourceNotFoundException:await J9(r.ResourceNotFoundException,t)}:r.ResourceInUseException!=null?{ResourceInUseException:await V9(r.ResourceInUseException,t)}:r.KMSDisabledException!=null?{KMSDisabledException:await q9(r.KMSDisabledException,t)}:r.KMSInvalidStateException!=null?{KMSInvalidStateException:await $9(r.KMSInvalidStateException,t)}:r.KMSAccessDeniedException!=null?{KMSAccessDeniedException:await H9(r.KMSAccessDeniedException,t)}:r.KMSNotFoundException!=null?{KMSNotFoundException:await z9(r.KMSNotFoundException,t)}:r.KMSOptInRequired!=null?{KMSOptInRequired:await G9(r.KMSOptInRequired,t)}:r.KMSThrottlingException!=null?{KMSThrottlingException:await K9(r.KMSThrottlingException,t)}:r.InternalFailureException!=null?{InternalFailureException:await j9(r.InternalFailureException,t)}:{$unknown:r}),"de_SubscribeToShardEventStream"),j9=f(async(e,t)=>{let r={...e,body:await(0,ee.parseJsonBody)(e.body,t)};return _D(r,t)},"de_InternalFailureException_event"),H9=f(async(e,t)=>{let r={...e,body:await(0,ee.parseJsonBody)(e.body,t)};return SD(r,t)},"de_KMSAccessDeniedException_event"),q9=f(async(e,t)=>{let r={...e,body:await(0,ee.parseJsonBody)(e.body,t)};return ED(r,t)},"de_KMSDisabledException_event"),$9=f(async(e,t)=>{let r={...e,body:await(0,ee.parseJsonBody)(e.body,t)};return vD(r,t)},"de_KMSInvalidStateException_event"),z9=f(async(e,t)=>{let r={...e,body:await(0,ee.parseJsonBody)(e.body,t)};return bD(r,t)},"de_KMSNotFoundException_event"),G9=f(async(e,t)=>{let r={...e,body:await(0,ee.parseJsonBody)(e.body,t)};return wD(r,t)},"de_KMSOptInRequired_event"),K9=f(async(e,t)=>{let r={...e,body:await(0,ee.parseJsonBody)(e.body,t)};return CD(r,t)},"de_KMSThrottlingException_event"),V9=f(async(e,t)=>{let r={...e,body:await(0,ee.parseJsonBody)(e.body,t)};return OD(r,t)},"de_ResourceInUseException_event"),J9=f(async(e,t)=>{let r={...e,body:await(0,ee.parseJsonBody)(e.body,t)};return PD(r,t)},"de_ResourceNotFoundException_event"),W9=f(async(e,t)=>{let r={},n=await(0,ee.parseJsonBody)(e.body,t);return Object.assign(r,E7(n,t)),r},"de_SubscribeToShardEvent_event"),Y9=f((e,t)=>(0,m.take)(e,{ShardId:[],ShardIteratorType:[],StartingSequenceNumber:[],StreamARN:[],StreamName:[],Timestamp:f(r=>r.getTime()/1e3,"Timestamp")}),"se_GetShardIteratorInput"),X9=f((e,t)=>(0,m.take)(e,{ExclusiveStartShardId:[],MaxResults:[],NextToken:[],ShardFilter:f(r=>n7(r,t),"ShardFilter"),StreamARN:[],StreamCreationTimestamp:f(r=>r.getTime()/1e3,"StreamCreationTimestamp"),StreamName:[]}),"se_ListShardsInput"),Q9=f((e,t)=>(0,m.take)(e,{MaxResults:[],NextToken:[],StreamARN:[],StreamCreationTimestamp:f(r=>r.getTime()/1e3,"StreamCreationTimestamp")}),"se_ListStreamConsumersInput"),Z9=f((e,t)=>(0,m.take)(e,{Data:t.base64Encoder,ExplicitHashKey:[],PartitionKey:[],SequenceNumberForOrdering:[],StreamARN:[],StreamName:[]}),"se_PutRecordInput"),e7=f((e,t)=>(0,m.take)(e,{Records:f(r=>r7(r,t),"Records"),StreamARN:[],StreamName:[]}),"se_PutRecordsInput"),t7=f((e,t)=>(0,m.take)(e,{Data:t.base64Encoder,ExplicitHashKey:[],PartitionKey:[]}),"se_PutRecordsRequestEntry"),r7=f((e,t)=>e.filter(r=>r!=null).map(r=>t7(r,t)),"se_PutRecordsRequestEntryList"),n7=f((e,t)=>(0,m.take)(e,{ShardId:[],Timestamp:f(r=>r.getTime()/1e3,"Timestamp"),Type:[]}),"se_ShardFilter"),o7=f((e,t)=>(0,m.take)(e,{SequenceNumber:[],Timestamp:f(r=>r.getTime()/1e3,"Timestamp"),Type:[]}),"se_StartingPosition"),s7=f((e,t)=>(0,m.take)(e,{ConsumerARN:[],ShardId:[],StartingPosition:f(r=>o7(r,t),"StartingPosition")}),"se_SubscribeToShardInput"),RD=f((e,t)=>(0,m.take)(e,{ConsumerARN:m.expectString,ConsumerCreationTimestamp:f(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ConsumerCreationTimestamp"),ConsumerName:m.expectString,ConsumerStatus:m.expectString}),"de_Consumer"),i7=f((e,t)=>(0,m.take)(e,{ConsumerARN:m.expectString,ConsumerCreationTimestamp:f(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ConsumerCreationTimestamp"),ConsumerName:m.expectString,ConsumerStatus:m.expectString,StreamARN:m.expectString}),"de_ConsumerDescription"),a7=f((e,t)=>(e||[]).filter(n=>n!=null).map(n=>RD(n,t)),"de_ConsumerList"),c7=f((e,t)=>(0,m.take)(e,{ConsumerDescription:f(r=>i7(r,t),"ConsumerDescription")}),"de_DescribeStreamConsumerOutput"),d7=f((e,t)=>(0,m.take)(e,{StreamDescription:f(r=>g7(r,t),"StreamDescription")}),"de_DescribeStreamOutput"),u7=f((e,t)=>(0,m.take)(e,{StreamDescriptionSummary:f(r=>y7(r,t),"StreamDescriptionSummary")}),"de_DescribeStreamSummaryOutput"),l7=f((e,t)=>(0,m.take)(e,{ChildShards:m._json,MillisBehindLatest:m.expectLong,NextShardIterator:m.expectString,Records:f(r=>TD(r,t),"Records")}),"de_GetRecordsOutput"),p7=f((e,t)=>(0,m.take)(e,{Consumers:f(r=>a7(r,t),"Consumers"),NextToken:m.expectString}),"de_ListStreamConsumersOutput"),f7=f((e,t)=>(0,m.take)(e,{HasMoreStreams:m.expectBoolean,NextToken:m.expectString,StreamNames:m._json,StreamSummaries:f(r=>S7(r,t),"StreamSummaries")}),"de_ListStreamsOutput"),m7=f((e,t)=>(0,m.take)(e,{ApproximateArrivalTimestamp:f(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ApproximateArrivalTimestamp"),Data:t.base64Decoder,EncryptionType:m.expectString,PartitionKey:m.expectString,SequenceNumber:m.expectString}),"de__Record"),TD=f((e,t)=>(e||[]).filter(n=>n!=null).map(n=>m7(n,t)),"de_RecordList"),h7=f((e,t)=>(0,m.take)(e,{Consumer:f(r=>RD(r,t),"Consumer")}),"de_RegisterStreamConsumerOutput"),g7=f((e,t)=>(0,m.take)(e,{EncryptionType:m.expectString,EnhancedMonitoring:m._json,HasMoreShards:m.expectBoolean,KeyId:m.expectString,RetentionPeriodHours:m.expectInt32,Shards:m._json,StreamARN:m.expectString,StreamCreationTimestamp:f(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StreamCreationTimestamp"),StreamModeDetails:m._json,StreamName:m.expectString,StreamStatus:m.expectString}),"de_StreamDescription"),y7=f((e,t)=>(0,m.take)(e,{ConsumerCount:m.expectInt32,EncryptionType:m.expectString,EnhancedMonitoring:m._json,KeyId:m.expectString,OpenShardCount:m.expectInt32,RetentionPeriodHours:m.expectInt32,StreamARN:m.expectString,StreamCreationTimestamp:f(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StreamCreationTimestamp"),StreamModeDetails:m._json,StreamName:m.expectString,StreamStatus:m.expectString}),"de_StreamDescriptionSummary"),_7=f((e,t)=>(0,m.take)(e,{StreamARN:m.expectString,StreamCreationTimestamp:f(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StreamCreationTimestamp"),StreamModeDetails:m._json,StreamName:m.expectString,StreamStatus:m.expectString}),"de_StreamSummary"),S7=f((e,t)=>(e||[]).filter(n=>n!=null).map(n=>_7(n,t)),"de_StreamSummaryList"),E7=f((e,t)=>(0,m.take)(e,{ChildShards:m._json,ContinuationSequenceNumber:m.expectString,MillisBehindLatest:m.expectLong,Records:f(r=>TD(r,t),"Records")}),"de_SubscribeToShardEvent"),I=f(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),v7=(0,m.withBaseException)(we),K=f(async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new by.HttpRequest(d)},"buildHttpRpcRequest");function H(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`Kinesis_20131202.${e}`}}f(H,"sharedHeaders");var oi,xD=(oi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","AddTagsToStream",{}).n("KinesisClient","AddTagsToStreamCommand").f(void 0,void 0).ser(g5).de(X5).build(){},f(oi,"AddTagsToStreamCommand"),oi),si,AD=(si=class extends m.Command.classBuilder().ep($).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","CreateStream",{}).n("KinesisClient","CreateStreamCommand").f(void 0,void 0).ser(y5).de(Q5).build(){},f(si,"CreateStreamCommand"),si),ii,ID=(ii=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","DecreaseStreamRetentionPeriod",{}).n("KinesisClient","DecreaseStreamRetentionPeriodCommand").f(void 0,void 0).ser(_5).de(Z5).build(){},f(ii,"DecreaseStreamRetentionPeriodCommand"),ii),ai,ND=(ai=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},ResourceARN:{type:"contextParams",name:"ResourceARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","DeleteResourcePolicy",{}).n("KinesisClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(S5).de(e9).build(){},f(ai,"DeleteResourcePolicyCommand"),ai),ci,DD=(ci=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","DeleteStream",{}).n("KinesisClient","DeleteStreamCommand").f(void 0,void 0).ser(E5).de(t9).build(){},f(ci,"DeleteStreamCommand"),ci),di,MD=(di=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},ConsumerARN:{type:"contextParams",name:"ConsumerARN"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","DeregisterStreamConsumer",{}).n("KinesisClient","DeregisterStreamConsumerCommand").f(void 0,void 0).ser(v5).de(r9).build(){},f(di,"DeregisterStreamConsumerCommand"),di),ui,kD=(ui=class extends m.Command.classBuilder().ep($).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","DescribeLimits",{}).n("KinesisClient","DescribeLimitsCommand").f(void 0,void 0).ser(b5).de(n9).build(){},f(ui,"DescribeLimitsCommand"),ui),li,Ep=(li=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","DescribeStream",{}).n("KinesisClient","DescribeStreamCommand").f(void 0,void 0).ser(w5).de(o9).build(){},f(li,"DescribeStreamCommand"),li),pi,FD=(pi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},ConsumerARN:{type:"contextParams",name:"ConsumerARN"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","DescribeStreamConsumer",{}).n("KinesisClient","DescribeStreamConsumerCommand").f(void 0,void 0).ser(C5).de(s9).build(){},f(pi,"DescribeStreamConsumerCommand"),pi),fi,UD=(fi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","DescribeStreamSummary",{}).n("KinesisClient","DescribeStreamSummaryCommand").f(void 0,void 0).ser(O5).de(i9).build(){},f(fi,"DescribeStreamSummaryCommand"),fi),mi,LD=(mi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","DisableEnhancedMonitoring",{}).n("KinesisClient","DisableEnhancedMonitoringCommand").f(void 0,void 0).ser(P5).de(a9).build(){},f(mi,"DisableEnhancedMonitoringCommand"),mi),hi,BD=(hi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","EnableEnhancedMonitoring",{}).n("KinesisClient","EnableEnhancedMonitoringCommand").f(void 0,void 0).ser(R5).de(c9).build(){},f(hi,"EnableEnhancedMonitoringCommand"),hi),gi,jD=(gi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"data"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","GetRecords",{}).n("KinesisClient","GetRecordsCommand").f(void 0,void 0).ser(T5).de(d9).build(){},f(gi,"GetRecordsCommand"),gi),yi,HD=(yi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},ResourceARN:{type:"contextParams",name:"ResourceARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","GetResourcePolicy",{}).n("KinesisClient","GetResourcePolicyCommand").f(void 0,void 0).ser(x5).de(u9).build(){},f(yi,"GetResourcePolicyCommand"),yi),_i,qD=(_i=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"data"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","GetShardIterator",{}).n("KinesisClient","GetShardIteratorCommand").f(void 0,void 0).ser(A5).de(l9).build(){},f(_i,"GetShardIteratorCommand"),_i),Si,$D=(Si=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","IncreaseStreamRetentionPeriod",{}).n("KinesisClient","IncreaseStreamRetentionPeriodCommand").f(void 0,void 0).ser(I5).de(p9).build(){},f(Si,"IncreaseStreamRetentionPeriodCommand"),Si),Ei,zD=(Ei=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","ListShards",{}).n("KinesisClient","ListShardsCommand").f(void 0,void 0).ser(N5).de(f9).build(){},f(Ei,"ListShardsCommand"),Ei),vi,Cy=(vi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","ListStreamConsumers",{}).n("KinesisClient","ListStreamConsumersCommand").f(void 0,void 0).ser(D5).de(m9).build(){},f(vi,"ListStreamConsumersCommand"),vi),bi,Oy=(bi=class extends m.Command.classBuilder().ep($).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","ListStreams",{}).n("KinesisClient","ListStreamsCommand").f(void 0,void 0).ser(M5).de(h9).build(){},f(bi,"ListStreamsCommand"),bi),wi,GD=(wi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},ResourceARN:{type:"contextParams",name:"ResourceARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","ListTagsForResource",{}).n("KinesisClient","ListTagsForResourceCommand").f(void 0,void 0).ser(k5).de(g9).build(){},f(wi,"ListTagsForResourceCommand"),wi),Ci,KD=(Ci=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","ListTagsForStream",{}).n("KinesisClient","ListTagsForStreamCommand").f(void 0,void 0).ser(F5).de(y9).build(){},f(Ci,"ListTagsForStreamCommand"),Ci),Oi,VD=(Oi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","MergeShards",{}).n("KinesisClient","MergeShardsCommand").f(void 0,void 0).ser(U5).de(_9).build(){},f(Oi,"MergeShardsCommand"),Oi),Pi,JD=(Pi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"data"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","PutRecord",{}).n("KinesisClient","PutRecordCommand").f(void 0,void 0).ser(L5).de(S9).build(){},f(Pi,"PutRecordCommand"),Pi),Ri,WD=(Ri=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"data"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","PutRecords",{}).n("KinesisClient","PutRecordsCommand").f(void 0,void 0).ser(B5).de(E9).build(){},f(Ri,"PutRecordsCommand"),Ri),Ti,YD=(Ti=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},ResourceARN:{type:"contextParams",name:"ResourceARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","PutResourcePolicy",{}).n("KinesisClient","PutResourcePolicyCommand").f(void 0,void 0).ser(j5).de(v9).build(){},f(Ti,"PutResourcePolicyCommand"),Ti),xi,XD=(xi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","RegisterStreamConsumer",{}).n("KinesisClient","RegisterStreamConsumerCommand").f(void 0,void 0).ser(H5).de(b9).build(){},f(xi,"RegisterStreamConsumerCommand"),xi),Ai,QD=(Ai=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","RemoveTagsFromStream",{}).n("KinesisClient","RemoveTagsFromStreamCommand").f(void 0,void 0).ser(q5).de(w9).build(){},f(Ai,"RemoveTagsFromStreamCommand"),Ai),Ii,ZD=(Ii=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","SplitShard",{}).n("KinesisClient","SplitShardCommand").f(void 0,void 0).ser($5).de(C9).build(){},f(Ii,"SplitShardCommand"),Ii),Ni,eM=(Ni=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","StartStreamEncryption",{}).n("KinesisClient","StartStreamEncryptionCommand").f(void 0,void 0).ser(z5).de(O9).build(){},f(Ni,"StartStreamEncryptionCommand"),Ni),Di,tM=(Di=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","StopStreamEncryption",{}).n("KinesisClient","StopStreamEncryptionCommand").f(void 0,void 0).ser(G5).de(P9).build(){},f(Di,"StopStreamEncryptionCommand"),Di),Mi,rM=(Mi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"data"},ConsumerARN:{type:"contextParams",name:"ConsumerARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","SubscribeToShard",{eventStream:{output:!0}}).n("KinesisClient","SubscribeToShardCommand").f(void 0,yD).ser(K5).de(R9).build(){},f(Mi,"SubscribeToShardCommand"),Mi),ki,nM=(ki=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},ResourceARN:{type:"contextParams",name:"ResourceARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","TagResource",{}).n("KinesisClient","TagResourceCommand").f(void 0,void 0).ser(V5).de(T9).build(){},f(ki,"TagResourceCommand"),ki),Fi,oM=(Fi=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},ResourceARN:{type:"contextParams",name:"ResourceARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","UntagResource",{}).n("KinesisClient","UntagResourceCommand").f(void 0,void 0).ser(J5).de(x9).build(){},f(Fi,"UntagResourceCommand"),Fi),Ui,sM=(Ui=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","UpdateShardCount",{}).n("KinesisClient","UpdateShardCountCommand").f(void 0,void 0).ser(W5).de(A9).build(){},f(Ui,"UpdateShardCountCommand"),Ui),Li,iM=(Li=class extends m.Command.classBuilder().ep({...$,OperationType:{type:"staticContextParams",value:"control"},StreamARN:{type:"contextParams",name:"StreamARN"}}).m(function(t,r,n,o){return[(0,z.getSerdePlugin)(n,this.serialize,this.deserialize),(0,j.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Kinesis_20131202","UpdateStreamMode",{}).n("KinesisClient","UpdateStreamModeCommand").f(void 0,void 0).ser(Y5).de(I9).build(){},f(Li,"UpdateStreamModeCommand"),Li),b7={AddTagsToStreamCommand:xD,CreateStreamCommand:AD,DecreaseStreamRetentionPeriodCommand:ID,DeleteResourcePolicyCommand:ND,DeleteStreamCommand:DD,DeregisterStreamConsumerCommand:MD,DescribeLimitsCommand:kD,DescribeStreamCommand:Ep,DescribeStreamConsumerCommand:FD,DescribeStreamSummaryCommand:UD,DisableEnhancedMonitoringCommand:LD,EnableEnhancedMonitoringCommand:BD,GetRecordsCommand:jD,GetResourcePolicyCommand:HD,GetShardIteratorCommand:qD,IncreaseStreamRetentionPeriodCommand:$D,ListShardsCommand:zD,ListStreamConsumersCommand:Cy,ListStreamsCommand:Oy,ListTagsForResourceCommand:GD,ListTagsForStreamCommand:KD,MergeShardsCommand:VD,PutRecordCommand:JD,PutRecordsCommand:WD,PutResourcePolicyCommand:YD,RegisterStreamConsumerCommand:XD,RemoveTagsFromStreamCommand:QD,SplitShardCommand:ZD,StartStreamEncryptionCommand:eM,StopStreamEncryptionCommand:tM,SubscribeToShardCommand:rM,TagResourceCommand:nM,UntagResourceCommand:oM,UpdateShardCountCommand:sM,UpdateStreamModeCommand:iM},Bi,aM=(Bi=class extends Sp{},f(Bi,"Kinesis"),Bi);(0,m.createAggregatedClient)(b7,aM);var w7=(0,Cc.createPaginator)(Sp,Cy,"NextToken","NextToken","MaxResults"),C7=(0,Cc.createPaginator)(Sp,Oy,"NextToken","NextToken","Limit"),zt=JN(),cM=f(async(e,t)=>{let r;try{let n=await e.send(new Ep(t));r=n;try{if(f(()=>n.StreamDescription.StreamStatus,"returnComparator")()==="ACTIVE")return{state:zt.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){r=n}return{state:zt.WaiterState.RETRY,reason:r}},"checkState"),O7=f(async(e,t)=>{let r={minDelay:10,maxDelay:120};return(0,zt.createWaiter)({...r,...e},t,cM)},"waitForStreamExists"),P7=f(async(e,t)=>{let r={minDelay:10,maxDelay:120},n=await(0,zt.createWaiter)({...r,...e},t,cM);return(0,zt.checkExceptions)(n)},"waitUntilStreamExists"),dM=f(async(e,t)=>{let r;try{r=await e.send(new Ep(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:zt.WaiterState.SUCCESS,reason:r}}return{state:zt.WaiterState.RETRY,reason:r}},"checkState"),R7=f(async(e,t)=>{let r={minDelay:10,maxDelay:120};return(0,zt.createWaiter)({...r,...e},t,dM)},"waitForStreamNotExists"),T7=f(async(e,t)=>{let r={minDelay:10,maxDelay:120},n=await(0,zt.createWaiter)({...r,...e},t,dM);return(0,zt.checkExceptions)(n)},"waitUntilStreamNotExists")});var j7={};pt(j7,{lambdaHandler:()=>A7});module.exports=q(j7);var bp=b(K_());var vp=b(lM()),x7=new vp.KinesisClient({region:process.env.AWS_REGION});function pM(e){if(!e.detail)throw new Error("Invalid EventBridge event: missing detail");return e}function Py(e){return e.eventType==="run_intent"&&e.runId&&e.agentId&&e.orgId}function fM(e){return e.eventType==="resume_intent"&&e.runId&&e.agentId&&e.orgId&&e.hilResponse}async function Oc(e){let t=process.env.KINESIS_STREAM_NAME;if(!t)throw new Error("KINESIS_STREAM_NAME environment variable not set");let r=new TextEncoder().encode(JSON.stringify(e)),n=new vp.PutRecordCommand({StreamName:t,Data:r,PartitionKey:e.runId});try{await x7.send(n),console.log(`Published event to Kinesis: ${e.eventType} for run ${e.runId}`)}catch(o){throw console.error("Failed to publish to Kinesis:",o),o}}function Pc(e,t,r,n,o,s,i){return{eventType:e,runId:t,agentId:r,orgId:n,timestamp:new Date().toISOString(),status:o,data:s,error:i}}function mM(){return{nodeEnv:process.env.NODE_ENV||"dev",agentsCoreApiUrl:process.env.AGENTS_CORE_API_URL,connectHubApiUrl:process.env.CONNECT_HUB_API_URL,kinesisStreamName:process.env.KINESIS_STREAM_NAME}}function hM(e,t){throw console.error(`Error in ${t}:`,e),e}var A7=async(e,t)=>{console.log("MainAgentExecutor lambda triggered:",JSON.stringify(e,null,2));try{let r=pM(e),{detail:n}=r,o=mM();if(!o.connectHubApiUrl)throw new Error("CONNECT_HUB_API_URL environment variable not set");let s;if(Py(n))s=n;else if(fM(n))s=n;else throw new Error(`Unsupported event type: ${n.eventType}`);if(!s.agentMetadata)throw new Error("Missing agent metadata in enriched event");let i=new bp.Configuration({basePath:o.connectHubApiUrl}),a=new bp.CapabilitiesApi(i);await F7(s),console.log(`Executing agent workflow for run: ${s.runId}`);let c=await I7(s,a);c.hilRequired?await L7(s,c.hilPrompt):await U7(s,c),console.log(`Successfully executed agent workflow for run: ${s.runId}`)}catch(r){console.error("Error in MainAgentExecutor:",r),e?.detail?.runId&&await B7(e.detail,r),hM(r,"MainAgentExecutor")}};async function I7(e,t){let{agentMetadata:r}=e;return console.log(`Executing agent: ${r.name} (${r.type})`),Py(e)?await N7(e,t):await D7(e,t)}async function N7(e,t){let{payload:r,agentMetadata:n}=e;console.log("Starting new agent execution with payload:",r),console.log("Agent capabilities:",n.capabilities);let o={runId:e.runId,agentId:e.agentId,status:"completed",output:`Agent ${n.name} processed the request successfully`,capabilities_used:n.capabilities,executionTime:2e3,completedAt:new Date().toISOString()};return n.type==="digital_employee"?await M7(r,n):await k7(r,n),console.log("Agent execution result:",o),o}async function D7(e,t){let{hilResponse:r,agentMetadata:n}=e;console.log("Resuming agent execution with HIL response:",r);let o={runId:e.runId,agentId:e.agentId,status:"completed",output:`Agent ${n.name} resumed and completed with HIL response`,hilResponse:r.userResponses,resumedAt:new Date().toISOString()};return console.log("Agent resume result:",o),await new Promise(s=>setTimeout(s,1e3)),o}async function M7(e,t){console.log("Simulating digital employee execution..."),t.capabilities.includes("email_processing")&&(console.log("Processing email..."),await new Promise(r=>setTimeout(r,1500))),t.capabilities.includes("knowledge_retrieval")&&(console.log("Retrieving knowledge..."),await new Promise(r=>setTimeout(r,1e3)))}async function k7(e,t){console.log("Simulating workflow execution...");let r=e.steps||3;for(let n=1;n<=r;n++)console.log(`Executing workflow step ${n}/${r}`),await new Promise(o=>setTimeout(o,500))}async function F7(e){let t=Pc("agent_run_started",e.runId,e.agentId,e.orgId,"started",{agentType:e.agentMetadata.type,agentName:e.agentMetadata.name,eventType:e.eventType});await Oc(t)}async function U7(e,t){let r=Pc("agent_run_completed",e.runId,e.agentId,e.orgId,"completed",{agentType:e.agentMetadata.type,agentName:e.agentMetadata.name,result:t});await Oc(r)}async function L7(e,t){let r=Pc("agent_hil_requested",e.runId,e.agentId,e.orgId,"hil_requested",{agentType:e.agentMetadata.type,agentName:e.agentMetadata.name,hilPrompt:t});await Oc(r)}async function B7(e,t){try{let r=Pc("agent_run_failed",e.runId||"unknown",e.agentId||"unknown",e.orgId||"unknown","failed",{agentType:e.agentMetadata?.type||"unknown",agentName:e.agentMetadata?.name||"unknown"},t.message||String(t));await Oc(r)}catch(r){console.error("Failed to publish failure event:",r)}}0&&(module.exports={lambdaHandler});
//# sourceMappingURL=handler.js.map
